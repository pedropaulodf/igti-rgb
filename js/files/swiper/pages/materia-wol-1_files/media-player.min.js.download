/*! @meps/media-player 2021-09-30 v1.6.0 */

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).MediaPlayer=e()}}(function(){return function i(a,o,l){function u(t,e){if(!o[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var s=o[t]={exports:{}};a[t][0].call(s.exports,function(e){return u(a[t][1][e]||e)},s,s.exports,i,a,o,l)}return o[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,r){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.default=t.exports,t.exports.__esModule=!0},{}],2:[function(e,t,r){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(e){return typeof e}:t.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.default=t.exports,t.exports.__esModule=!0,n(e)}e("core-js/modules/es.symbol.js"),e("core-js/modules/es.symbol.description.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.symbol.iterator.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.string.iterator.js"),e("core-js/modules/web.dom-collections.iterator.js"),t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},{"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.string.iterator.js":235,"core-js/modules/es.symbol.description.js":242,"core-js/modules/es.symbol.iterator.js":243,"core-js/modules/es.symbol.js":244,"core-js/modules/web.dom-collections.iterator.js":276}],3:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/typeof");e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.split.js"),e("core-js/modules/es.array.for-each.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.array.index-of.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.promise.js");var n,s=e("./lib/find"),a=e("./lib/reject");n={_ensureListenersHashExists:function(){this._eventListeners||(this._eventListeners={})},on:function(e,t,r){var n;if("string"!=typeof e)throw new Error("the eventNames parameter must be a string, but was: "+i(e));if("function"!=typeof t)throw new Error("the listener parameter must be a function, but was: "+i(t));return(n=e.split(" ")).forEach(function(e){this._removeEventListener(e,t,r)}.bind(this)),n.forEach(function(e){this._addEventListener(e,t,r)}.bind(this)),this},_addEventListener:function(e,t,r,n){this._ensureListenersHashExists(),this._eventListeners[e]=this._eventListeners[e]||[],this._findEventListener(e,t,r)||this._eventListeners[e].push({callback:"function"==typeof n?n:t,listener:t,context:r})},_findEventListener:function(e,t,r){return s(this._eventListeners[e],function(e){return e.listener===t&&e.context===r})},once:function(t,r,n){var e,s=this;if("string"!=typeof t)throw new Error("the eventName parameter must be a string, but was: "+i(t));if(-1!==t.indexOf(" "))throw new Error("The eventName parameter cannot contain the name of more than one event and so it should not contain a space. The eventName parameter was: "+t);if("function"!=typeof r)throw new Error("the listener parameter must be a function, but was: "+i(r));return e=function(){var e=Array.prototype.slice.call(arguments);s._findEventListener(t,r,n)&&(r.apply(this,e),s._removeEventListener(t,r,n))},this._addEventListener(t,r,n,e),this},off:function(e,t,r){return e?e.split(" ").forEach(function(e){this._removeEventListener(e,t,r)}.bind(this)):this._eventListeners={},this},_removeEventListener:function(e,t,r){this._ensureListenersHashExists(),this._eventListeners[e]=t?a(this._eventListeners[e],function(e){return e.listener===t&&("undefined"==typeof r||e.context===r)}):[]},emit:function(e){var t=Array.prototype.slice.apply(arguments).slice(1);if("string"!=typeof e)throw new Error("the eventNames parameter must be a string, but was: "+i(e));return e.split(" ").forEach(function(e){this._emitEvent(e,t)}.bind(this)),this},_emitEvent:function(e,t){this._ensureListenersHashExists(),this._eventListeners[e]&&this._eventListeners[e].forEach(function(e){Promise.resolve().then(function(){e.callback.apply(e.context,t)})})}},t.exports=n},{"./lib/find":4,"./lib/reject":5,"@babel/runtime/helpers/typeof":2,"core-js/modules/es.array.for-each.js":199,"core-js/modules/es.array.index-of.js":200,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.promise.js":230,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.string.split.js":240,"core-js/modules/web.dom-collections.for-each.js":275}],4:[function(e,t,r){"use strict";t.exports=function(e,t){var r;if(Array.isArray(e)&&t&&"function"==typeof t)for(r=0;r<e.length;r++)if(t(e[r]))return e[r]}},{}],5:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter.js"),t.exports=function(e,t){var r=e||[];return Array.isArray(r)&&"function"==typeof t?r.filter(function(e){return!t(e)}):[]}},{"core-js/modules/es.array.filter.js":196}],6:[function(Mu,Nu,e){(function(Uu){(function(){var r=Mu("@babel/runtime/helpers/typeof");function e(e){return e&&"object"===r(e)&&"default"in e?e.default:e}Mu("core-js/modules/es.regexp.constructor.js"),Mu("core-js/modules/es.regexp.exec.js"),Mu("core-js/modules/es.regexp.to-string.js"),Mu("core-js/modules/es.array.concat.js"),Mu("core-js/modules/es.symbol.js"),Mu("core-js/modules/es.symbol.description.js"),Mu("core-js/modules/es.object.to-string.js"),Mu("core-js/modules/es.symbol.iterator.js"),Mu("core-js/modules/es.array.iterator.js"),Mu("core-js/modules/es.string.iterator.js"),Mu("core-js/modules/web.dom-collections.iterator.js"),Mu("core-js/modules/es.object.set-prototype-of.js"),Mu("core-js/modules/es.object.keys.js"),Mu("core-js/modules/es.array.for-each.js"),Mu("core-js/modules/web.dom-collections.for-each.js"),Mu("core-js/modules/es.array.reduce.js"),Mu("core-js/modules/es.object.assign.js"),Mu("core-js/modules/es.object.get-own-property-names.js"),Mu("core-js/modules/es.array.index-of.js"),Mu("core-js/modules/es.string.trim.js"),Mu("core-js/modules/es.array.join.js"),Mu("core-js/modules/es.array.filter.js"),Mu("core-js/modules/es.string.split.js"),Mu("core-js/modules/es.function.name.js"),Mu("core-js/modules/es.parse-float.js"),Mu("core-js/modules/es.array.map.js"),Mu("core-js/modules/es.object.freeze.js"),Mu("core-js/modules/es.array.slice.js"),Mu("core-js/modules/es.array.splice.js"),Mu("core-js/modules/es.map.js"),Mu("core-js/modules/es.array.every.js"),Mu("core-js/modules/es.string.replace.js"),Mu("core-js/modules/es.array.some.js"),Mu("core-js/modules/es.parse-int.js"),Mu("core-js/modules/es.string.match.js"),Mu("core-js/modules/es.array.fill.js"),Mu("core-js/modules/es.array.reduce-right.js"),Mu("core-js/modules/es.number.to-fixed.js"),Mu("core-js/modules/es.number.constructor.js"),Mu("core-js/modules/es.object.get-own-property-descriptor.js"),Mu("core-js/modules/es.date.to-json.js"),Mu("core-js/modules/web.url.to-json.js"),Mu("core-js/modules/es.object.get-prototype-of.js"),Mu("core-js/modules/es.array-buffer.is-view.js"),Mu("core-js/modules/es.array-buffer.constructor.js"),Mu("core-js/modules/es.array-buffer.slice.js"),Mu("core-js/modules/es.array.sort.js"),Mu("core-js/modules/web.url.js"),Mu("core-js/modules/es.typed-array.uint8-array.js"),Mu("core-js/modules/es.typed-array.copy-within.js"),Mu("core-js/modules/es.typed-array.every.js"),Mu("core-js/modules/es.typed-array.fill.js"),Mu("core-js/modules/es.typed-array.filter.js"),Mu("core-js/modules/es.typed-array.find.js"),Mu("core-js/modules/es.typed-array.find-index.js"),Mu("core-js/modules/es.typed-array.for-each.js"),Mu("core-js/modules/es.typed-array.includes.js"),Mu("core-js/modules/es.typed-array.index-of.js"),Mu("core-js/modules/es.typed-array.iterator.js"),Mu("core-js/modules/es.typed-array.join.js"),Mu("core-js/modules/es.typed-array.last-index-of.js"),Mu("core-js/modules/es.typed-array.map.js"),Mu("core-js/modules/es.typed-array.reduce.js"),Mu("core-js/modules/es.typed-array.reduce-right.js"),Mu("core-js/modules/es.typed-array.reverse.js"),Mu("core-js/modules/es.typed-array.set.js"),Mu("core-js/modules/es.typed-array.slice.js"),Mu("core-js/modules/es.typed-array.some.js"),Mu("core-js/modules/es.typed-array.sort.js"),Mu("core-js/modules/es.typed-array.subarray.js"),Mu("core-js/modules/es.typed-array.to-locale-string.js"),Mu("core-js/modules/es.typed-array.to-string.js"),Mu("core-js/modules/es.data-view.js"),Mu("core-js/modules/es.regexp.flags.js"),Mu("core-js/modules/es.array.reverse.js"),Mu("core-js/modules/es.typed-array.uint32-array.js"),Mu("core-js/modules/es.typed-array.uint16-array.js"),Mu("core-js/modules/es.typed-array.int32-array.js");function n(e,t){var r=m.levels[v],n=new RegExp("^("+r+")$");if("log"!==e&&t.unshift(e.toUpperCase()+":"),b&&b.push([].concat(t)),t.unshift("VIDEOJS:"),y.console){var s=y.console[e];s||"debug"!==e||(s=y.console.info||y.console.log),s&&r&&n.test(e)&&s[Array.isArray(t)?"apply":"call"](y.console,t)}}var y=e(Mu("global/window")),c=e(Mu("global/document")),d=e(Mu("tsml")),u=e(Mu("xhr")),s=e(Mu("videojs-vtt.js")),p=e(Mu("safe-json-parse/tuple")),i=e(Mu("url-toolkit")),a=Mu("m3u8-parser"),o=Mu("mpd-parser"),g=e(Mu("mux.js/lib/mp4/probe")),l=Mu("mux.js/lib/mp4"),t=e(Mu("mux.js/lib/tools/ts-inspector.js")),h=Mu("aes-decrypter"),f="7.2.0-2",m=void 0,v="info",b=[];(m=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n("log",t)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:v},m.level=function(e){if("string"==typeof e){if(!m.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');v=e}return v},m.history=function(){return b?[].concat(b):[]},m.history.clear=function(){b&&(b.length=0)},m.history.disable=function(){null!==b&&(b.length=0,b=null)},m.history.enable=function(){null===b&&(b=[])},m.error=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("error",t)},m.warn=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("warn",t)},m.debug=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("debug",t)};function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t}function S(e,t){return e.raw=t,e}var w=m,Ct="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},E=Object.prototype.toString,k=function(e){return A(e)?Object.keys(e):[]};function x(t,r){k(t).forEach(function(e){return r(t[e],e)})}function C(r){for(var e=arguments.length,t=Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return Object.assign?Object.assign.apply(Object,[r].concat(t)):(t.forEach(function(e){e&&x(e,function(e,t){r[t]=e})}),r)}function A(e){return!!e&&"object"===("undefined"==typeof e?"undefined":Ct(e))}function I(e){return A(e)&&"[object Object]"===E.call(e)&&e.constructor===Object}function P(e,t){if(!e||!t)return"";if("function"!=typeof y.getComputedStyle)return"";var r=y.getComputedStyle(e);return r?r[t]:""}var L=S(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function O(e){return"string"==typeof e&&/\S/.test(e)}function R(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function D(){return c===y.document}function U(e){return A(e)&&1===e.nodeType}function M(){try{return y.parent!==y.self}catch(e){return!0}}function N(n){return function(e,t){if(!O(e))return c[n](null);O(t)&&(t=c.querySelector(t));var r=U(t)?t:c;return r[n]&&r[n](e)}}function B(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],s=c.createElement(e);return Object.getOwnPropertyNames(r).forEach(function(e){var t=r[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(w.warn(d(L,e,t)),s.setAttribute(e,t)):"textContent"===e?F(s,t):s[e]=t}),Object.getOwnPropertyNames(t).forEach(function(e){s.setAttribute(e,t[e])}),n&&ie(s,n),s}function F(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function H(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function q(e,t){return R(t),e.classList?e.classList.contains(t):new RegExp("(^|\\s)"+t+"($|\\s)").test(e.className)}function V(e,t){return e.classList?e.classList.add(t):q(e,t)||(e.className=(e.className+" "+t).trim()),e}function G(e,t){return e.classList?e.classList.remove(t):(R(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function z(e,t,r){var n=q(e,t);if("function"==typeof r&&(r=r(e,t)),"boolean"!=typeof r&&(r=!n),r!==n)return r?V(e,t):G(e,t),e}function W(r,n){Object.getOwnPropertyNames(n).forEach(function(e){var t=n[e];null===t||"undefined"==typeof t||!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})}function Y(e){var t={},r=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&0<e.attributes.length)for(var n=e.attributes,s=n.length-1;0<=s;s--){var i=n[s].name,a=n[s].value;"boolean"!=typeof e[i]&&-1===r.indexOf(","+i+",")||(a=null!==a),t[i]=a}return t}function X(e,t){return e.getAttribute(t)}function K(e,t,r){e.setAttribute(t,r)}function $(e,t){e.removeAttribute(t)}function Q(){c.body.focus(),c.onselectstart=function(){return!1}}function J(){c.onselectstart=function(){return!0}}function Z(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),r.height||(r.height=parseFloat(P(e,"height"))),r.width||(r.width=parseFloat(P(e,"width"))),r}}function ee(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var r=c.documentElement,n=c.body,s=r.clientLeft||n.clientLeft||0,i=y.pageXOffset||n.scrollLeft,a=t.left+i-s,o=r.clientTop||n.clientTop||0,l=y.pageYOffset||n.scrollTop,u=t.top+l-o;return{left:Math.round(a),top:Math.round(u)}}function te(e,t){var r={},n=ee(e),s=e.offsetWidth,i=e.offsetHeight,a=n.top,o=n.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),r.y=Math.max(0,Math.min(1,(a-l+i)/i)),r.x=Math.max(0,Math.min(1,(u-o)/s)),r}function re(e){return A(e)&&3===e.nodeType}function ne(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function se(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),U(e)||re(e)?e:"string"==typeof e&&/\S/.test(e)?c.createTextNode(e):void 0}).filter(function(e){return e})}function ie(t,e){return se(e).forEach(function(e){return t.appendChild(e)}),t}function ae(e,t){return ie(ne(e),t)}function oe(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||0===e.button&&1===e.buttons)}var le=N("querySelector"),ue=N("querySelectorAll"),ce=Object.freeze({isReal:D,isEl:U,isInFrame:M,createEl:B,textContent:F,prependTo:H,hasClass:q,addClass:V,removeClass:G,toggleClass:z,setAttributes:W,getAttributes:Y,getAttribute:X,setAttribute:K,removeAttribute:$,blockTextSelection:Q,unblockTextSelection:J,getBoundingClientRect:Z,findPosition:ee,getPointerPosition:te,isTextNode:re,emptyEl:ne,normalizeContent:se,appendContent:ie,insertContent:ae,isSingleLeftClick:oe,$:le,$$:ue}),de=1;function pe(){return de++}var he={},fe="vdata"+(new Date).getTime();function me(e){var t=e[fe];return t=t||(e[fe]=pe()),he[t]||(he[t]={}),he[t]}function ye(e){var t=e[fe];return!!t&&!!Object.getOwnPropertyNames(he[t]).length}function ge(t){var e=t[fe];if(e){delete he[e];try{delete t[fe]}catch(e){t.removeAttribute?t.removeAttribute(fe):t[fe]=null}}}function ve(e,t){var r=me(e);0===r.handlers[t].length&&(delete r.handlers[t],e.removeEventListener?e.removeEventListener(t,r.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),0===Object.getOwnPropertyNames(r).length&&ge(e)}function be(t,r,e,n){e.forEach(function(e){t(r,e,n)})}function _e(e){function t(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped){var n=e||y.event;for(var s in e={},n)"layerX"!==s&&"layerY"!==s&&"keyLocation"!==s&&"webkitMovementX"!==s&&"webkitMovementY"!==s&&("returnValue"===s&&n.preventDefault||(e[s]=n[s]));if(e.target||(e.target=e.srcElement||c),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!==e.clientX&&void 0!==e.clientX){var i=c.documentElement,a=c.body;e.pageX=e.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var je=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){je=!0}});y.addEventListener("test",null,e),y.removeEventListener("test",null,e)}catch(e){}}();var Te=["touchstart","touchmove"];function Se(a,e,t){if(Array.isArray(e))return be(Se,a,e,t);var o=me(a);if(o.handlers||(o.handlers={}),o.handlers[e]||(o.handlers[e]=[]),t.guid||(t.guid=pe()),o.handlers[e].push(t),o.dispatcher||(o.disabled=!1,o.dispatcher=function(e,t){if(!o.disabled){e=_e(e);var r=o.handlers[e.type];if(r)for(var n=r.slice(0),s=0,i=n.length;s<i&&!e.isImmediatePropagationStopped();s++)try{n[s].call(a,e,t)}catch(e){w.error(e)}}}),1===o.handlers[e].length)if(a.addEventListener){var r=!1;je&&-1<Te.indexOf(e)&&(r={passive:!0}),a.addEventListener(e,o.dispatcher,r)}else a.attachEvent&&a.attachEvent("on"+e,o.dispatcher)}function we(e,t,r){if(ye(e)){var n=me(e);if(n.handlers){if(Array.isArray(t))return be(we,e,t,r);function s(e,t){n.handlers[t]=[],ve(e,t)}if(void 0!==t){var i=n.handlers[t];if(i)if(r){if(r.guid)for(var a=0;a<i.length;a++)i[a].guid===r.guid&&i.splice(a--,1);ve(e,t)}else s(e,t)}else for(var o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&s(e,o)}}}function Ee(e,t,r){var n=ye(e)?me(e):{},s=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=_e(t),n.dispatcher&&n.dispatcher.call(e,t,r),s&&!t.isPropagationStopped()&&!0===t.bubbles)Ee.call(null,s,t,r);else if(!s&&!t.defaultPrevented){var i=me(t.target);t.target[t.type]&&(i.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),i.disabled=!1)}return!t.defaultPrevented}function ke(e,t,r){if(Array.isArray(t))return be(ke,e,t,r);function n(){we(e,t,n),r.apply(this,arguments)}n.guid=r.guid=r.guid||pe(),Se(e,t,n)}var xe=Object.freeze({fixEvent:_e,on:Se,off:we,trigger:Ee,one:ke}),Ce=!1,Ae=void 0,Ie=function(){if(D()&&!1!==Ae.options.autoSetup){var e=Array.prototype.slice.call(c.getElementsByTagName("video")),t=Array.prototype.slice.call(c.getElementsByTagName("audio")),r=Array.prototype.slice.call(c.getElementsByTagName("video-js")),n=e.concat(t,r);if(n&&0<n.length)for(var s=0,i=n.length;s<i;s++){var a=n[s];if(!a||!a.getAttribute){Pe(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&Ae(a)}else Ce||Pe(1)}};function Pe(e,t){t&&(Ae=t),y.setTimeout(Ie,e)}D()&&"complete"===c.readyState?Ce=!0:ke(y,"load",function(){Ce=!0});function Le(e){var t=c.createElement("style");return t.className=e,t}function Oe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}function Re(e,t,r){function n(){return t.apply(e,arguments)}return t.guid||(t.guid=pe()),n.guid=r?r+"_"+t.guid:t.guid,n}function De(t,r){var n=Date.now();return function(){var e=Date.now();r<=e-n&&(t.apply(void 0,arguments),n=e)}}function Ue(){}Ue.prototype.allowedEvents_={},Ue.prototype.addEventListener=Ue.prototype.on=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},Se(this,e,t),this.addEventListener=r},Ue.prototype.removeEventListener=Ue.prototype.off=function(e,t){we(this,e,t)},Ue.prototype.one=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},ke(this,e,t),this.addEventListener=r},Ue.prototype.dispatchEvent=Ue.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=_e(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Ee(this,e)};var Me=void 0;Ue.prototype.queueTrigger=function(e){var t=this;Me=Me||new Map;var r=e.type||e,n=Me.get(this);n||(n=new Map,Me.set(this,n));var s=n.get(r);n.delete(r),y.clearTimeout(s);var i=y.setTimeout(function(){0===n.size&&(n=null,Me.delete(t)),t.trigger(e)},0);n.set(r,i)};function Ne(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length}function Be(e){if(!e.nodeName&&!Ge(e))throw new Error("Invalid target; must be a DOM node or evented object.")}function Fe(e){if(!Ne(e))throw new Error("Invalid event type; must be a non-empty string or array.")}function He(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")}function qe(e,t){var r=t.length<3||t[0]===e||t[0]===e.eventBusEl_,n=void 0,s=void 0,i=void 0;return i=r?(n=e.eventBusEl_,3<=t.length&&t.shift(),s=t[0],t[1]):(n=t[0],s=t[1],t[2]),Be(n),Fe(s),He(i),{isTargetingSelf:r,target:n,type:s,listener:i=Re(e,i)}}function Ve(e,t,r,n){Be(e),e.nodeName?xe[t](e,r,n):e[t](r,n)}var Ge=function(t){return t instanceof Ue||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},ze={on:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=qe(this,r),i=s.isTargetingSelf,a=s.target,o=s.type,l=s.listener;if(Ve(a,"on",o,l),!i){function u(){return e.off(a,o,l)}u.guid=l.guid;function c(){return e.off("dispose",u)}c.guid=l.guid,Ve(this,"on","dispose",u),Ve(a,"on","dispose",c)}},one:function(){for(var n=this,e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=qe(this,t),i=s.isTargetingSelf,a=s.target,o=s.type,l=s.listener;if(i)Ve(a,"one",o,l);else{function u(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.off(a,o,u),l.apply(null,t)}u.guid=l.guid,Ve(a,"one",o,u)}},off:function(e,t,r){if(!e||Ne(e))we(this.eventBusEl_,e,t);else{var n=e,s=t;Be(n),Fe(s),He(r),r=Re(this,r),this.off("dispose",r),n.nodeName?(we(n,s,r),we(n,"dispose",r)):Ge(n)&&(n.off(s,r),n.off("dispose",r))}},trigger:function(e,t){return Ee(this.eventBusEl_,e,t)}};function We(e,t){var r=(1<arguments.length&&void 0!==t?t:{}).eventBusKey;if(r){if(!e[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');e.eventBusEl_=e[r]}else e.eventBusEl_=B("span",{className:"vjs-event-bus"});return C(e,ze),e.on("dispose",function(){e.off(),y.setTimeout(function(){e.eventBusEl_=null},0)}),e}var Ye={state:{},setState:function(e){var r=this;"function"==typeof e&&(e=e());var n=void 0;return x(e,function(e,t){r.state[t]!==e&&((n=n||{})[t]={from:r.state[t],to:e}),r.state[t]=e}),n&&Ge(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function Xe(e,t){return C(e,Ye),e.state=C({},e.state,t),"function"==typeof e.handleStateChanged&&Ge(e)&&e.on("statechanged",e.handleStateChanged),e}function Ke(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function $e(){for(var r={},e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(function(e){e&&x(e,function(e,t){I(e)?(I(r[t])||(r[t]={}),r[t]=$e(r[t],e)):r[t]=e})}),r}var Qe=(Je.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ge(this.el_),this.el_=null),this.player_=null},Je.prototype.player=function(){return this.player_},Je.prototype.options=function(e){return w.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e&&(this.options_=$e(this.options_,e)),this.options_},Je.prototype.el=function(){return this.el_},Je.prototype.createEl=function(e,t,r){return B(e,t,r)},Je.prototype.localize=function(e,s,t){var r=2<arguments.length&&void 0!==t?t:e,n=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),a=i&&i[n],o=n&&n.split("-")[0],l=i&&i[o],u=r;return a&&a[e]?u=a[e]:l&&l[e]&&(u=l[e]),s&&(u=u.replace(/\{(\d+)\}/g,function(e,t){var r=s[t-1],n=r;return"undefined"==typeof r&&(n=e),n})),u},Je.prototype.contentEl=function(){return this.contentEl_||this.el_},Je.prototype.id=function(){return this.id_},Je.prototype.name=function(){return this.name_},Je.prototype.children=function(){return this.children_},Je.prototype.getChildById=function(e){return this.childIndex_[e]},Je.prototype.getChild=function(e){if(e)return e=Ke(e),this.childNameIndex_[e]},Je.prototype.addChild=function(e,t,r){var n=1<arguments.length&&void 0!==t?t:{},s=2<arguments.length&&void 0!==r?r:this.children_.length,i=void 0,a=void 0;if("string"==typeof e){a=Ke(e);var o=n.componentClass||a;n.name=a;var l=Je.getComponent(o);if(!l)throw new Error("Component "+o+" does not exist");if("function"!=typeof l)return null;i=new l(this.player_||this,n)}else i=e;if(this.children_.splice(s,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(a=a||i.name&&Ke(i.name()))&&(this.childNameIndex_[a]=i),"function"==typeof i.el&&i.el()){var u=this.contentEl().children[s]||null;this.contentEl().insertBefore(i.el(),u)}return i},Je.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,r=this.children_.length-1;0<=r;r--)if(this.children_[r]===e){t=!0,this.children_.splice(r,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},Je.prototype.initChildren=function(){var s=this,n=this.options_.children;if(n){var i=this.options_,e=void 0,r=Je.getComponent("Tech");(e=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t=void 0,r=void 0;return r="string"==typeof e?n[t=e]||s.options_[t]||{}:(t=e.name,e),{name:t,opts:r}}).filter(function(e){var t=Je.getComponent(e.opts.componentClass||Ke(e.name));return t&&!r.isTech(t)}).forEach(function(e){var t=e.name,r=e.opts;if(void 0!==i[t]&&(r=i[t]),!1!==r){!0===r&&(r={}),r.playerOptions=s.options_.playerOptions;var n=s.addChild(t,r);n&&(s[t]=n)}})}},Je.prototype.buildCSSClass=function(){return""},Je.prototype.ready=function(e,t){var r=1<arguments.length&&void 0!==t&&t;if(e)return this.isReady_?void(r?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},Je.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},Je.prototype.$=function(e,t){return le(e,t||this.contentEl())},Je.prototype.$$=function(e,t){return ue(e,t||this.contentEl())},Je.prototype.hasClass=function(e){return q(this.el_,e)},Je.prototype.addClass=function(e){V(this.el_,e)},Je.prototype.removeClass=function(e){G(this.el_,e)},Je.prototype.toggleClass=function(e,t){z(this.el_,e,t)},Je.prototype.show=function(){this.removeClass("vjs-hidden")},Je.prototype.hide=function(){this.addClass("vjs-hidden")},Je.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},Je.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},Je.prototype.getAttribute=function(e){return X(this.el_,e)},Je.prototype.setAttribute=function(e,t){K(this.el_,e,t)},Je.prototype.removeAttribute=function(e){$(this.el_,e)},Je.prototype.width=function(e,t){return this.dimension("width",e,t)},Je.prototype.height=function(e,t){return this.dimension("height",e,t)},Je.prototype.dimensions=function(e,t){this.width(e,!0),this.height(t)},Je.prototype.dimension=function(e,t,r){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(r||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[e],s=n.indexOf("px");return-1!==s?parseInt(n.slice(0,s),10):parseInt(this.el_["offset"+Ke(e)],10)},Je.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof y.getComputedStyle){var r=y.getComputedStyle(this.el_);t=r.getPropertyValue(e)||r[e]}if(0===(t=parseFloat(t))){var n="offset"+Ke(e);t=this.el_[n]}return t},Je.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},Je.prototype.currentWidth=function(){return this.currentDimension("width")},Je.prototype.currentHeight=function(){return this.currentDimension("height")},Je.prototype.focus=function(){this.el_.focus()},Je.prototype.blur=function(){this.el_.blur()},Je.prototype.emitTapEvents=function(){var t=0,n=null,s=void 0;function e(){s=!1}this.on("touchstart",function(e){1===e.touches.length&&(n={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),s=!0)}),this.on("touchmove",function(e){if(1<e.touches.length)s=!1;else if(n){var t=e.touches[0].pageX-n.pageX,r=e.touches[0].pageY-n.pageY;10<Math.sqrt(t*t+r*r)&&(s=!1)}}),this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(n=null)===s&&(new Date).getTime()-t<200&&(e.preventDefault(),this.trigger("tap"))})},Je.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=Re(this.player(),this.player().reportUserActivity),t=void 0;function r(){e(),this.clearInterval(t)}this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}),this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}},Je.prototype.setTimeout=function(e,t){var r,n,s=this;return e=Re(this,e),r=y.setTimeout(function(){s.off("dispose",n),e()},t),(n=function(){return s.clearTimeout(r)}).guid="vjs-timeout-"+r,this.on("dispose",n),r},Je.prototype.clearTimeout=function(e){function t(){}return y.clearTimeout(e),t.guid="vjs-timeout-"+e,this.off("dispose",t),e},Je.prototype.setInterval=function(e,t){var r=this;function n(){return r.clearInterval(s)}e=Re(this,e);var s=y.setInterval(e,t);return n.guid="vjs-interval-"+s,this.on("dispose",n),s},Je.prototype.clearInterval=function(e){function t(){}return y.clearInterval(e),t.guid="vjs-interval-"+e,this.off("dispose",t),e},Je.prototype.requestAnimationFrame=function(e){var t,r,n=this;return this.supportsRaf_?(e=Re(this,e),t=y.requestAnimationFrame(function(){n.off("dispose",r),e()}),(r=function(){return n.cancelAnimationFrame(t)}).guid="vjs-raf-"+t,this.on("dispose",r),t):this.setTimeout(e,1e3/60)},Je.prototype.cancelAnimationFrame=function(e){if(this.supportsRaf_){function t(){}return y.cancelAnimationFrame(e),t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},Je.registerComponent=function(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var r=Je.getComponent("Tech"),n=r&&r.isTech(t),s=Je===t||Je.prototype.isPrototypeOf(t.prototype);if(n||!s){var i=void 0;throw i=n?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+i+".")}e=Ke(e),Je.components_||(Je.components_={});var a=Je.getComponent("Player");if("Player"===e&&a&&a.players){var o=a.players,l=Object.keys(o);if(o&&0<l.length&&l.map(function(e){return o[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Je.components_[e]=t},Je.getComponent=function(e){if(e)return e=Ke(e),Je.components_&&Je.components_[e]?Je.components_[e]:void 0},Je);function Je(e,t,r){if(_(this,Je),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=$e({},this.options_),t=this.options_=$e(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var n=e&&e.id&&e.id()||"no_player";this.id_=n+"_component_"+pe()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&We(this,{eventBusKey:this.el_?"el_":null}),Xe(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==t.initChildren&&this.initChildren(),this.ready(r),!1!==t.reportTouchActivity&&this.enableTouchActivity()}Qe.prototype.supportsRaf_="function"==typeof y.requestAnimationFrame&&"function"==typeof y.cancelAnimationFrame,Qe.registerComponent("Component",Qe);var Ze,et,tt,rt,nt=y.navigator&&y.navigator.userAgent||"",st=/AppleWebKit\/([\d.]+)/i.exec(nt),it=st?parseFloat(st.pop()):null,at=/iPad/i.test(nt),ot=/iPhone/i.test(nt)&&!at,lt=/iPod/i.test(nt),ut=ot||at||lt,ct=(Ze=nt.match(/OS (\d+)_/i))&&Ze[1]?Ze[1]:null,dt=/Android/i.test(nt),pt=function(){var e=nt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return t&&r?parseFloat(e[1]+"."+e[2]):t||null}(),ht=dt&&pt<5&&it<537,ft=/Firefox/i.test(nt),mt=/Edge/i.test(nt),yt=!mt&&(/Chrome/i.test(nt)||/CriOS/i.test(nt)),gt=(et=nt.match(/(Chrome|CriOS)\/(\d+)/))&&et[2]?parseFloat(et[2]):null,vt=(tt=/MSIE\s(\d+)\.\d/.exec(nt),!(rt=tt&&parseFloat(tt[1]))&&/Trident\/7.0/i.test(nt)&&/rv:11.0/.test(nt)&&(rt=11),rt),bt=/Safari/i.test(nt)&&!yt&&!dt&&!mt,_t=(bt||ut)&&!yt,jt=D()&&("ontouchstart"in y||y.navigator.maxTouchPoints||y.DocumentTouch&&y.document instanceof y.DocumentTouch),Tt=Object.freeze({IS_IPAD:at,IS_IPHONE:ot,IS_IPOD:lt,IS_IOS:ut,IOS_VERSION:ct,IS_ANDROID:dt,ANDROID_VERSION:pt,IS_NATIVE_ANDROID:ht,IS_FIREFOX:ft,IS_EDGE:mt,IS_CHROME:yt,CHROME_VERSION:gt,IE_VERSION:vt,IS_SAFARI:bt,IS_ANY_SAFARI:_t,TOUCH_ENABLED:jt});function St(e,t,r,n){return function(e,t,r){if("number"!=typeof t||t<0||r<t)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+r+").")}(e,n,r.length-1),r[n][t]}function wt(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:St.bind(null,"start",0,e),end:St.bind(null,"end",1,e)}}function Et(e,t){return Array.isArray(e)?wt(e):void 0===e||void 0===t?wt():wt([[e,t]])}function kt(e,t){var r=0,n=void 0,s=void 0;if(!t)return 0;e&&e.length||(e=Et(0,0));for(var i=0;i<e.length;i++)n=e.start(i),t<(s=e.end(i))&&(s=t),r+=s-n;return r/t}for(var xt={},At=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],It=At[0],Pt=void 0,Lt=0;Lt<At.length;Lt++)if(At[Lt][1]in c){Pt=At[Lt];break}if(Pt)for(var Ot=0;Ot<Pt.length;Ot++)xt[It[Ot]]=Pt[Ot];function Rt(e){if(e instanceof Rt)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:A(e)&&("number"==typeof e.code&&(this.code=e.code),C(this,e)),this.message||(this.message=Rt.defaultMessages[this.code]||"")}Rt.prototype.code=0,Rt.prototype.message="",Rt.prototype.status=null,Rt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Rt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Dt=0;Dt<Rt.errorTypes.length;Dt++)Rt[Rt.errorTypes[Dt]]=Dt,Rt.prototype[Rt.errorTypes[Dt]]=Dt;function Ut(e){return null!=e&&"function"==typeof e.then}function Mt(e){Ut(e)&&e.then(null,function(e){})}function Nt(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t,r){return n[t]&&(e[t]=n[t]),e},{cues:n.cues&&Array.prototype.map.call(n.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})}var Bt,Ft=function(e){var t=e.$$("track"),r=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=Nt(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===r.indexOf(e)}).map(Nt))},Ht=function(e,r){return e.forEach(function(e){var t=r.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),r.textTracks()},qt="vjs-modal-dialog",Vt=(j(Gt,Bt=Qe),Gt.prototype.createEl=function(){return Bt.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},Gt.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,Bt.prototype.dispose.call(this)},Gt.prototype.buildCSSClass=function(){return qt+" vjs-hidden "+Bt.prototype.buildCSSClass.call(this)},Gt.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},Gt.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},Gt.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},Gt.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",Re(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},Gt.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},Gt.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",Re(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},Gt.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,r=this.getChild("closeButton");if(t&&!r){var n=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(r,"close",this.close)}!t&&r&&(this.off(r,"close",this.close),this.removeChild(r),r.dispose())}return this.closeable_},Gt.prototype.fill=function(){this.fillWith(this.content())},Gt.prototype.fillWith=function(e){var t=this.contentEl(),r=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(t),this.empty(),ae(t,e),this.trigger("modalfill"),n?r.insertBefore(t,n):r.appendChild(t);var s=this.getChild("closeButton");s&&r.appendChild(s.el_)},Gt.prototype.empty=function(){this.trigger("beforemodalempty"),ne(this.contentEl()),this.trigger("modalempty")},Gt.prototype.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},Gt.prototype.conditionalFocus_=function(){var e=c.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,!t.contains(e)&&t!==e||(this.previouslyActiveEl_=e,this.focus(),this.on(c,"keydown",this.handleKeyDown))},Gt.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(c,"keydown",this.handleKeyDown)},Gt.prototype.handleKeyDown=function(e){if(9===e.which){for(var t=this.focusableEls_(),r=this.el_.querySelector(":focus"),n=void 0,s=0;s<t.length;s++)if(r===t[s]){n=s;break}c.activeElement===this.el_&&(n=0),e.shiftKey&&0===n?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||n!==t.length-1||(t[0].focus(),e.preventDefault())}},Gt.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof y.HTMLAnchorElement||e instanceof y.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof y.HTMLInputElement||e instanceof y.HTMLSelectElement||e instanceof y.HTMLTextAreaElement||e instanceof y.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof y.HTMLIFrameElement||e instanceof y.HTMLObjectElement||e instanceof y.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},Gt);function Gt(e,t){_(this,Gt);var r=T(this,Bt.call(this,e,t));return r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=B("div",{className:qt+"-content"},{role:"document"}),r.descEl_=B("p",{className:qt+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),F(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}Vt.prototype.options_={pauseOnOpen:!0,temporary:!0},Qe.registerComponent("ModalDialog",Vt);var zt,Wt=(j(Yt,zt=Ue),Yt.prototype.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},Yt.prototype.removeTrack=function(e){for(var t=void 0,r=0,n=this.length;r<n;r++)if(this[r]===e){(t=this[r]).off&&t.off(),this.tracks_.splice(r,1);break}t&&this.trigger({track:t,type:"removetrack"})},Yt.prototype.getTrackById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var s=this[r];if(s.id===e){t=s;break}}return t},Yt);function Yt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_(this,Yt);var t=T(this,zt.call(this));t.tracks_=[],Object.defineProperty(t,"length",{get:function(){return this.tracks_.length}});for(var r=0;r<e.length;r++)t.addTrack(e[r]);return t}for(var Xt in Wt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Wt.prototype.allowedEvents_)Wt.prototype["on"+Xt]=null;function Kt(e,t){for(var r=0;r<e.length;r++)Object.keys(e[r]).length&&t.id!==e[r].id&&(e[r].enabled=!1)}var $t,Qt=(j(Jt,$t=Wt),Jt.prototype.addTrack=function(e){var t=this;e.enabled&&Kt(this,e),$t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){t.changing_||(t.changing_=!0,Kt(t,e),t.changing_=!1,t.trigger("change"))})},Jt);function Jt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_(this,Jt);for(var t=e.length-1;0<=t;t--)if(e[t].enabled){Kt(e,e[t]);break}var r=T(this,$t.call(this,e));return r.changing_=!1,r}function Zt(e,t){for(var r=0;r<e.length;r++)Object.keys(e[r]).length&&t.id!==e[r].id&&(e[r].selected=!1)}var er,tr=(j(rr,er=Wt),rr.prototype.addTrack=function(e){var t=this;e.selected&&Zt(this,e),er.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){t.changing_||(t.changing_=!0,Zt(t,e),t.changing_=!1,t.trigger("change"))})},rr);function rr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_(this,rr);for(var t=e.length-1;0<=t;t--)if(e[t].selected){Zt(e,e[t]);break}var r=T(this,er.call(this,e));return r.changing_=!1,Object.defineProperty(r,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),r}var nr,sr=(j(ir,nr=Wt),ir.prototype.addTrack=function(e){nr.prototype.addTrack.call(this,e),e.addEventListener("modechange",Re(this,function(){this.queueTrigger("change")})),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",Re(this,function(){this.trigger("selectedlanguagechange")}))},ir);function ir(){return _(this,ir),T(this,nr.apply(this,arguments))}var ar=(or.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},or.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r].track){t=this.trackElements_[r];break}return t},or.prototype.removeTrackElement_=function(e){for(var t=0,r=this.trackElements_.length;t<r;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},or);function or(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_(this,or),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,r=e.length;t<r;t++)this.addTrackElement_(e[t])}var lr=(ur.prototype.setCues_=function(e){var t=this.length||0,r=0,n=e.length;function s(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})}if(this.cues_=e,this.length_=e.length,t<n)for(r=t;r<n;r++)s.call(this,r)},ur.prototype.getCueById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var s=this[r];if(s.id===e){t=s;break}}return t},ur);function ur(e){_(this,ur),ur.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var cr,dr={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},pr={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},hr={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},fr={disabled:"disabled",hidden:"hidden",showing:"showing"},mr=(j(yr,cr=Ue),yr);function yr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_(this,yr);function t(e){Object.defineProperty(r,e,{get:function(){return n[e]},set:function(){}})}var r=T(this,cr.call(this)),n={id:e.id||"vjs_track_"+pe(),kind:e.kind||"",label:e.label||"",language:e.language||""};for(var s in n)t(s);return r}function gr(e){var t=["protocol","hostname","port","pathname","search","hash","host"],r=c.createElement("a");r.href=e;var n=""===r.host&&"file:"!==r.protocol,s=void 0;n&&((s=c.createElement("div")).innerHTML='<a href="'+e+'"></a>',r=s.firstChild,s.setAttribute("style","display:none; position:absolute;"),c.body.appendChild(s));for(var i={},a=0;a<t.length;a++)i[t[a]]=r[t[a]];return"http:"===i.protocol&&(i.host=i.host.replace(/:80$/,"")),"https:"===i.protocol&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=y.location.protocol),n&&c.body.removeChild(s),i}function vr(e){if(!e.match(/^https?:\/\//)){var t=c.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e}function br(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""}function _r(e){var t=y.location,r=gr(e);return(":"===r.protocol?t.protocol:r.protocol)+r.host!==t.protocol+t.host}function jr(e,t){var r=new y.WebVTT.Parser(y,y.vttjs,y.WebVTT.StringDecoder()),n=[];r.oncue=function(e){t.addCue(e)},r.onparsingerror=function(e){n.push(e)},r.onflush=function(){t.trigger({type:"loadeddata",target:t})},r.parse(e),0<n.length&&(y.console&&y.console.groupCollapsed&&y.console.groupCollapsed("Text Track parsing errors for "+t.src),n.forEach(function(e){return w.error(e)}),y.console&&y.console.groupEnd&&y.console.groupEnd()),r.flush()}var Tr,Sr=Object.freeze({parseUrl:gr,getAbsoluteURL:vr,getFileExtension:br,isCrossOrigin:_r}),wr=(j(Er,Tr=mr),Er.prototype.addCue=function(e){var t=e;if(y.vttjs&&!(e instanceof y.vttjs.VTTCue)){for(var r in t=new y.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)r in t||(t[r]=e[r]);t.id=e.id,t.originalCue_=e}for(var n=this.tech_.textTracks(),s=0;s<n.length;s++)n[s]!==this&&n[s].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},Er.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var r=this.cues_[t];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},Er);function Er(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(_(this,Er),!e.tech)throw new Error("A tech was not provided.");var t=$e(e,{kind:hr[e.kind]||"subtitles",language:e.language||e.srclang||""}),r=fr[t.mode]||"disabled",n=t.default;"metadata"!==t.kind&&"chapters"!==t.kind||(r="hidden");var s=T(this,Tr.call(this,t));s.tech_=t.tech,s.cues_=[],s.activeCues_=[];var i=new lr(s.cues_),a=new lr(s.activeCues_),o=!1,l=Re(s,function(){this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1)});return"disabled"!==r&&s.tech_.ready(function(){s.tech_.on("timeupdate",l)},!0),Object.defineProperties(s,{default:{get:function(){return n},set:function(){}},mode:{get:function(){return r},set:function(e){var t=this;fr[e]&&("showing"===(r=e)&&this.tech_.ready(function(){t.tech_.on("timeupdate",l)},!0),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?i:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return a;for(var e=this.tech_.currentTime(),t=[],r=0,n=this.cues.length;r<n;r++){var s=this.cues[r];s.startTime<=e&&s.endTime>=e?t.push(s):s.startTime===s.endTime&&s.startTime<=e&&s.startTime+.5>=e&&t.push(s)}if(o=!1,t.length!==this.activeCues_.length)o=!0;else for(var i=0;i<t.length;i++)-1===this.activeCues_.indexOf(t[i])&&(o=!0);return this.activeCues_=t,a.setCues_(this.activeCues_),a},set:function(){}}}),t.src?(s.src=t.src,function(e,s){var t={uri:e},r=_r(e);r&&(t.cors=r),u(t,Re(this,function(e,t,r){if(e)return w.error(e,t);if(s.loaded_=!0,"function"!=typeof y.WebVTT){if(s.tech_){function n(){return jr(r,s)}s.tech_.on("vttjsloaded",n),s.tech_.on("vttjserror",function(){w.error("vttjs failed to load, stopping trying to process "+s.src),s.tech_.off("vttjsloaded",n)})}}else jr(r,s)}))}(t.src,s)):s.loaded_=!0,s}wr.prototype.allowedEvents_={cuechange:"cuechange"};var kr,xr=(j(Cr,kr=mr),Cr);function Cr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_(this,Cr);var t=$e(e,{kind:pr[e.kind]||""}),r=T(this,kr.call(this,t)),n=!1;return Object.defineProperty(r,"enabled",{get:function(){return n},set:function(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("enabledchange"))}}),t.enabled&&(r.enabled=t.enabled),r.loaded_=!0,r}var Ar,Ir=(j(Pr,Ar=mr),Pr);function Pr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_(this,Pr);var t=$e(e,{kind:dr[e.kind]||""}),r=T(this,Ar.call(this,t)),n=!1;return Object.defineProperty(r,"selected",{get:function(){return n},set:function(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("selectedchange"))}}),t.selected&&(r.selected=t.selected),r}var Lr,Or=(j(Rr,Lr=Ue),Rr);function Rr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_(this,Rr);var t=T(this,Lr.call(this)),r=void 0,n=new wr(e);return t.kind=n.kind,t.src=n.src,t.srclang=n.language,t.label=n.label,t.default=n.default,Object.defineProperties(t,{readyState:{get:function(){return r}},track:{get:function(){return n}}}),r=0,n.addEventListener("loadeddata",function(){r=2,t.trigger({type:"load",target:t})}),t}Or.prototype.allowedEvents_={load:"load"},Or.NONE=0,Or.LOADING=1,Or.LOADED=2,Or.ERROR=3;var Dr={audio:{ListClass:Qt,TrackClass:xr,capitalName:"Audio"},video:{ListClass:tr,TrackClass:Ir,capitalName:"Video"},text:{ListClass:sr,TrackClass:wr,capitalName:"Text"}};Object.keys(Dr).forEach(function(e){Dr[e].getterName=e+"Tracks",Dr[e].privateName=e+"Tracks_"});var Ur={remoteText:{ListClass:sr,TrackClass:wr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:ar,TrackClass:Or,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Mr=$e(Dr,Ur);Ur.names=Object.keys(Ur),Dr.names=Object.keys(Dr),Mr.names=[].concat(Ur.names).concat(Dr.names);var Nr,Br=(j(Fr,Nr=Qe),Fr.prototype.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},Fr.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},Fr.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},Fr.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Re(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},Fr.prototype.onDurationChange=function(){this.duration_=this.duration()},Fr.prototype.buffered=function(){return Et(0,0)},Fr.prototype.bufferedPercent=function(){return kt(this.buffered(),this.duration_)},Fr.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},Fr.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},Fr.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},Fr.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},Fr.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Fr.prototype.dispose=function(){this.clearTracks(Dr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),Nr.prototype.dispose.call(this)},Fr.prototype.clearTracks=function(e){var s=this;(e=[].concat(e)).forEach(function(e){for(var t=s[e+"Tracks"]()||[],r=t.length;r--;){var n=t[r];"text"===e&&s.removeRemoteTextTrack(n),t.removeTrack(n)}})},Fr.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var r=e[t];this.removeRemoteTextTrack(r)}},Fr.prototype.reset=function(){},Fr.prototype.error=function(e){return void 0!==e&&(this.error_=new Rt(e),this.trigger("error")),this.error_},Fr.prototype.played=function(){return this.hasStarted_?Et(0,0):Et()},Fr.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Fr.prototype.initTrackListeners=function(){var s=this;Dr.names.forEach(function(e){function t(){s.trigger(e+"trackchange")}var r=Dr[e],n=s[r.getterName]();n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),s.on("dispose",function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)})})},Fr.prototype.addWebVttScript_=function(){var e=this;if(!y.WebVTT)if(c.body.contains(this.el())){if(!this.options_["vtt.js"]&&I(s)&&0<Object.keys(s).length)return void this.trigger("vttjsloaded");var t=c.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),y.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},Fr.prototype.emulateTextTracks=function(){function t(e){return n.addTrack(e.track)}function r(e){return n.removeTrack(e.track)}var e=this,n=this.textTracks(),s=this.remoteTextTracks();function i(){return e.trigger("texttrackchange")}function a(){i();for(var e=0;e<n.length;e++){var t=n[e];t.removeEventListener("cuechange",i),"showing"===t.mode&&t.addEventListener("cuechange",i)}}s.on("addtrack",t),s.on("removetrack",r),this.addWebVttScript_(),a(),n.addEventListener("change",a),n.addEventListener("addtrack",a),n.addEventListener("removetrack",a),this.on("dispose",function(){s.off("addtrack",t),s.off("removetrack",r),n.removeEventListener("change",a),n.removeEventListener("addtrack",a),n.removeEventListener("removetrack",a);for(var e=0;e<n.length;e++)n[e].removeEventListener("cuechange",i)})},Fr.prototype.addTextTrack=function(e,t,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,r,n,s){var i=4<arguments.length&&void 0!==s?s:{},a=e.textTracks();i.kind=t,r&&(i.label=r),n&&(i.language=n),i.tech=e;var o=new Mr.text.TrackClass(i);return a.addTrack(o),o}(this,e,t,r)},Fr.prototype.createRemoteTextTrack=function(e){var t=$e(e,{tech:this});return new Ur.remoteTextEl.TrackClass(t)},Fr.prototype.addRemoteTextTrack=function(e,t){var r=0<arguments.length&&void 0!==e?e:{},n=t,s=this.createRemoteTextTrack(r);return!0!==n&&!1!==n&&(w.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(s),this.remoteTextTracks().addTrack(s.track),!0!==n&&this.autoRemoteTextTracks_.addTrack(s.track),s},Fr.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},Fr.prototype.getVideoPlaybackQuality=function(){return{}},Fr.prototype.setPoster=function(){},Fr.prototype.playsinline=function(){},Fr.prototype.setPlaysinline=function(){},Fr.prototype.overrideNativeAudioTracks=function(){},Fr.prototype.overrideNativeVideoTracks=function(){},Fr.prototype.canPlayType=function(){return""},Fr.canPlayType=function(){return""},Fr.canPlaySource=function(e){return Fr.canPlayType(e.type)},Fr.isTech=function(e){return e.prototype instanceof Fr||e instanceof Fr||e===Fr},Fr.registerTech=function(e,t){if(Fr.techs_||(Fr.techs_={}),!Fr.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!Fr.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Fr.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Ke(e),Fr.techs_[e]=t,"Tech"!==e&&Fr.defaultTechOrder_.push(e),t},Fr.getTech=function(e){if(e)return e=Ke(e),Fr.techs_&&Fr.techs_[e]?Fr.techs_[e]:y&&y.videojs&&y.videojs[e]?(w.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),y.videojs[e]):void 0},Fr);function Fr(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};_(this,Fr),r.reportTouchActivity=!1;var n=T(this,Nr.call(this,null,r,e));return n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),Mr.names.forEach(function(e){var t=Mr[e];r&&r[t.getterName]&&(n[t.privateName]=r[t.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===r["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)}),!1===r.nativeCaptions||!1===r.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==r.nativeCaptions&&!0!==r.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.autoRemoteTextTracks_=new Mr.text.ListClass,n.initTrackListeners(),r.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}Mr.names.forEach(function(e){var t=Mr[e];Br.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),Br.prototype.featuresVolumeControl=!0,Br.prototype.featuresMuteControl=!0,Br.prototype.featuresFullscreenResize=!1,Br.prototype.featuresPlaybackRate=!1,Br.prototype.featuresProgressEvents=!1,Br.prototype.featuresSourceset=!1,Br.prototype.featuresTimeupdateEvents=!1,Br.prototype.featuresNativeTextTracks=!1,Br.withSourceHandlers=function(s){s.registerSourceHandler=function(e,t){var r=s.sourceHandlers;r=r||(s.sourceHandlers=[]),void 0===t&&(t=r.length),r.splice(t,0,e)},s.canPlayType=function(e){for(var t=s.sourceHandlers||[],r=void 0,n=0;n<t.length;n++)if(r=t[n].canPlayType(e))return r;return""},s.selectSourceHandler=function(e,t){for(var r=s.sourceHandlers||[],n=0;n<r.length;n++)if(r[n].canHandleSource(e,t))return r[n];return null},s.canPlaySource=function(e,t){var r=s.selectSourceHandler(e,t);return r?r.canHandleSource(e,t):""};["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},s.prototype),s.prototype.setSource=function(e){var t=s.selectSourceHandler(e,this.options_);t||(s.nativeSourceHandler?t=s.nativeSourceHandler:w.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),t!==s.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},s.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Qe.registerComponent("Tech",Br),Br.registerTech("Tech",Br),Br.defaultTechOrder_=[];var Hr={},qr={},Vr={};function Gr(e,t,r){!function r(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];var s=arguments[2];var i=arguments[3];var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[];var o=5<arguments.length&&void 0!==arguments[5]&&arguments[5];var t=e[0],l=e.slice(1);if("string"==typeof t)r(n,Hr[t],s,i,a,o);else if(t){var u=$r(i,t);if(!u.setSource)return a.push(u),r(n,l,s,i,a,o);u.setSource(C({},n),function(e,t){if(e)return r(n,l,s,i,a,o);a.push(u),r(t,n.type===t.type?l:Hr[t.type],s,i,a,o)})}else l.length?r(n,l,s,i,a,o):o?s(n,a):r(n,Hr["*"],s,i,a,!0)}(t,Hr[t.type],r,e)}function zr(e,t,r,n){var s=3<arguments.length&&void 0!==n?n:null,i="call"+Ke(r),a=e.reduce(Kr(i),s),o=a===Vr,l=o?null:t[r](a);return function(e,t,r,n){for(var s=e.length-1;0<=s;s--){var i=e[s];i[t]&&i[t](n,r)}}(e,r,l,o),l}var Wr={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Yr={setCurrentTime:1},Xr={play:1,pause:1};function Kr(r){return function(e,t){return e===Vr?Vr:t[r]?t[r](e):e}}function $r(e,t){var r=qr[e.id()],n=null;if(null==r)return n=t(e),qr[e.id()]=[[t,n]],n;for(var s=0;s<r.length;s++){var i=r[s],a=i[0],o=i[1];a===t&&(n=o)}return null===n&&(n=t(e),r.push([t,n])),n}function Qr(e){var t=br(0<arguments.length&&void 0!==e?e:"");return Jr[t.toLowerCase()]||""}var Jr={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"};function Zr(e){var t=Qr(e.src);return!e.type&&t&&(e.type=t),e}var en,tn=(j(rn,en=Qe),rn);function rn(e,t,r){_(this,rn);var n=$e({createEl:!1},t),s=T(this,en.call(this,e,n,r));if(t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var i=0,a=t.playerOptions.techOrder;i<a.length;i++){var o=Ke(a[i]),l=Br.getTech(o);if(o||(l=Qe.getComponent(o)),l&&l.isSupported()){e.loadTech_(o);break}}return s}Qe.registerComponent("MediaLoader",tn);var nn,sn=(j(an,nn=Qe),an.prototype.createEl=function(e,t,r){var n=0<arguments.length&&void 0!==e?e:"div",s=1<arguments.length&&void 0!==t?t:{},i=2<arguments.length&&void 0!==r?r:{};s=C({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},s),"button"===n&&w.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),i=C({role:"button"},i),this.tabIndex_=s.tabIndex;var a=nn.prototype.createEl.call(this,n,s,i);return this.createControlTextEl(a),a},an.prototype.dispose=function(){this.controlTextEl_=null,nn.prototype.dispose.call(this)},an.prototype.createControlTextEl=function(e){return this.controlTextEl_=B("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},an.prototype.controlText=function(e,t){var r=1<arguments.length&&void 0!==t?t:this.el();if(void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,F(this.controlTextEl_,n),this.nonIconControl||r.setAttribute("title",n)},an.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+nn.prototype.buildCSSClass.call(this)},an.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},an.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},an.prototype.handleClick=function(){},an.prototype.handleFocus=function(){Se(c,"keydown",Re(this,this.handleKeyPress))},an.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):nn.prototype.handleKeyPress&&nn.prototype.handleKeyPress.call(this,e)},an.prototype.handleBlur=function(){we(c,"keydown",Re(this,this.handleKeyPress))},an);function an(e,t){_(this,an);var r=T(this,nn.call(this,e,t));return r.emitTapEvents(),r.enable(),r}Qe.registerComponent("ClickableComponent",sn);var on,ln=(j(un,on=sn),un.prototype.dispose=function(){this.player().off("posterchange",this.update),on.prototype.dispose.call(this)},un.prototype.createEl=function(){return B("div",{className:"vjs-poster",tabIndex:-1})},un.prototype.update=function(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},un.prototype.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},un.prototype.handleClick=function(){this.player_.controls()&&(this.player_.paused()?Mt(this.player_.play()):this.player_.pause())},un);function un(e,t){_(this,un);var r=T(this,on.call(this,e,t));return r.update(),e.on("posterchange",Re(r,r.update)),r}Qe.registerComponent("PosterImage",ln);var cn="#222",dn={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function pn(e,t){var r=void 0;if(4===e.length)r=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");r=e.slice(1)}return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+t+")"}function hn(e,t,r){try{e.style[t]=r}catch(e){return}}var fn,mn=(j(yn,fn=Qe),yn.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage,n=void 0,s=void 0,i=void 0,a=0;a<t.length;a++){var o=t[a];r&&r.enabled&&r.language===o.language?i=o.kind===r.kind?o:i||o:r&&!r.enabled?s=n=i=null:o.default&&("descriptions"!==o.kind||n?o.kind in e&&!s&&(s=o):n=o)}i?i.mode="showing":s?s.mode="showing":n&&(n.mode="showing")},yn.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},yn.prototype.createEl=function(){return fn.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},yn.prototype.clearDisplay=function(){"function"==typeof y.WebVTT&&y.WebVTT.processCues(y,[],this.el_)},yn.prototype.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,r=null,n=e.length;n--;){var s=e[n];"showing"===s.mode&&("descriptions"===s.kind?t=s:r=s)}r?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},yn.prototype.updateForTrack=function(e){if("function"==typeof y.WebVTT&&e.activeCues){for(var t=[],r=0;r<e.activeCues.length;r++)t.push(e.activeCues[r]);if(y.WebVTT.processCues(y,t,this.el_),this.player_.textTrackSettings)for(var n=this.player_.textTrackSettings.getValues(),s=t.length;s--;){var i=t[s];if(i){var a=i.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&hn(a.firstChild,"color",pn(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&hn(a.firstChild,"backgroundColor",pn(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?hn(a,"backgroundColor",pn(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+cn:"raised"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+cn:"depressed"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+cn:"uniform"===n.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+cn)),n.fontPercent&&1!==n.fontPercent){var o=y.parseFloat(a.style.fontSize);a.style.fontSize=o*n.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=dn[n.fontFamily])}}}},yn);function yn(r,e,t){_(this,yn);var n=T(this,fn.call(this,r,e,t));return r.on("loadstart",Re(n,n.toggleDisplay)),r.on("texttrackchange",Re(n,n.updateDisplay)),r.on("loadstart",Re(n,n.preselectTrack)),r.ready(Re(n,function(){if(r.tech_&&r.tech_.featuresNativeTextTracks)this.hide();else{r.on("fullscreenchange",Re(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),n}Qe.registerComponent("TextTrackDisplay",mn);var gn,vn=(j(bn,gn=Qe),bn.prototype.createEl=function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),r=B("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])}),n=gn.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(r),n},bn);function bn(){return _(this,bn),T(this,gn.apply(this,arguments))}Qe.registerComponent("LoadingSpinner",vn);var _n,jn=(j(Tn,_n=sn),Tn.prototype.createEl=function(e,t,r){var n=1<arguments.length&&void 0!==t?t:{},s=2<arguments.length&&void 0!==r?r:{};e="button",n=C({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},n),s=C({type:"button"},s);var i=Qe.prototype.createEl.call(this,"button",n,s);return this.createControlTextEl(i),i},Tn.prototype.addChild=function(e,t){var r=1<arguments.length&&void 0!==t?t:{},n=this.constructor.name;return w.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Qe.prototype.addChild.call(this,e,r)},Tn.prototype.enable=function(){_n.prototype.enable.call(this),this.el_.removeAttribute("disabled")},Tn.prototype.disable=function(){_n.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},Tn.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&_n.prototype.handleKeyPress.call(this,e)},Tn);function Tn(){return _(this,Tn),T(this,_n.apply(this,arguments))}Qe.registerComponent("Button",jn);var Sn,wn=(j(En,Sn=jn),En.prototype.buildCSSClass=function(){return"vjs-big-play-button"},En.prototype.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)Mt(t);else{var r=this.player_.getChild("controlBar"),n=r&&r.getChild("playToggle");if(n){function s(){return n.focus()}Ut(t)?t.then(s,function(){}):this.setTimeout(s,1)}else this.player_.focus()}},En.prototype.handleKeyPress=function(e){this.mouseused_=!1,Sn.prototype.handleKeyPress.call(this,e)},En.prototype.handleMouseDown=function(){this.mouseused_=!0},En);function En(e,t){_(this,En);var r=T(this,Sn.call(this,e,t));return r.mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}wn.prototype.controlText_="Play Video",Qe.registerComponent("BigPlayButton",wn);var kn,xn=(j(Cn,kn=jn),Cn.prototype.buildCSSClass=function(){return"vjs-close-button "+kn.prototype.buildCSSClass.call(this)},Cn.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})},Cn);function Cn(e,t){_(this,Cn);var r=T(this,kn.call(this,e,t));return r.controlText(t&&t.controlText||r.localize("Close")),r}Qe.registerComponent("CloseButton",xn);var An,In=(j(Pn,An=jn),Pn.prototype.buildCSSClass=function(){return"vjs-play-control "+An.prototype.buildCSSClass.call(this)},Pn.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},Pn.prototype.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},Pn.prototype.handlePlay=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},Pn.prototype.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},Pn.prototype.handleEnded=function(){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},Pn);function Pn(e,t){_(this,Pn);var r=T(this,An.call(this,e,t));return r.on(e,"play",r.handlePlay),r.on(e,"pause",r.handlePause),r.on(e,"ended",r.handleEnded),r}In.prototype.controlText_="Play",Qe.registerComponent("PlayToggle",In);function Ln(e,t){e=e<0?0:e;var r=Math.floor(e%60),n=Math.floor(e/60%60),s=Math.floor(e/3600),i=Math.floor(t/60%60),a=Math.floor(t/3600);return!isNaN(e)&&e!==1/0||(s=n=r="-"),(s=0<s||0<a?s+":":"")+(n=((s||10<=i)&&n<10?"0"+n:n)+":")+(r=r<10?"0"+r:r)}var On=Ln;function Rn(e){return On(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:e)}var Dn,Un=(j(Mn,Dn=Qe),Mn.prototype.createEl=function(){var e=this.buildCSSClass(),t=Dn.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+"</span>"});return this.contentEl_=B("span",{className:e+"-display"},{"aria-live":"off"}),this.updateTextNode_(),t.appendChild(this.contentEl_),t},Mn.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,Dn.prototype.dispose.call(this)},Mn.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=c.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},Mn.prototype.formatTime_=function(e){return Rn(e)},Mn.prototype.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},Mn.prototype.updateContent=function(){},Mn);function Mn(e,t){_(this,Mn);var r=T(this,Dn.call(this,e,t));return r.throttledUpdateContent=De(Re(r,r.updateContent),25),r.on(e,"timeupdate",r.throttledUpdateContent),r}Un.prototype.labelText_="Time",Un.prototype.controlText_="Time",Qe.registerComponent("TimeDisplay",Un);var Nn,Bn=(j(Fn,Nn=Un),Fn.prototype.buildCSSClass=function(){return"vjs-current-time"},Fn.prototype.updateContent=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},Fn.prototype.handleEnded=function(){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},Fn);function Fn(e,t){_(this,Fn);var r=T(this,Nn.call(this,e,t));return r.on(e,"ended",r.handleEnded),r}Bn.prototype.labelText_="Current Time",Bn.prototype.controlText_="Current Time",Qe.registerComponent("CurrentTimeDisplay",Bn);var Hn,qn=(j(Vn,Hn=Un),Vn.prototype.buildCSSClass=function(){return"vjs-duration"},Vn.prototype.updateContent=function(){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},Vn);function Vn(e,t){_(this,Vn);var r=T(this,Hn.call(this,e,t));return r.on(e,"durationchange",r.updateContent),r.on(e,"loadedmetadata",r.throttledUpdateContent),r}qn.prototype.labelText_="Duration",qn.prototype.controlText_="Duration",Qe.registerComponent("DurationDisplay",qn);var Gn,zn=(j(Wn,Gn=Qe),Wn.prototype.createEl=function(){return Gn.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},Wn);function Wn(){return _(this,Wn),T(this,Gn.apply(this,arguments))}Qe.registerComponent("TimeDivider",zn);var Yn,Xn=(j(Kn,Yn=Un),Kn.prototype.buildCSSClass=function(){return"vjs-remaining-time"},Kn.prototype.formatTime_=function(e){return"-"+Yn.prototype.formatTime_.call(this,e)},Kn.prototype.updateContent=function(){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},Kn.prototype.handleEnded=function(){this.player_.duration()&&this.updateFormattedTime_(0)},Kn);function Kn(e,t){_(this,Kn);var r=T(this,Yn.call(this,e,t));return r.on(e,"durationchange",r.throttledUpdateContent),r.on(e,"ended",r.handleEnded),r}Xn.prototype.labelText_="Remaining Time",Xn.prototype.controlText_="Remaining Time",Qe.registerComponent("RemainingTimeDisplay",Xn);var $n,Qn=(j(Jn,$n=Qe),Jn.prototype.createEl=function(){var e=$n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=B("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},Jn.prototype.dispose=function(){this.contentEl_=null,$n.prototype.dispose.call(this)},Jn.prototype.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},Jn);function Jn(e,t){_(this,Jn);var r=T(this,$n.call(this,e,t));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}Qe.registerComponent("LiveDisplay",Qn);var Zn,es=(j(ts,Zn=Qe),ts.prototype.enabled=function(){return this.enabled_},ts.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},ts.prototype.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},ts.prototype.createEl=function(e,t,r){var n=1<arguments.length&&void 0!==t?t:{},s=2<arguments.length&&void 0!==r?r:{};return n.className=n.className+" vjs-slider",n=C({tabIndex:0},n),s=C({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),Zn.prototype.createEl.call(this,e,n,s)},ts.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||yt||e.preventDefault(),Q(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},ts.prototype.handleMouseMove=function(){},ts.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;J(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},ts.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var r=(100*e).toFixed(2)+"%",n=t.el().style;return this.vertical()?n.height=r:n.width=r,e}}},ts.prototype.calculateDistance=function(e){var t=te(this.el_,e);return this.vertical()?t.y:t.x},ts.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},ts.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},ts.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},ts.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},ts.prototype.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},ts);function ts(e,t){_(this,ts);var r=T(this,Zn.call(this,e,t));return r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}Qe.registerComponent("Slider",es);var rs,ns=(j(ss,rs=Qe),ss.prototype.createEl=function(){return rs.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},ss.prototype.dispose=function(){this.partEls_=null,rs.prototype.dispose.call(this)},ss.prototype.update=function(){function e(e,t){var r=e/t||0;return 100*(1<=r?1:r)+"%"}var t=this.player_.buffered(),r=this.player_.duration(),n=this.player_.bufferedEnd(),s=this.partEls_;this.el_.style.width=e(n,r);for(var i=0;i<t.length;i++){var a=t.start(i),o=t.end(i),l=s[i];l||(l=this.el_.appendChild(B()),s[i]=l),l.style.left=e(a,n),l.style.width=e(o-a,n)}for(var u=s.length;u>t.length;u--)this.el_.removeChild(s[u-1]);s.length=t.length},ss);function ss(e,t){_(this,ss);var r=T(this,rs.call(this,e,t));return r.partEls_=[],r.on(e,"progress",r.update),r}Qe.registerComponent("LoadProgressBar",ns);var is,as=(j(os,is=Qe),os.prototype.createEl=function(){return is.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},os.prototype.update=function(e,t,r){var n=Z(this.el_),s=Z(this.player_.el()),i=e.width*t;if(s&&n){var a=e.left-s.left+i,o=e.width-i+(s.right-e.right),l=n.width/2;a<l?l+=l-a:o<l&&(l=o),l<0?l=0:l>n.width&&(l=n.width),this.el_.style.right="-"+l+"px",F(this.el_,r)}},os);function os(){return _(this,os),T(this,is.apply(this,arguments))}Qe.registerComponent("TimeTooltip",as);var ls,us=(j(cs,ls=Qe),cs.prototype.createEl=function(){return ls.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},cs.prototype.update=function(r,n){var s=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=Rn(s.player_.scrubbing()?s.player_.getCache().currentTime:s.player_.currentTime(),s.player_.duration()),t=s.getChild("timeTooltip");t&&t.update(r,n,e)})},cs);function cs(){return _(this,cs),T(this,ls.apply(this,arguments))}us.prototype.options_={children:[]},ut||dt||us.prototype.options_.children.push("timeTooltip"),Qe.registerComponent("PlayProgressBar",us);var ds,ps=(j(hs,ds=Qe),hs.prototype.createEl=function(){return ds.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},hs.prototype.update=function(r,n){var s=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=s.player_.duration(),t=Rn(n*e,e);s.el_.style.left=r.width*n+"px",s.getChild("timeTooltip").update(r,n,t)})},hs);function hs(e,t){_(this,hs);var r=T(this,ds.call(this,e,t));return r.update=De(Re(r,r.update),25),r}ps.prototype.options_={children:["timeTooltip"]},Qe.registerComponent("MouseTimeDisplay",ps);var fs,ms=(j(ys,fs=es),ys.prototype.setEventHandlers_=function(){var e=this;this.update=De(Re(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){e.clearInterval(e.updateInterval),e.updateInterval=e.setInterval(function(){e.requestAnimationFrame(function(){e.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){e.clearInterval(e.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},ys.prototype.createEl=function(){return fs.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},ys.prototype.update_=function(e,t){var r=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Rn(e,r),Rn(r,r)],"{1} of {2}")),this.bar.update(Z(this.el_),t)},ys.prototype.update=function(){var e=fs.prototype.update.call(this);return this.update_(this.getCurrentTime_(),e),e},ys.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},ys.prototype.handleEnded=function(){this.update_(this.player_.duration(),1)},ys.prototype.getPercent=function(){var e=this.getCurrentTime_()/this.player_.duration();return 1<=e?1:e||0},ys.prototype.handleMouseDown=function(e){oe(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),fs.prototype.handleMouseDown.call(this,e))},ys.prototype.handleMouseMove=function(e){if(oe(e)){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)}},ys.prototype.enable=function(){fs.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},ys.prototype.disable=function(){fs.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},ys.prototype.handleMouseUp=function(e){fs.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&Mt(this.player_.play())},ys.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},ys.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},ys.prototype.handleAction=function(){this.player_.paused()?this.player_.play():this.player_.pause()},ys.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):fs.prototype.handleKeyPress&&fs.prototype.handleKeyPress.call(this,e)},ys);function ys(e,t){_(this,ys);var r=T(this,fs.call(this,e,t));return r.setEventHandlers_(),r}ms.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},ut||dt||ms.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),ms.prototype.playerEvent="timeupdate",Qe.registerComponent("SeekBar",ms);var gs,vs=(j(bs,gs=Qe),bs.prototype.createEl=function(){return gs.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},bs.prototype.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var r=t.getChild("mouseTimeDisplay"),n=t.el(),s=Z(n),i=te(n,e).x;1<i?i=1:i<0&&(i=0),r&&r.update(s,i)}},bs.prototype.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},bs.prototype.enabled=function(){return this.enabled_},bs.prototype.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},bs.prototype.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},bs.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},bs.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},bs);function bs(e,t){_(this,bs);var r=T(this,gs.call(this,e,t));return r.handleMouseMove=De(Re(r,r.handleMouseMove),25),r.throttledHandleMouseSeek=De(Re(r,r.handleMouseSeek),25),r.enable(),r}vs.prototype.options_={children:["seekBar"]},Qe.registerComponent("ProgressControl",vs);var _s,js=(j(Ts,_s=jn),Ts.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+_s.prototype.buildCSSClass.call(this)},Ts.prototype.handleFullscreenChange=function(){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},Ts.prototype.handleClick=function(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},Ts);function Ts(e,t){_(this,Ts);var r=T(this,_s.call(this,e,t));return r.on(e,"fullscreenchange",r.handleFullscreenChange),!1===c[xt.fullscreenEnabled]&&r.disable(),r}js.prototype.controlText_="Fullscreen",Qe.registerComponent("FullscreenToggle",js);var Ss,ws=(j(Es,Ss=Qe),Es.prototype.createEl=function(){return Ss.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},Es);function Es(){return _(this,Es),T(this,Ss.apply(this,arguments))}Qe.registerComponent("VolumeLevel",ws);var ks,xs=(j(Cs,ks=es),Cs.prototype.createEl=function(){return ks.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},Cs.prototype.handleMouseDown=function(e){oe(e)&&ks.prototype.handleMouseDown.call(this,e)},Cs.prototype.handleMouseMove=function(e){oe(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},Cs.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},Cs.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},Cs.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},Cs.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},Cs.prototype.updateARIAAttributes=function(){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},Cs.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},Cs.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},Cs);function Cs(e,t){_(this,Cs);var r=T(this,ks.call(this,e,t));return r.on("slideractive",r.updateLastVolume_),r.on(e,"volumechange",r.updateARIAAttributes),e.ready(function(){return r.updateARIAAttributes()}),r}xs.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},xs.prototype.playerEvent="volumechange",Qe.registerComponent("VolumeBar",xs);var As,Is=(j(Ps,As=Qe),Ps.prototype.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),As.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},Ps.prototype.handleMouseDown=function(){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},Ps.prototype.handleMouseUp=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},Ps.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},Ps);function Ps(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_(this,Ps),t.vertical=t.vertical||!1,"undefined"!=typeof t.volumeBar&&!I(t.volumeBar)||(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical);var r,n,s=T(this,As.call(this,e,t));return r=s,(n=e).tech_&&!n.tech_.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(n,"loadstart",function(){n.tech_.featuresVolumeControl?r.removeClass("vjs-hidden"):r.addClass("vjs-hidden")}),s.throttledHandleMouseMove=De(Re(s,s.handleMouseMove),25),s.on("mousedown",s.handleMouseDown),s.on("touchstart",s.handleMouseDown),s.on(s.volumeBar,["focus","slideractive"],function(){s.volumeBar.addClass("vjs-slider-active"),s.addClass("vjs-slider-active"),s.trigger("slideractive")}),s.on(s.volumeBar,["blur","sliderinactive"],function(){s.volumeBar.removeClass("vjs-slider-active"),s.removeClass("vjs-slider-active"),s.trigger("sliderinactive")}),s}Is.prototype.options_={children:["volumeBar"]},Qe.registerComponent("VolumeControl",Is);var Ls,Os=(j(Rs,Ls=jn),Rs.prototype.buildCSSClass=function(){return"vjs-mute-control "+Ls.prototype.buildCSSClass.call(this)},Rs.prototype.handleClick=function(){var e=this.player_.volume(),t=this.player_.lastVolume_();if(0===e){var r=t<.1?.1:t;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},Rs.prototype.update=function(){this.updateIcon_(),this.updateControlText_()},Rs.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;ut&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var r=0;r<4;r++)G(this.el_,"vjs-vol-"+r);V(this.el_,"vjs-vol-"+t)},Rs.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},Rs);function Rs(e,t){_(this,Rs);var r,n,s=T(this,Ls.call(this,e,t));return r=s,(n=e).tech_&&!n.tech_.featuresMuteControl&&r.addClass("vjs-hidden"),r.on(n,"loadstart",function(){n.tech_.featuresMuteControl?r.removeClass("vjs-hidden"):r.addClass("vjs-hidden")}),s.on(e,["loadstart","volumechange"],s.update),s}Os.prototype.controlText_="Mute",Qe.registerComponent("MuteToggle",Os);var Ds,Us=(j(Ms,Ds=Qe),Ms.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},Ms.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},Ms.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},Ms.prototype.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),Ds.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},Ms);function Ms(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_(this,Ms),"undefined"!=typeof t.inline?t.inline=t.inline:t.inline=!0,"undefined"!=typeof t.volumeControl&&!I(t.volumeControl)||(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline);var r=T(this,Ds.call(this,e,t));return r.on(e,["loadstart"],r.volumePanelState_),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}Us.prototype.options_={children:["muteToggle","volumeControl"]},Qe.registerComponent("VolumePanel",Us);var Ns,Bs=(j(Fs,Ns=Qe),Fs.prototype.addItem=function(t){this.addChild(t),t.on("click",Re(this,function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())}))},Fs.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=B(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=Ns.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Se(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},Fs.prototype.dispose=function(){this.contentEl_=null,Ns.prototype.dispose.call(this)},Fs.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},Fs.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},Fs.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},Fs.prototype.focus=function(e){var t=0<arguments.length&&void 0!==e?e:0,r=this.children().slice();r.length&&r[0].className&&/vjs-menu-title/.test(r[0].className)&&r.shift(),0<r.length&&(t<0?t=0:t>=r.length&&(t=r.length-1),r[this.focusedChild_=t].el_.focus())},Fs);function Fs(e,t){_(this,Fs);var r=T(this,Ns.call(this,e,t));return t&&(r.menuButton_=t.menuButton),r.focusedChild_=-1,r.on("keydown",r.handleKeyPress),r}Qe.registerComponent("Menu",Bs);var Hs,qs=(j(Vs,Hs=Qe),Vs.prototype.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},Vs.prototype.createMenu=function(){var e=new Bs(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=B("li",{className:"vjs-menu-title",innerHTML:Ke(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),H(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},Vs.prototype.createItems=function(){},Vs.prototype.createEl=function(){return Hs.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},Vs.prototype.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+jn.prototype.buildCSSClass()+" "+Hs.prototype.buildCSSClass.call(this)},Vs.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+Hs.prototype.buildCSSClass.call(this)},Vs.prototype.controlText=function(e,t){var r=1<arguments.length&&void 0!==t?t:this.menuButton_.el();return this.menuButton_.controlText(e,r)},Vs.prototype.handleClick=function(){this.one(this.menu.contentEl(),"mouseleave",Re(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},Vs.prototype.focus=function(){this.menuButton_.focus()},Vs.prototype.blur=function(){this.menuButton_.blur()},Vs.prototype.handleFocus=function(){Se(c,"keydown",Re(this,this.handleKeyPress))},Vs.prototype.handleBlur=function(){we(c,"keydown",Re(this,this.handleKeyPress))},Vs.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},Vs.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},Vs.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ut&&M())return;this.menu.focus()}},Vs.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},Vs.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},Vs.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},Vs);function Vs(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_(this,Vs);var r=T(this,Hs.call(this,e,t));r.menuButton_=new jn(e,t),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var n=jn.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+n,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"focus",r.handleFocus),r.on(r.menuButton_,"blur",r.handleBlur),r.on("keydown",r.handleSubmenuKeyPress),r}Qe.registerComponent("MenuButton",qs);var Gs,zs=(j(Ws,Gs=qs),Ws);function Ws(e,t){_(this,Ws);var r=t.tracks,n=T(this,Gs.call(this,e,t));if(n.items.length<=1&&n.hide(),!r)return T(n);var s=Re(n,n.update);return r.addEventListener("removetrack",s),r.addEventListener("addtrack",s),n.player_.on("ready",s),n.player_.on("dispose",function(){r.removeEventListener("removetrack",s),r.removeEventListener("addtrack",s)}),n}Qe.registerComponent("TrackButton",zs);var Ys,Xs=(j(Ks,Ys=sn),Ks.prototype.createEl=function(e,t,r){return this.nonIconControl=!0,Ys.prototype.createEl.call(this,"li",C({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},t),r)},Ks.prototype.handleClick=function(){this.selected(!0)},Ks.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},Ks);function Ks(e,t){_(this,Ks);var r=T(this,Ys.call(this,e,t));return r.selectable=t.selectable,r.isSelected_=t.selected||!1,r.multiSelectable=t.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}Qe.registerComponent("MenuItem",Xs);var $s,Qs=(j(Js,$s=Xs),Js.prototype.handleClick=function(e){var t=this.track.kind,r=this.track.kinds,n=this.player_.textTracks();if(r=r||[t],$s.prototype.handleClick.call(this,e),n)for(var s=0;s<n.length;s++){var i=n[s];i===this.track&&-1<r.indexOf(i.kind)?"showing"!==i.mode&&(i.mode="showing"):"disabled"!==i.mode&&(i.mode="disabled")}},Js.prototype.handleTracksChange=function(){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},Js.prototype.handleSelectedLanguageChange=function(){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},Js.prototype.dispose=function(){this.track=null,$s.prototype.dispose.call(this)},Js);function Js(e,t){_(this,Js);var r=t.track,n=e.textTracks();t.label=r.label||r.language||"Unknown",t.selected="showing"===r.mode;var s=T(this,$s.call(this,e,t));s.track=r;function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s.handleTracksChange.apply(s,t)}function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s.handleSelectedLanguageChange.apply(s,t)}if(e.on(["loadstart","texttrackchange"],i),n.addEventListener("change",i),n.addEventListener("selectedlanguagechange",a),s.on("dispose",function(){e.off(["loadstart","texttrackchange"],i),n.removeEventListener("change",i),n.removeEventListener("selectedlanguagechange",a)}),void 0===n.onchange){var o=void 0;s.on(["tap","click"],function(){if("object"!==Ct(y.Event))try{o=new y.Event("change")}catch(e){}o||(o=c.createEvent("Event")).initEvent("change",!0,!0),n.dispatchEvent(o)})}return s.handleTracksChange(),s}Qe.registerComponent("TextTrackMenuItem",Qs);var Zs,ei=(j(ti,Zs=Qs),ti.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!0,r=0,n=e.length;r<n;r++){var s=e[r];if(-1<this.options_.kinds.indexOf(s.kind)&&"showing"===s.mode){t=!1;break}}t!==this.isSelected_&&this.selected(t)},ti.prototype.handleSelectedLanguageChange=function(){for(var e=this.player().textTracks(),t=!0,r=0,n=e.length;r<n;r++){var s=e[r];if(-1<["captions","descriptions","subtitles"].indexOf(s.kind)&&"showing"===s.mode){t=!1;break}}t&&(this.player_.cache_.selectedLanguage={enabled:!1})},ti);function ti(e,t){return _(this,ti),t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,T(this,Zs.call(this,e,t))}Qe.registerComponent("OffTextTrackMenuItem",ei);var ri,ni=(j(si,ri=zs),si.prototype.createItems=function(e,t){var r=0<arguments.length&&void 0!==e?e:[],n=1<arguments.length&&void 0!==t?t:Qs,s=void 0;this.label_&&(s=this.label_+" off"),r.push(new ei(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var a=0;a<i.length;a++){var o=i[a];if(-1<this.kinds_.indexOf(o.kind)){var l=new n(this.player_,{track:o,selectable:!0,multiSelectable:!1});l.addClass("vjs-"+o.kind+"-menu-item"),r.push(l)}}return r},si);function si(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _(this,si),t.tracks=e.textTracks(),T(this,ri.call(this,e,t))}Qe.registerComponent("TextTrackButton",ni);var ii,ai=(j(oi,ii=Xs),oi.prototype.handleClick=function(){ii.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},oi.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)},oi);function oi(e,t){_(this,oi);var r=t.track,n=t.cue,s=e.currentTime();t.selectable=!0,t.multiSelectable=!1,t.label=n.text,t.selected=n.startTime<=s&&s<n.endTime;var i=T(this,ii.call(this,e,t));return i.track=r,i.cue=n,r.addEventListener("cuechange",Re(i,i.update)),i}Qe.registerComponent("ChaptersTrackMenuItem",ai);var li,ui=(j(ci,li=ni),ci.prototype.buildCSSClass=function(){return"vjs-chapters-button "+li.prototype.buildCSSClass.call(this)},ci.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+li.prototype.buildWrapperCSSClass.call(this)},ci.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),li.prototype.update.call(this)},ci.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_)}}},ci.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var r=e[t];if(r.kind===this.kind_)return r}},ci.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ke(this.kind_))},ci.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),li.prototype.createMenu.call(this)},ci.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var r=0,n=t.length;r<n;r++){var s=t[r],i=new ai(this.player_,{track:this.track_,cue:s});e.push(i)}return e},ci);function ci(e,t,r){return _(this,ci),T(this,li.call(this,e,t,r))}ui.prototype.kind_="chapters",ui.prototype.controlText_="Chapters",Qe.registerComponent("ChaptersButton",ui);var di,pi=(j(hi,di=ni),hi.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!1,r=0,n=e.length;r<n;r++){var s=e[r];if(s.kind!==this.kind_&&"showing"===s.mode){t=!0;break}}t?this.disable():this.enable()},hi.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+di.prototype.buildCSSClass.call(this)},hi.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+di.prototype.buildWrapperCSSClass.call(this)},hi);function hi(e,t,r){_(this,hi);var n=T(this,di.call(this,e,t,r)),s=e.textTracks(),i=Re(n,n.handleTracksChange);return s.addEventListener("change",i),n.on("dispose",function(){s.removeEventListener("change",i)}),n}pi.prototype.kind_="descriptions",pi.prototype.controlText_="Descriptions",Qe.registerComponent("DescriptionsButton",pi);var fi,mi=(j(yi,fi=ni),yi.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+fi.prototype.buildCSSClass.call(this)},yi.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+fi.prototype.buildWrapperCSSClass.call(this)},yi);function yi(e,t,r){return _(this,yi),T(this,fi.call(this,e,t,r))}mi.prototype.kind_="subtitles",mi.prototype.controlText_="Subtitles",Qe.registerComponent("SubtitlesButton",mi);var gi,vi=(j(bi,gi=Qs),bi.prototype.handleClick=function(){this.player().getChild("textTrackSettings").open()},bi);function bi(e,t){_(this,bi),t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem";var r=T(this,gi.call(this,e,t));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+t.kind+" settings dialog"),r}Qe.registerComponent("CaptionSettingsMenuItem",vi);var _i,ji=(j(Ti,_i=ni),Ti.prototype.buildCSSClass=function(){return"vjs-captions-button "+_i.prototype.buildCSSClass.call(this)},Ti.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+_i.prototype.buildWrapperCSSClass.call(this)},Ti.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new vi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),_i.prototype.createItems.call(this,e)},Ti);function Ti(e,t,r){return _(this,Ti),T(this,_i.call(this,e,t,r))}ji.prototype.kind_="captions",ji.prototype.controlText_="Captions",Qe.registerComponent("CaptionsButton",ji);var Si,wi=(j(Ei,Si=Qs),Ei.prototype.createEl=function(e,t,r){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(n+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),n+="</span>",Si.prototype.createEl.call(this,e,C({innerHTML:n},t),r)},Ei);function Ei(){return _(this,Ei),T(this,Si.apply(this,arguments))}Qe.registerComponent("SubsCapsMenuItem",wi);var ki,xi=(j(Ci,ki=ni),Ci.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+ki.prototype.buildCSSClass.call(this)},Ci.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+ki.prototype.buildWrapperCSSClass.call(this)},Ci.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new vi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=ki.prototype.createItems.call(this,e,wi)},Ci);function Ci(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_(this,Ci);var r=T(this,ki.call(this,e,t));return r.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)&&(r.label_="captions"),r.menuButton_.controlText(Ke(r.label_)),r}xi.prototype.kinds_=["captions","subtitles"],xi.prototype.controlText_="Subtitles",Qe.registerComponent("SubsCapsButton",xi);var Ai,Ii=(j(Pi,Ai=Xs),Pi.prototype.createEl=function(e,t,r){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(n+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),n+="</span>",Ai.prototype.createEl.call(this,e,C({innerHTML:n},t),r)},Pi.prototype.handleClick=function(e){var t=this.player_.audioTracks();Ai.prototype.handleClick.call(this,e);for(var r=0;r<t.length;r++){var n=t[r];n.enabled=n===this.track}},Pi.prototype.handleTracksChange=function(){this.selected(this.track.enabled)},Pi);function Pi(e,t){_(this,Pi);var r=t.track,n=e.audioTracks();t.label=r.label||r.language||"Unknown",t.selected=r.enabled;var s=T(this,Ai.call(this,e,t));s.track=r,s.addClass("vjs-"+r.kind+"-menu-item");function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s.handleTracksChange.apply(s,t)}return n.addEventListener("change",i),s.on("dispose",function(){n.removeEventListener("change",i)}),s}Qe.registerComponent("AudioTrackMenuItem",Ii);var Li,Oi=(j(Ri,Li=zs),Ri.prototype.buildCSSClass=function(){return"vjs-audio-button "+Li.prototype.buildCSSClass.call(this)},Ri.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+Li.prototype.buildWrapperCSSClass.call(this)},Ri.prototype.createItems=function(e){var t=0<arguments.length&&void 0!==e?e:[];this.hideThreshold_=1;for(var r=this.player_.audioTracks(),n=0;n<r.length;n++){var s=r[n];t.push(new Ii(this.player_,{track:s,selectable:!0,multiSelectable:!1}))}return t},Ri);function Ri(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _(this,Ri),t.tracks=e.audioTracks(),T(this,Li.call(this,e,t))}Oi.prototype.controlText_="Audio Track",Qe.registerComponent("AudioTrackButton",Oi);var Di,Ui=(j(Mi,Di=Xs),Mi.prototype.handleClick=function(){Di.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},Mi.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},Mi);function Mi(e,t){_(this,Mi);var r=t.rate,n=parseFloat(r,10);t.label=r,t.selected=1===n,t.selectable=!0,t.multiSelectable=!1;var s=T(this,Di.call(this,e,t));return s.label=r,s.rate=n,s.on(e,"ratechange",s.update),s}Ui.prototype.contentElType="button",Qe.registerComponent("PlaybackRateMenuItem",Ui);var Ni,Bi=(j(Fi,Ni=qs),Fi.prototype.createEl=function(){var e=Ni.prototype.createEl.call(this);return this.labelEl_=B("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},Fi.prototype.dispose=function(){this.labelEl_=null,Ni.prototype.dispose.call(this)},Fi.prototype.buildCSSClass=function(){return"vjs-playback-rate "+Ni.prototype.buildCSSClass.call(this)},Fi.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+Ni.prototype.buildWrapperCSSClass.call(this)},Fi.prototype.createMenu=function(){var e=new Bs(this.player()),t=this.playbackRates();if(t)for(var r=t.length-1;0<=r;r--)e.addChild(new Ui(this.player(),{rate:t[r]+"x"}));return e},Fi.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},Fi.prototype.handleClick=function(){for(var e=this.player().playbackRate(),t=this.playbackRates(),r=t[0],n=0;n<t.length;n++)if(t[n]>e){r=t[n];break}this.player().playbackRate(r)},Fi.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},Fi.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},Fi.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},Fi.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},Fi);function Fi(e,t){_(this,Fi);var r=T(this,Ni.call(this,e,t));return r.updateVisibility(),r.updateLabel(),r.on(e,"loadstart",r.updateVisibility),r.on(e,"ratechange",r.updateLabel),r}Bi.prototype.controlText_="Playback Rate",Qe.registerComponent("PlaybackRateMenuButton",Bi);var Hi,qi=(j(Vi,Hi=Qe),Vi.prototype.buildCSSClass=function(){return"vjs-spacer "+Hi.prototype.buildCSSClass.call(this)},Vi.prototype.createEl=function(){return Hi.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},Vi);function Vi(){return _(this,Vi),T(this,Hi.apply(this,arguments))}Qe.registerComponent("Spacer",qi);var Gi,zi=(j(Wi,Gi=qi),Wi.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+Gi.prototype.buildCSSClass.call(this)},Wi.prototype.createEl=function(){var e=Gi.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="",e},Wi);function Wi(){return _(this,Wi),T(this,Gi.apply(this,arguments))}Qe.registerComponent("CustomControlSpacer",zi);var Yi,Xi=(j(Ki,Yi=Qe),Ki.prototype.createEl=function(){return Yi.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},Ki);function Ki(){return _(this,Ki),T(this,Yi.apply(this,arguments))}Xi.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},Qe.registerComponent("ControlBar",Xi);var $i,Qi=(j(Ji,$i=Vt),Ji.prototype.buildCSSClass=function(){return"vjs-error-display "+$i.prototype.buildCSSClass.call(this)},Ji.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},Ji);function Ji(e,t){_(this,Ji);var r=T(this,$i.call(this,e,t));return r.on(e,"error",r.open),r}Qi.prototype.options_=$e(Vt.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Qe.registerComponent("ErrorDisplay",Qi);var Zi="vjs-text-track-settings",ea=["#000","Black"],ta=["#00F","Blue"],ra=["#0FF","Cyan"],na=["#0F0","Green"],sa=["#F0F","Magenta"],ia=["#F00","Red"],aa=["#FFF","White"],oa=["#FF0","Yellow"],la=["1","Opaque"],ua=["0.5","Semi-Transparent"],ca=["0","Transparent"],da={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ea,aa,ia,na,ta,oa,sa,ra]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[la,ua,ca]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[aa,ea,ia,na,ta,oa,sa,ra]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[la,ua]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ca,ua,la]}};function pa(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}da.windowColor.options=da.backgroundColor.options;var ha,fa=(j(ma,ha=Vt),ma.prototype.dispose=function(){this.endDialog=null,ha.prototype.dispose.call(this)},ma.prototype.createElSelect_=function(e,t,r){var n=this,s=1<arguments.length&&void 0!==t?t:"",i=2<arguments.length&&void 0!==r?r:"label",a=da[e],o=a.id.replace("%s",this.id_),l=[s,o].join(" ").trim();return["<"+i+' id="'+o+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(a.label),"</"+i+">",'<select aria-labelledby="'+l+'">'].concat(a.options.map(function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+l+" "+t+'">',n.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},ma.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},ma.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},ma.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},ma.prototype.createElColors_=function(){return B("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},ma.prototype.createElFont_=function(){return B("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},ma.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return B("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},ma.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},ma.prototype.label=function(){return this.localize("Caption Settings Dialog")},ma.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},ma.prototype.buildCSSClass=function(){return ha.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},ma.prototype.getValues=function(){var a=this;return function(r,n,e){var t=2<arguments.length&&void 0!==e?e:0;return k(r).reduce(function(e,t){return n(e,r[t],t)},t)}(da,function(e,t,r){var n,s,i=(n=a.$(t.selector),s=t.parser,pa(n.options[n.options.selectedIndex].value,s));return void 0!==i&&(e[r]=i),e},{})},ma.prototype.setValues=function(r){var n=this;x(da,function(e,t){!function(e,t,r){if(t)for(var n=0;n<e.options.length;n++)if(pa(e.options[n].value,r)===t){e.selectedIndex=n;break}}(n.$(e.selector),r[t],e.parser)})},ma.prototype.setDefaults=function(){var r=this;x(da,function(e){var t=e.hasOwnProperty("default")?e.default:0;r.$(e.selector).selectedIndex=t})},ma.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(y.localStorage.getItem(Zi))}catch(e){w.warn(e)}e&&this.setValues(e)},ma.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?y.localStorage.setItem(Zi,JSON.stringify(e)):y.localStorage.removeItem(Zi)}catch(e){w.warn(e)}}},ma.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},ma.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(c,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,r=e&&e.captionsButton;t?t.focus():r&&r.focus()},ma);function ma(e,t){_(this,ma),t.temporary=!1;var r=T(this,ha.call(this,e,t));return r.updateDisplay=Re(r,r.updateDisplay),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=B("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===t.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.close()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),x(da,function(e){r.on(r.$(e.selector),"change",r.updateDisplay)}),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}Qe.registerComponent("TextTrackSettings",fa);var ya,ga=(j(va,ya=Qe),va.prototype.createEl=function(){return ya.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},va.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},va.prototype.dispose=function(){this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&we(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},va);function va(e,t){_(this,va);var r=t.ResizeObserver||y.ResizeObserver;null===t.ResizeObserver&&(r=!1);var n=$e({createEl:!r},t),s=T(this,ya.call(this,e,n));return s.ResizeObserver=t.ResizeObserver||y.ResizeObserver,s.loadListener_=null,s.resizeObserver_=null,s.debouncedHandler_=function(n,s,i,e){var a=3<arguments.length&&void 0!==e?e:y,o=void 0;return function(){var e=this,t=arguments,r=function(){r=o=null,i||n.apply(e,t)};!o&&i&&n.apply(e,t),a.clearTimeout(o),o=a.setTimeout(r,s)}}(function(){s.resizeHandler()},100,!1,e),r?(s.resizeObserver_=new s.ResizeObserver(s.debouncedHandler_),s.resizeObserver_.observe(e.el())):(s.loadListener_=function(){s.el_.contentWindow&&Se(s.el_.contentWindow,"resize",s.debouncedHandler_),s.off("load",s.loadListener_)},s.on("load",s.loadListener_)),s}Qe.registerComponent("ResizeManager",ga);function ba(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var r=e.$$("source"),n=[],s="";if(!r.length)return!1;for(var i=0;i<r.length;i++){var a=r[i].src;a&&-1===n.indexOf(a)&&n.push(a)}return!!n.length&&(1===n.length&&(s=n[0]),e.triggerSourceset(s),!0)}function _a(e,t){for(var r={},n=0;n<e.length&&!((r=Object.getOwnPropertyDescriptor(e[n],t))&&r.set&&r.get);n++);return r.enumerable=!0,r.configurable=!0,r}function ja(i){var a=i.el();if(!a.resetSourceWatch_){function t(s){return function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=s.apply(a,t);return ba(i),n}}var r={},e=_a([i.el(),y.HTMLMediaElement.prototype,y.Element.prototype,wa],"innerHTML");["append","appendChild","insertAdjacentHTML"].forEach(function(e){a[e]&&(r[e]=a[e],a[e]=t(r[e]))}),Object.defineProperty(a,"innerHTML",$e(e,{set:t(e.set)})),a.resetSourceWatch_=function(){a.resetSourceWatch_=null,Object.keys(r).forEach(function(e){a[e]=r[e]}),Object.defineProperty(a,"innerHTML",e)},i.one("sourceset",a.resetSourceWatch_)}}function Ta(n){if(n.featuresSourceset){var s=n.el();if(!s.resetSourceset_){var r=_a([n.el(),y.HTMLMediaElement.prototype,Ea],"src"),i=s.setAttribute,t=s.load;Object.defineProperty(s,"src",$e(r,{set:function(e){var t=r.set.call(s,e);return n.triggerSourceset(s.src),t}})),s.setAttribute=function(e,t){var r=i.call(s,e,t);return/src/i.test(e)&&n.triggerSourceset(s.src),r},s.load=function(){var e=t.call(s);return ba(n)||(n.triggerSourceset(""),ja(n)),e},s.currentSrc?n.triggerSourceset(s.currentSrc):ba(n)||ja(n),s.resetSourceset_=function(){s.resetSourceset_=null,s.load=t,s.setAttribute=i,Object.defineProperty(s,"src",r),s.resetSourceWatch_&&s.resetSourceWatch_()}}}}var Sa,wa=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=c.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var r=c.createDocumentFragment();t.childNodes.length;)r.appendChild(t.childNodes[0]);return this.innerText="",y.Element.prototype.appendChild.call(this,r),this.innerHTML}}),Ea=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?vr(y.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return y.Element.prototype.setAttribute.call(this,"src",e),e}}),ka=S(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),xa=(j(Ca,Sa=Br),Ca.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Ca.disposeMediaElement(this.el_),this.options_=null,Sa.prototype.dispose.call(this)},Ca.prototype.setupSourcesetHandling_=function(){Ta(this)},Ca.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){function e(){n=[];for(var e=0;e<r.length;e++){var t=r[e];"metadata"===t.kind&&n.push({track:t,storedMode:t.mode})}}var r=this.textTracks(),n=void 0;function s(){for(var e=0;e<n.length;e++){var t=n[e];"disabled"===t.track.mode&&t.track.mode!==t.storedMode&&(t.track.mode=t.storedMode)}r.removeEventListener("change",s)}e(),r.addEventListener("change",e),this.on("dispose",function(){return r.removeEventListener("change",e)}),this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",e),r.removeEventListener("change",s),r.addEventListener("change",s)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",e),r.addEventListener("change",e),r.removeEventListener("change",s)})},Ca.prototype.overrideNative_=function(e,t){var r=this;if(t===this["featuresNative"+e+"Tracks"]){var n=e.toLowerCase();this[n+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach(function(e){r.el()[n+"Tracks"].removeEventListener(e,r[n+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n)}},Ca.prototype.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},Ca.prototype.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},Ca.prototype.proxyNativeTracksForType_=function(e){var n=this,t=Dr[e],s=this.el()[t.getterName],i=this[t.getterName]();if(this["featuresNative"+t.capitalName+"Tracks"]&&s&&s.addEventListener){function r(){for(var e=[],t=0;t<i.length;t++){for(var r=!1,n=0;n<s.length;n++)if(s[n]===i[t]){r=!0;break}r||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())}var a={change:function(){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}};this[t.getterName+"Listeners_"]=a,Object.keys(a).forEach(function(t){var r=a[t];s.addEventListener(t,r),n.on("dispose",function(e){return s.removeEventListener(t,r)})}),this.on("loadstart",r),this.on("dispose",function(e){return n.off("loadstart",r)})}},Ca.prototype.proxyNativeTracks_=function(){var t=this;Dr.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},Ca.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),Ca.disposeMediaElement(e),e=t}else{e=c.createElement("video");var r=$e({},this.options_.tag&&Y(this.options_.tag));jt&&!0===this.options_.nativeControlsForTouch||delete r.controls,W(e,C(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}"undefined"!=typeof this.options_.preload&&K(e,"preload",this.options_.preload);for(var n=["loop","muted","playsinline","autoplay"],s=0;s<n.length;s++){var i=n[s],a=this.options_[i];"undefined"!=typeof a&&(a?K(e,i,i):$(e,i),e[i]=a)}return e},Ca.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){function t(){r=!0}var r=!1;function n(){r||this.trigger("loadstart")}return this.on("loadstart",t),this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",t),this.off("loadedmetadata",n),r||this.trigger("loadstart")})}var s=["loadstart"];s.push("loadedmetadata"),2<=e.readyState&&s.push("loadeddata"),3<=e.readyState&&s.push("canplay"),4<=e.readyState&&s.push("canplaythrough"),this.ready(function(){s.forEach(function(e){this.trigger(e)},this)})}},Ca.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){w(e,"Video is not ready. (Video.js)")}},Ca.prototype.duration=function(){var t=this;return this.el_.duration===1/0&&dt&&yt&&0===this.el_.currentTime?(this.on("timeupdate",function e(){0<t.el_.currentTime&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN):this.el_.duration||NaN},Ca.prototype.width=function(){return this.el_.offsetWidth},Ca.prototype.height=function(){return this.el_.offsetHeight},Ca.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){function t(){this.trigger("fullscreenchange",{isFullscreen:!1})}function r(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))}this.on("webkitbeginfullscreen",r),this.on("dispose",function(){e.off("webkitbeginfullscreen",r),e.off("webkitendfullscreen",t)})}},Ca.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=y.navigator&&y.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},Ca.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},Ca.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},Ca.prototype.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},Ca.prototype.reset=function(){Ca.resetMediaElement(this.el_)},Ca.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},Ca.prototype.setControls=function(e){this.el_.controls=!!e},Ca.prototype.addTextTrack=function(e,t,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,r):Sa.prototype.addTextTrack.call(this,e,t,r)},Ca.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return Sa.prototype.createRemoteTextTrack.call(this,e);var t=c.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},Ca.prototype.addRemoteTextTrack=function(e,t){var r=Sa.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},Ca.prototype.removeRemoteTextTrack=function(e){if(Sa.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),r=t.length;r--;)e!==t[r]&&e!==t[r].track||this.el().removeChild(t[r])},Ca.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),y.performance&&"function"==typeof y.performance.now?e.creationTime=y.performance.now():y.performance&&y.performance.timing&&"number"==typeof y.performance.timing.navigationStart&&(e.creationTime=y.Date.now()-y.performance.timing.navigationStart),e},Ca);function Ca(e,t){_(this,Ca);var r=T(this,Sa.call(this,e,t)),n=e.source,s=!1;if(n&&(r.el_.currentSrc!==n.src||e.tag&&3===e.tag.initNetworkState_)?r.setSource(n):r.handleLateInit_(r.el_),e.enableSourceset&&r.setupSourcesetHandling_(),r.el_.hasChildNodes()){for(var i=r.el_.childNodes,a=i.length,o=[];a--;){var l=i[a];"track"===l.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(l),r.remoteTextTracks().addTrack(l.track),r.textTracks().addTrack(l.track),s||r.el_.hasAttribute("crossorigin")||!_r(l.src)||(s=!0)):o.push(l))}for(var u=0;u<o.length;u++)r.el_.removeChild(o[u])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&s&&w.warn(d(ka)),r.restoreMetadataTracksInIOSNativePlayer_(),(jt||ot||ht)&&!0===e.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}if(D()){xa.TEST_VID=c.createElement("video");var Aa=c.createElement("track");Aa.kind="captions",Aa.srclang="en",Aa.label="English",xa.TEST_VID.appendChild(Aa)}xa.isSupported=function(){try{xa.TEST_VID.volume=.5}catch(e){return!1}return!(!xa.TEST_VID||!xa.TEST_VID.canPlayType)},xa.canPlayType=function(e){return xa.TEST_VID.canPlayType(e)},xa.canPlaySource=function(e,t){return xa.canPlayType(e.type)},xa.canControlVolume=function(){try{var e=xa.TEST_VID.volume;return xa.TEST_VID.volume=e/2+.1,e!==xa.TEST_VID.volume}catch(e){return!1}},xa.canMuteVolume=function(){try{var e=xa.TEST_VID.muted;return xa.TEST_VID.muted=!e,xa.TEST_VID.muted?K(xa.TEST_VID,"muted","muted"):$(xa.TEST_VID,"muted"),e!==xa.TEST_VID.muted}catch(e){return!1}},xa.canControlPlaybackRate=function(){if(dt&&yt&&gt<58)return!1;try{var e=xa.TEST_VID.playbackRate;return xa.TEST_VID.playbackRate=e/2+.1,e!==xa.TEST_VID.playbackRate}catch(e){return!1}},xa.canOverrideAttributes=function(){try{function e(){}Object.defineProperty(c.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(c.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(c.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(c.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},xa.supportsNativeTextTracks=function(){return _t||ut&&yt},xa.supportsNativeVideoTracks=function(){return!(!xa.TEST_VID||!xa.TEST_VID.videoTracks)},xa.supportsNativeAudioTracks=function(){return!(!xa.TEST_VID||!xa.TEST_VID.audioTracks)},xa.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],xa.prototype.featuresVolumeControl=xa.canControlVolume(),xa.prototype.featuresMuteControl=xa.canMuteVolume(),xa.prototype.featuresPlaybackRate=xa.canControlPlaybackRate(),xa.prototype.featuresSourceset=xa.canOverrideAttributes(),xa.prototype.movingMediaElementInDOM=!ut,xa.prototype.featuresFullscreenResize=!0,xa.prototype.featuresProgressEvents=!0,xa.prototype.featuresTimeupdateEvents=!0,xa.prototype.featuresNativeTextTracks=xa.supportsNativeTextTracks(),xa.prototype.featuresNativeVideoTracks=xa.supportsNativeVideoTracks(),xa.prototype.featuresNativeAudioTracks=xa.supportsNativeAudioTracks();var Ia=xa.TEST_VID&&xa.TEST_VID.constructor.prototype.canPlayType,Pa=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;xa.patchCanPlayType=function(){4<=pt&&!ft&&!yt&&(xa.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Pa.test(e)?"maybe":Ia.call(this,e)})},xa.unpatchCanPlayType=function(){var e=xa.TEST_VID.constructor.prototype.canPlayType;return xa.TEST_VID.constructor.prototype.canPlayType=Ia,e},xa.patchCanPlayType(),xa.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},xa.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),r=t.length;r--;)e.removeChild(t[r]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){xa.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){xa.prototype["set"+Ke(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){xa.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){xa.prototype["set"+Ke(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){xa.prototype[e]=function(){return this.el_[e]()}}),Br.withSourceHandlers(xa),xa.nativeSourceHandler={},xa.nativeSourceHandler.canPlayType=function(e){try{return xa.TEST_VID.canPlayType(e)}catch(e){return""}},xa.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return xa.nativeSourceHandler.canPlayType(e.type);if(e.src){var r=br(e.src);return xa.nativeSourceHandler.canPlayType("video/"+r)}return""},xa.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)},xa.nativeSourceHandler.dispose=function(){},xa.registerSourceHandler(xa.nativeSourceHandler),Br.registerTech("Html5",xa);var La,Oa=S(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),Ra=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Da={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Ua=(j(Ma,La=Qe),Ma.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Ma.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),qr[this.id()]=null,La.prototype.dispose.call(this)},Ma.prototype.createEl=function(){var t=this.tag,r=void 0,e=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),n="video-js"===this.tag.tagName.toLowerCase();e?r=this.el_=t.parentNode:n||(r=this.el_=La.prototype.createEl.call(this,"div"));var s=Y(t);if(n){for(r=this.el_=t,t=this.tag=c.createElement("video");r.children.length;)t.appendChild(r.firstChild);q(r,"video-js")||V(r,"video-js"),r.appendChild(t),e=this.playerElIngest_=r,Object.keys(r).forEach(function(e){t[e]=r[e]})}if(t.setAttribute("tabindex","-1"),vt&&t.setAttribute("role","application"),t.removeAttribute("width"),t.removeAttribute("height"),Object.getOwnPropertyNames(s).forEach(function(e){n&&"class"===e||r.setAttribute(e,s[e]),n&&t.setAttribute(e,s[e])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=r.player=this,this.addClass("vjs-paused"),!0!==y.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Le("vjs-styles-dimensions");var i=le(".vjs-styles-defaults"),a=le("head");a.insertBefore(this.styleEl_,i?i.nextSibling:a.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var o=t.getElementsByTagName("a"),l=0;l<o.length;l++){var u=o.item(l);V(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!e&&t.parentNode.insertBefore(r,t),H(t,r),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_=r},Ma.prototype.width=function(e){return this.dimension("width",e)},Ma.prototype.height=function(e){return this.dimension("height",e)},Ma.prototype.dimension=function(e,t){var r=e+"_";if(void 0===t)return this[r]||0;if(""===t)return this[r]=void 0,void this.updateStyleEl_();var n=parseFloat(t);isNaN(n)?w.error('Improper value "'+t+'" supplied for for '+e):(this[r]=n,this.updateStyleEl_())},Ma.prototype.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},Ma.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},Ma.prototype.updateStyleEl_=function(){if(!0!==y.VIDEOJS_NO_DYNAMIC_STYLE){var e=void 0,t=void 0,r=void 0,n=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),s=n[1]/n[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/s:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*s,r=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(r),Oe(this.styleEl_,"\n      ."+r+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+r+".vjs-fluid {\n        padding-top: "+100*s+"%;\n      }\n    ")}else{var i="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,o=this.tech_&&this.tech_.el();o&&(0<=i&&(o.width=i),0<=a&&(o.height=a))}},Ma.prototype.loadTech_=function(e,t){var r=this;this.tech_&&this.unloadTech_();var n=Ke(e),s=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(Br.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var i={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+n+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Mr.names.forEach(function(e){var t=Mr[e];i[t.getterName]=r[t.privateName]}),C(i,this.options_[n]),C(i,this.options_[s]),C(i,this.options_[e.toLowerCase()]),this.tag&&(i.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(i.startTime=this.cache_.currentTime);var a=Br.getTech(e);if(!a)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new a(i),this.tech_.ready(Re(this,this.handleTechReady_),!0),Ht(this.textTracksJson_||[],this.tech_),Ra.forEach(function(e){r.on(r.tech_,e,r["handleTech"+Ke(e)+"_"])}),Object.keys(Da).forEach(function(t){r.on(r.tech_,t,function(e){0===r.tech_.playbackRate()&&r.tech_.seeking()?r.queuedCallbacks_.push({callback:r["handleTech"+Da[t]+"_"].bind(r),event:e}):r["handleTech"+Da[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||H(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},Ma.prototype.unloadTech_=function(){var r=this;Mr.names.forEach(function(e){var t=Mr[e];r[t.privateName]=r[t.getterName]()}),this.textTracksJson_=Ft(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},Ma.prototype.tech=function(e){return void 0===e&&w.warn(d(Oa)),this.tech_},Ma.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},Ma.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},Ma.prototype.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},Ma.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},Ma.prototype.manualAutoplay_=function(t){var r=this;if(this.tech_&&"string"==typeof t){function e(){var t=r.muted();r.muted(!0);var e=r.play();if(e&&e.then&&e.catch)return e.catch(function(e){r.muted(t)})}var n=void 0;if("any"===t?(n=this.play())&&n.then&&n.catch&&n.catch(function(){return e()}):n="muted"===t?e():this.play(),n&&n.then&&n.catch)return n.then(function(){r.trigger({type:"autoplay-success",autoplay:t})}).catch(function(e){r.trigger({type:"autoplay-failure",autoplay:t})})}},Ma.prototype.updateSourceCaches_=function(e){var t=0<arguments.length&&void 0!==e?e:"",r=t,n="";"string"!=typeof r&&(r=t.src,n=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var r=e.cache_.sources.filter(function(e){return e.src===t});if(r.length)return r[0].type;for(var n=e.$$("source"),s=0;s<n.length;s++){var i=n[s];if(i.type&&i.src&&i.src===t)return i.type}return Qr(t)}(this,r)),this.cache_.source=$e({},t,{src:r,type:n});for(var s=this.cache_.sources.filter(function(e){return e.src&&e.src===r}),i=[],a=this.$$("source"),o=[],l=0;l<a.length;l++){var u=Y(a[l]);i.push(u),u.src&&u.src===r&&o.push(u.src)}o.length&&!s.length?this.cache_.sources=i:s.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r},Ma.prototype.handleTechSourceset_=function(e){var r=this;this.changingSrc_||(this.updateSourceCaches_(e.src),e.src)||this.tech_.one(["sourceset","loadstart"],function e(t){"sourceset"!==t.type&&r.updateSourceCaches_(r.techGet_("currentSrc")),r.tech_.off(["sourceset","loadstart"],e)}),this.trigger({src:e.src,type:"sourceset"})},Ma.prototype.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},Ma.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},Ma.prototype.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},Ma.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},Ma.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},Ma.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},Ma.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},Ma.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},Ma.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},Ma.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(w.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},Ma.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},Ma.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},Ma.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},Ma.prototype.handleTechClick_=function(e){oe(e)&&this.controls_&&(this.paused()?Mt(this.play()):this.pause())},Ma.prototype.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)})||(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},Ma.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},Ma.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},Ma.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},Ma.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},Ma.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},Ma.prototype.handleStageClick_=function(){this.reportUserActivity()},Ma.prototype.handleTechFullscreenChange_=function(e,t){t&&(t.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(t.isFullscreen)),this.trigger("fullscreenchange")},Ma.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},Ma.prototype.handleTechTextData_=function(e,t){var r=null;1<arguments.length&&(r=t),this.trigger("textdata",r)},Ma.prototype.getCache=function(){return this.cache_},Ma.prototype.techCall_=function(s,i){this.ready(function(){if(s in Yr)return e=this.middleware_,t=this.tech_,n=i,t[r=s](e.reduce(Kr(r),n));if(s in Xr)return zr(this.middleware_,this.tech_,s,i);var e,t,r,n;try{this.tech_&&this.tech_[s](i)}catch(e){throw w(e),e}},!0)},Ma.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Wr)return e=this.middleware_,r=this.tech_,n=t,e.reduceRight(Kr(n),r[n]());if(t in Xr)return zr(this.middleware_,this.tech_,t);var e,r,n;try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw w("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw w("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw w(e),e}}},Ma.prototype.play=function(){var e=this;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.playOnLoadstart_=function(){e.playOnLoadstart_=null,Mt(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,Mt(e.play())})}},Ma.prototype.pause=function(){this.techCall_("pause")},Ma.prototype.paused=function(){return!1!==this.techGet_("paused")},Ma.prototype.played=function(){return this.techGet_("played")||Et(0,0)},Ma.prototype.scrubbing=function(e){if("undefined"==typeof e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},Ma.prototype.currentTime=function(e){return"undefined"!=typeof e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},Ma.prototype.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&((this.cache_.duration=e)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},Ma.prototype.remainingTime=function(){return this.duration()-this.currentTime()},Ma.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},Ma.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=Et(0,0)),e},Ma.prototype.bufferedPercent=function(){return kt(this.buffered(),this.duration())},Ma.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),r=e.end(e.length-1);return t<r&&(r=t),r},Ma.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},Ma.prototype.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},Ma.prototype.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},Ma.prototype.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},Ma.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},Ma.prototype.isFullscreen=function(e){if(void 0===e)return!!this.isFullscreen_;this.isFullscreen_=!!e},Ma.prototype.requestFullscreen=function(){var r=xt;this.isFullscreen(!0),r.requestFullscreen?(Se(c,r.fullscreenchange,Re(this,function e(t){this.isFullscreen(c[r.fullscreenElement]),!1===this.isFullscreen()&&we(c,r.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[r.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},Ma.prototype.exitFullscreen=function(){var e=xt;this.isFullscreen(!1),e.requestFullscreen?c[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},Ma.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=c.documentElement.style.overflow,Se(c,"keydown",Re(this,this.fullWindowOnEscKey)),c.documentElement.style.overflow="hidden",V(c.body,"vjs-full-window"),this.trigger("enterFullWindow")},Ma.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},Ma.prototype.exitFullWindow=function(){this.isFullWindow=!1,we(c,"keydown",this.fullWindowOnEscKey),c.documentElement.style.overflow=this.docOrigOverflow,G(c.body,"vjs-full-window"),this.trigger("exitFullWindow")},Ma.prototype.canPlayType=function(e){for(var t=void 0,r=0,n=this.options_.techOrder;r<n.length;r++){var s=n[r],i=Br.getTech(s);if(i=i||Qe.getComponent(s)){if(i.isSupported()&&(t=i.canPlayType(e)))return t}else w.error('The "'+s+'" tech is undefined. Skipped browser support check for that tech.')}return""},Ma.prototype.selectSource=function(e){function t(e,r,n){var s=void 0;return e.some(function(t){return r.some(function(e){if(s=n(t,e))return!0})}),s}function r(e,t){var r=e[0];if(e[1].canPlaySource(t,s.options_[r.toLowerCase()]))return{source:t,tech:r}}var n,s=this,i=this.options_.techOrder.map(function(e){return[e,Br.getTech(e)]}).filter(function(e){var t=e[0],r=e[1];return r?r.isSupported():(w.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)});return(this.options_.sourceOrder?t(e,i,(n=r,function(e,t){return n(t,e)})):t(i,e,r))||!1},Ma.prototype.src=function(e){var s=this;if("undefined"==typeof e)return this.cache_.src||"";var i=function t(e){if(Array.isArray(e)){var r=[];e.forEach(function(e){e=t(e),Array.isArray(e)?r=r.concat(e):A(e)&&r.push(e)}),e=r}else e="string"==typeof e&&e.trim()?[Zr({src:e})]:A(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[Zr(e)]:[];return e}(e);i.length?(this.changingSrc_=!0,this.cache_.sources=i,this.updateSourceCaches_(i[0]),Gr(this,i[0],function(e,t){var r,n;if(s.middleware_=t,s.cache_.sources=i,s.updateSourceCaches_(e),s.src_(e))return 1<i.length?s.src(i.slice(1)):(s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void s.triggerReady());r=t,n=s.tech_,r.forEach(function(e){return e.setTech&&e.setTech(n)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},Ma.prototype.src_=function(e){var t,r,n=this,s=this.selectSource([e]);return!s||(t=s.tech,r=this.techName_,Ke(t)!==Ke(r)?(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){n.changingSrc_=!1})):this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1)},Ma.prototype.load=function(){this.techCall_("load")},Ma.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},Ma.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},Ma.prototype.currentSource=function(){return this.cache_.source||{}},Ma.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},Ma.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},Ma.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},Ma.prototype.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t=void 0;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=t||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",t)},Ma.prototype.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},Ma.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},Ma.prototype.poster=function(e){if(void 0===e)return this.poster_;(e=e||"")!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},Ma.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},Ma.prototype.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},Ma.prototype.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},Ma.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new Rt(e),this.addClass("vjs-error"),w.error("(CODE:"+this.error_.code+" "+Rt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},Ma.prototype.reportUserActivity=function(){this.userActivity_=!0},Ma.prototype.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},Ma.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,r=void 0,n=Re(this,this.reportUserActivity);this.on("mousedown",function(){n(),this.clearInterval(e),e=this.setInterval(n,250)}),this.on("mousemove",function(e){e.screenX===t&&e.screenY===r||(t=e.screenX,r=e.screenY,n())}),this.on("mouseup",function(){n(),this.clearInterval(e)}),this.on("keydown",n),this.on("keyup",n);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e<=0||(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},Ma.prototype.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},Ma.prototype.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},Ma.prototype.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},Ma.prototype.addTextTrack=function(e,t,r){if(this.tech_)return this.tech_.addTextTrack(e,t,r)},Ma.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},Ma.prototype.removeRemoteTextTrack=function(e){var t=(0<arguments.length&&void 0!==e?e:{}).track,r=void 0===t?e:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(r)},Ma.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},Ma.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},Ma.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},Ma.prototype.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},Ma.prototype.languages=function(){return $e(Ma.prototype.options_.languages,this.languages_)},Ma.prototype.toJSON=function(){var e=$e(this.options_),t=e.tracks;e.tracks=[];for(var r=0;r<t.length;r++){var n=t[r];(n=$e(n)).player=void 0,e.tracks[r]=n}return e},Ma.prototype.createModal=function(e,t){var r=this;(t=t||{}).content=e||"";var n=new Vt(this,t);return this.addChild(n),n.on("dispose",function(){r.removeChild(n)}),n.open(),n},Ma.getTagSettings=function(e){var t={sources:[],tracks:[]},r=Y(e),n=r["data-setup"];if(q(e,"vjs-fluid")&&(r.fluid=!0),null!==n){var s=p(n||"{}"),i=s[0],a=s[1];i&&w.error(i),C(r,a)}if(C(t,r),e.hasChildNodes())for(var o=e.childNodes,l=0,u=o.length;l<u;l++){var c=o[l],d=c.nodeName.toLowerCase();"source"===d?t.sources.push(Y(c)):"track"===d&&t.tracks.push(Y(c))}return t},Ma.prototype.flexNotSupported_=function(){var e=c.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},Ma);function Ma(e,t,r){if(_(this,Ma),e.id=e.id||t.id||"vjs_video_"+pe(),(t=C(Ma.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var n=e.closest("[lang]");n&&n.getAttribute&&(t.language=n.getAttribute("lang"))}else for(var s=e;s&&1===s.nodeType;){if(Y(s).hasOwnProperty("lang")){t.language=s.getAttribute("lang");break}s=s.parentNode}var i=T(this,La.call(this,null,t,r));if(i.isPosterFromTech_=!1,i.queuedCallbacks_=[],i.isReady_=!1,i.hasStarted_=!1,i.userActive_=!1,!i.options_||!i.options_.techOrder||!i.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(i.tag=e,i.tagAttributes=e&&Y(e),i.language(i.options_.language),t.languages){var a={};Object.getOwnPropertyNames(t.languages).forEach(function(e){a[e.toLowerCase()]=t.languages[e]}),i.languages_=a}else i.languages_=Ma.prototype.options_.languages;i.cache_={},i.poster_=t.poster||"",i.controls_=!!t.controls,i.cache_.lastVolume=1,e.controls=!1,e.removeAttribute("controls"),e.hasAttribute("autoplay")?i.options_.autoplay=!0:i.autoplay(i.options_.autoplay),i.scrubbing_=!1,i.el_=i.createEl(),i.cache_.lastPlaybackRate=i.defaultPlaybackRate(),We(i,{eventBusKey:"el_"});var o=$e(i.options_);if(t.plugins){var l=t.plugins;Object.keys(l).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](l[e])},i)}i.options_.playerOptions=o,i.middleware_=[],i.initChildren(),i.isAudio("audio"===e.nodeName.toLowerCase()),i.controls()?i.addClass("vjs-controls-enabled"):i.addClass("vjs-controls-disabled"),i.el_.setAttribute("role","region"),i.isAudio()?i.el_.setAttribute("aria-label",i.localize("Audio Player")):i.el_.setAttribute("aria-label",i.localize("Video Player")),i.isAudio()&&i.addClass("vjs-audio"),i.flexNotSupported_()&&i.addClass("vjs-no-flex"),ut||i.addClass("vjs-workinghover"),Ma.players[i.id_]=i;var u=f.split(".")[0];return i.addClass("vjs-v"+u),i.userActive(!0),i.reportUserActivity(),i.one("play",i.listenForUserActivity_),i.on("fullscreenchange",i.handleFullscreenChange_),i.on("stageclick",i.handleStageClick_),i.changingSrc_=!1,i.playWaitingForReady_=!1,i.playOnLoadstart_=null,i}Mr.names.forEach(function(e){var t=Mr[e];Ua.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),Ua.players={};var Na=y.navigator;Ua.prototype.options_={techOrder:Br.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Na&&(Na.languages&&Na.languages[0]||Na.userLanguage||Na.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){Ua.prototype[e]=function(){return this.techGet_(e)}}),Ra.forEach(function(e){Ua.prototype["handleTech"+Ke(e)+"_"]=function(){return this.trigger(e)}}),Qe.registerComponent("Player",Ua);function Ba(e){return Ya.hasOwnProperty(e)}function Fa(e){return Ba(e)?Ya[e]:void 0}function Ha(e,t){e[Wa]=e[Wa]||{},e[Wa][t]=!0}function qa(e,t,r){var n=(r?"before":"")+"pluginsetup";e.trigger(n,t),e.trigger(n+":"+t.name,t)}function Va(t,r){function n(){qa(this,{name:t,plugin:r,instance:null},!0);var e=r.apply(this,arguments);return Ha(this,t),qa(this,{name:t,plugin:r,instance:e}),e}return Object.keys(r).forEach(function(e){n[e]=r[e]}),n}function Ga(s,i){return i.prototype.name=s,function(){qa(this,{name:s,plugin:i,instance:null},!0);for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=new(Function.prototype.bind.apply(i,[null].concat([this].concat(t))));return this[s]=function(){return n},qa(this,n.getEventHash()),n}}var za="plugin",Wa="activePlugins_",Ya={},Xa=(Ka.prototype.version=function(){return this.constructor.VERSION},Ka.prototype.getEventHash=function(e){var t=0<arguments.length&&void 0!==e?e:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},Ka.prototype.trigger=function(e,t){var r=1<arguments.length&&void 0!==t?t:{};return Ee(this.eventBusEl_,e,this.getEventHash(r))},Ka.prototype.handleStateChanged=function(){},Ka.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Wa][e]=!1,this.player=this.state=null,t[e]=Ga(e,Ya[e])},Ka.isBasic=function(e){var t="string"==typeof e?Fa(e):e;return"function"==typeof t&&!Ka.prototype.isPrototypeOf(t.prototype)},Ka.registerPlugin=function(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+("undefined"==typeof e?"undefined":Ct(e))+".");if(Ba(e))w.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Ua.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+("undefined"==typeof t?"undefined":Ct(t))+".");return Ya[e]=t,e!==za&&(Ka.isBasic(t)?Ua.prototype[e]=Va(e,t):Ua.prototype[e]=Ga(e,t)),t},Ka.deregisterPlugin=function(e){if(e===za)throw new Error("Cannot de-register base plugin.");Ba(e)&&(delete Ya[e],delete Ua.prototype[e])},Ka.getPlugins=function(e){var t=0<arguments.length&&void 0!==e?e:Object.keys(Ya),r=void 0;return t.forEach(function(e){var t=Fa(e);t&&((r=r||{})[e]=t)}),r},Ka.getPluginVersion=function(e){var t=Fa(e);return t&&t.VERSION||""},Ka);function Ka(e){if(_(this,Ka),this.constructor===Ka)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,We(this),delete this.trigger,Xe(this,this.constructor.defaultState),Ha(e,this.name),this.dispose=Re(this,this.dispose),e.on("dispose",this.dispose)}Xa.getPlugin=Fa,Xa.BASE_PLUGIN_NAME=za,Xa.registerPlugin(za,Xa),Ua.prototype.usingPlugin=function(e){return!!this[Wa]&&!0===this[Wa][e]},Ua.prototype.hasPlugin=function(e){return!!Ba(e)};var $a=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Qa(e,r,t){var n=Qa.getPlayer(e);if(n)return r&&w.warn('Player "'+e+'" is already initialised. Options will not be applied.'),t&&n.ready(t),n;var s="string"==typeof e?le("#"+$a(e)):e;if(!U(s))throw new TypeError("The element or ID supplied is not valid. (videojs)");c.body.contains(s)||w.warn("The element supplied is not included in the DOM"),r=r||{},Qa.hooks("beforesetup").forEach(function(e){var t=e(s,$e(r));A(t)&&!Array.isArray(t)?r=$e(r,t):w.error("please return an object in beforesetup hooks")});var i=Qe.getComponent("Player");return n=new i(s,r,t),Qa.hooks("setup").forEach(function(e){return e(n)}),n}if(Qa.hooks_={},Qa.hooks=function(e,t){return Qa.hooks_[e]=Qa.hooks_[e]||[],t&&(Qa.hooks_[e]=Qa.hooks_[e].concat(t)),Qa.hooks_[e]},Qa.hook=function(e,t){Qa.hooks(e,t)},Qa.hookOnce=function(r,e){Qa.hooks(r,[].concat(e).map(function(t){return function e(){return Qa.removeHook(r,e),t.apply(void 0,arguments)}}))},Qa.removeHook=function(e,t){var r=Qa.hooks(e).indexOf(t);return!(r<=-1)&&(Qa.hooks_[e]=Qa.hooks_[e].slice(),Qa.hooks_[e].splice(r,1),!0)},!0!==y.VIDEOJS_NO_DYNAMIC_STYLE&&D()){var Ja=le(".vjs-styles-defaults");if(!Ja){Ja=Le("vjs-styles-defaults");var Za=le("head");Za&&Za.insertBefore(Ja,Za.firstChild),Oe(Ja,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Pe(1,Qa),Qa.VERSION=f,Qa.options=Ua.prototype.options_,Qa.getPlayers=function(){return Ua.players},Qa.getPlayer=function(e){var t=Ua.players,r=void 0;if("string"==typeof e){var n=$a(e),s=t[n];if(s)return s;r=le("#"+n)}else r=e;if(U(r)){var i=r.player,a=r.playerId;if(i||t[a])return i||t[a]}},Qa.getAllPlayers=function(){return Object.keys(Ua.players).map(function(e){return Ua.players[e]}).filter(Boolean)},Qa.players=Ua.players,Qa.getComponent=Qe.getComponent,Qa.registerComponent=function(e,t){Br.isTech(t)&&w.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Qe.registerComponent.call(Qe,e,t)},Qa.getTech=Br.getTech,Qa.registerTech=Br.registerTech,Qa.use=function(e,t){Hr[e]=Hr[e]||[],Hr[e].push(t)},Object.defineProperty(Qa,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Qa.middleware,"TERMINATOR",{value:Vr,writeable:!1,enumerable:!0}),Qa.browser=Tt,Qa.TOUCH_ENABLED=jt,Qa.extend=function(e,t){var r=1<arguments.length&&void 0!==t?t:{},n=function(){e.apply(this,arguments)},s={};for(var i in"object"===("undefined"==typeof r?"undefined":Ct(r))?(r.constructor!==Object.prototype.constructor&&(n=r.constructor),s=r):"function"==typeof r&&(n=r),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":Ct(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)}(n,e),s)s.hasOwnProperty(i)&&(n.prototype[i]=s[i]);return n},Qa.mergeOptions=$e,Qa.bind=Re,Qa.registerPlugin=Xa.registerPlugin,Qa.deregisterPlugin=Xa.deregisterPlugin,Qa.plugin=function(e,t){return w.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Xa.registerPlugin(e,t)},Qa.getPlugins=Xa.getPlugins,Qa.getPlugin=Xa.getPlugin,Qa.getPluginVersion=Xa.getPluginVersion,Qa.addLanguage=function(e,t){var r;return e=(""+e).toLowerCase(),Qa.options.languages=$e(Qa.options.languages,((r={})[e]=t,r)),Qa.options.languages[e]},Qa.log=w,Qa.createTimeRange=Qa.createTimeRanges=Et,Qa.formatTime=Rn,Qa.setFormatTime=function(e){On=e},Qa.resetFormatTime=function(){On=Ln},Qa.parseUrl=gr,Qa.isCrossOrigin=_r,Qa.EventTarget=Ue,Qa.on=Se,Qa.one=ke,Qa.off=we,Qa.trigger=Ee,Qa.xhr=u,Qa.TextTrack=wr,Qa.AudioTrack=xr,Qa.VideoTrack=Ir,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){Qa[e]=function(){return w.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),ce[e].apply(null,arguments)}}),Qa.computedStyle=P,Qa.dom=ce,Qa.url=Sr;function eo(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=i.buildAbsoluteURL(y.location.href,e)),i.buildAbsoluteURL(e,t))}function to(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ro=function(e,t,r){return t&&no(e.prototype,t),r&&no(e,r),e};function no(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function so(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":Ct(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function io(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":Ct(t))&&"function"!=typeof t?e:t}function ao(s,i){["AUDIO","SUBTITLES"].forEach(function(e){for(var t in s.mediaGroups[e])for(var r in s.mediaGroups[e][t]){var n=s.mediaGroups[e][t][r];i(n,e,t,r)}})}function oo(e,t){var r=ho(e,{}),n=r.playlists[t.uri];if(!n)return null;if(n.segments&&t.segments&&n.segments.length===t.segments.length&&n.mediaSequence===t.mediaSequence)return null;var s=ho(n,t);n.segments&&(s.segments=function(e,t,r){var n=t.slice();r=r||0;for(var s=Math.min(e.length,t.length+r),i=r;i<s;i++)n[i-r]=ho(e[i],n[i-r]);return n}(n.segments,t.segments,t.mediaSequence-n.mediaSequence)),s.segments.forEach(function(e){var t,r;t=e,r=s.resolvedUri,t.resolvedUri||(t.resolvedUri=eo(r,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=eo(r,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=eo(r,t.map.uri))});for(var i=0;i<r.playlists.length;i++)r.playlists[i].uri===t.uri&&(r.playlists[i]=s);return r.playlists[t.uri]=s,r}function lo(e){for(var t=e.playlists.length;t--;){var r=e.playlists[t];(e.playlists[r.uri]=r).resolvedUri=eo(e.uri,r.uri),r.id=t,r.attributes||(r.attributes={},fo.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}}function uo(t){ao(t,function(e){e.uri&&(e.resolvedUri=eo(t.uri,e.uri))})}function co(e,t){var r=e.segments[e.segments.length-1];return t&&r&&r.duration?1e3*r.duration:500*(e.targetDuration||10)}var po=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,s=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){s=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(s)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ho=Qa.mergeOptions,fo=Qa.log,mo=(so(yo,Qa.EventTarget),ro(yo,[{key:"playlistRequestError",value:function(e,t,r){this.request=null,r&&(this.state=r),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:500<=e.status?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var r=this;this.request=null,this.state="HAVE_METADATA";var n=new a.Parser;n.push(e.responseText),n.end(),n.manifest.uri=t,n.manifest.attributes=n.manifest.attributes||{};var s=oo(this.master,n.manifest);this.targetDuration=n.manifest.targetDuration,s?(this.master=s,this.media_=this.master.playlists[n.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(y.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=y.setTimeout(function(){r.trigger("mediaupdatetimeout")},co(this.media(),!!s))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(r){var n=this;if(!r)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if("string"==typeof r){if(!this.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.master.playlists[r]}var e=!this.media_||r.uri!==this.media_.uri;if(this.master.playlists[r.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=r,void(e&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(e){if(this.state="SWITCHING_MEDIA",this.request){if(eo(this.master.uri,r.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:eo(this.master.uri,r.uri),withCredentials:this.withCredentials},function(e,t){if(n.request){if(e)return n.playlistRequestError(n.request,r.uri,s);n.haveMetadata(t,r.uri),"HAVE_MASTER"===s?n.trigger("loadedmetadata"):n.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;y.clearTimeout(this.mediaUpdateTimeout);var r=this.media();if(e){var n=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=y.setTimeout(function(){return t.load()},n)}else this.started?r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var n=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(n.request){if(n.request=null,e)return n.error={status:t.status,message:"HLS playlist request error at URL: "+n.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");var r=new a.Parser;return r.push(t.responseText),r.end(),n.state="HAVE_MASTER",r.manifest.uri=n.srcUrl,r.manifest.playlists?(n.master=r.manifest,lo(n.master),uo(n.master),n.trigger("loadedplaylist"),void(n.request||n.media(r.manifest.playlists[0]))):(n.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:y.location.href,playlists:[{uri:n.srcUrl,id:0}]},n.master.playlists[n.srcUrl]=n.master.playlists[0],n.master.playlists[0].resolvedUri=n.srcUrl,n.master.playlists[0].attributes=n.master.playlists[0].attributes||{},n.haveMetadata(t,n.srcUrl),n.trigger("loadedmetadata"))}})}}]),yo);function yo(e,t,r){to(this,yo);var n=io(this,(yo.__proto__||Object.getPrototypeOf(yo)).call(this));if(n.srcUrl=e,n.hls_=t,n.withCredentials=r,!n.srcUrl)throw new Error("A non-empty playlist URL is required");return n.state="HAVE_NOTHING",n.on("mediaupdatetimeout",function(){"HAVE_METADATA"===n.state&&(n.state="HAVE_CURRENT_METADATA",n.request=n.hls_.xhr({uri:eo(n.master.uri,n.media().uri),withCredentials:n.withCredentials},function(e,t){if(n.request)return e?n.playlistRequestError(n.request,n.media().uri,"HAVE_METADATA"):void n.haveMetadata(n.request,n.media().uri)}))}),n}function go(e,t,r){var n,s;return"undefined"==typeof t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(n=function(e,t){var r=0,n=t-e.mediaSequence,s=e.segments[n];if(s){if("undefined"!=typeof s.start)return{result:s.start,precise:!0};if("undefined"!=typeof s.end)return{result:s.end-s.duration,precise:!0}}for(;n--;){if("undefined"!=typeof(s=e.segments[n]).end)return{result:r+s.end,precise:!0};if(r+=s.duration,"undefined"!=typeof s.start)return{result:r+s.start,precise:!0}}return{result:r,precise:!1}}(e,t)).precise?n.result:(s=function(e,t){for(var r=0,n=void 0,s=t-e.mediaSequence;s<e.segments.length;s++){if("undefined"!=typeof(n=e.segments[s]).start)return{result:n.start-r,precise:!0};if(r+=n.duration,"undefined"!=typeof n.end)return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}}(e,t)).precise?s.result:n.result+r}function vo(e,t,r){if(!e)return 0;if("number"!=typeof r&&(r=0),"undefined"==typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return y.Infinity}return go(e,t,r)}function bo(e,t,r){var n=0;if(r<t){var s=[r,t];t=s[0],r=s[1]}if(t<0){for(var i=t;i<Math.min(0,r);i++)n+=e.targetDuration;t=0}for(var a=t;a<r;a++)n+=e.segments[a].duration;return n}function _o(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,r=e.segments[t].duration||e.targetDuration,n=r+2*e.targetDuration;t--&&!(n<=(r+=e.segments[t].duration)););return Math.max(0,t)}function jo(e,t,r){if(!e||!e.segments)return null;if(e.endList)return vo(e);if(null===t)return null;t=t||0;var n=r?_o(e):e.segments.length;return go(e,e.mediaSequence+n,t)}function To(e){return e-Math.floor(e)==0}function So(e,t){if(To(t))return t+.1*e;for(var r=t.toString().split(".")[1].length,n=1;n<=r;n++){var s=Math.pow(10,n),i=t*s;if(To(i)||n===r)return(i+e)/s}}function wo(e){return e.excludeUntil&&e.excludeUntil>Date.now()}function Eo(e){return e.excludeUntil&&e.excludeUntil===1/0}function ko(e){var t=wo(e);return!e.disabled&&!t}function xo(e,t){return t.attributes&&t.attributes[e]}function Co(e,t){if(1===e.playlists.length)return!0;var r=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!ko(e)&&(e.attributes.BANDWIDTH||0)<r}).length}function Ao(){return function e(t,n){t=Xo({timeout:45e3},t);var r=e.beforeRequest||Qa.Hls.xhr.beforeRequest;if(r&&"function"==typeof r){var s=r(t);s&&(t=s)}var i=Yo(t,function(e,t){var r=i.response;!e&&r&&(i.responseTime=Date.now(),i.roundTripTime=i.responseTime-i.requestTime,i.bytesReceived=r.byteLength||r.length,i.bandwidth||(i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3))),t.headers&&(i.responseHeaders=t.headers),e&&"ETIMEDOUT"===e.code&&(i.timedout=!0),e||i.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(i&&(r||i.responseText)))),n(e,i)}),a=i.abort;return i.abort=function(){return i.aborted=!0,a.apply(i,arguments)},i.uri=t.uri,i.requestTime=Date.now(),i}}function Io(e,t){var r=e.toString(16);return"00".substring(0,2-r.length)+r+(t%2?" ":"")}function Po(e){return 32<=e&&e<126?String.fromCharCode(e):"."}function Lo(r){var n={};return Object.keys(r).forEach(function(e){var t=r[e];ArrayBuffer.isView(t)?n[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:n[e]=t}),n}function Oo(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}function Ro(e){for(var t=Array.prototype.slice.call(e),r="",n=0;n<t.length/16;n++)r+=t.slice(16*n,16*n+16).map(Io).join("")+" "+t.slice(16*n,16*n+16).map(Po).join("")+"\n";return r}function Do(e,t){var r=[],n=void 0;if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&r.push([e.start(n),e.end(n)]);return Qa.createTimeRanges(r)}function Uo(e,r){return Do(e,function(e,t){return e-$o<=r&&r<=t+$o})}function Mo(e,t){return Do(e,function(e){return t<=e-$o})}function No(e){var t=[];if(!e||!e.length)return"";for(var r=0;r<e.length;r++)t.push(e.start(r)+" => "+e.end(r));return t.join(", ")}function Bo(e){for(var t=[],r=0;r<e.length;r++)t.push({start:e.start(r),end:e.end(r)});return t}function Fo(e,t,r){var n=void 0,s=void 0;if(r&&r.cues)for(n=r.cues.length;n--;)(s=r.cues[n]).startTime<=t&&s.endTime>=e&&r.removeCue(s)}function Ho(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e}function qo(e,t,r){var s=y.WebKitDataCue||y.VTTCue;if(t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new s(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),r){var i=Ho(e.mediaSource_.duration);if(r.forEach(function(e){var n=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var t,r=new s(n,n,e.value||e.url||e.data||"");r.frame=e,r.value=e,t=r,Object.defineProperties(t.frame,{id:{get:function(){return Qa.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return Qa.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return Qa.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}}),this.metadataTrack_.addCue(r)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length){for(var n=e.metadataTrack_.cues,a=[],o=0;o<n.length;o++)n[o]&&a.push(n[o]);var l=a.reduce(function(e,t){var r=e[t.startTime]||[];return r.push(t),e[t.startTime]=r,e},{}),u=Object.keys(l).sort(function(e,t){return Number(e)-Number(t)});u.forEach(function(e,t){var r=l[e],n=Number(u[t+1])||i;r.forEach(function(e){e.endTime=n})})}}}var Vo=Qa.createTimeRange,Go=So.bind(null,1),zo=So.bind(null,-1),Wo={duration:vo,seekable:function(e,t){var r=t||0,n=jo(e,t,!0);return null===n?Vo():Vo(r,n)},safeLiveIndex:_o,getMediaInfoForTime:function(e,t,r,n){var s=void 0,i=void 0,a=e.segments.length,o=t-n;if(o<0){if(0<r)for(s=r-1;0<=s;s--)if(i=e.segments[s],0<(o+=zo(i.duration)))return{mediaIndex:s,startTime:n-bo(e,r,s)};return{mediaIndex:0,startTime:t}}if(r<0){for(s=r;s<0;s++)if((o-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};r=0}for(s=r;s<a;s++)if(i=e.segments[s],(o-=Go(i.duration))<0)return{mediaIndex:s,startTime:n+bo(e,r,s)};return{mediaIndex:a-1,startTime:t}},isEnabled:ko,isDisabled:function(e){return e.disabled},isBlacklisted:wo,isIncompatible:Eo,playlistEnd:jo,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},isFmp4:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1},hasAttribute:xo,estimateSegmentRequestTime:function(e,t,r,n){var s=3<arguments.length&&void 0!==n?n:0;return xo("BANDWIDTH",r)?(e*r.attributes.BANDWIDTH-8*s)/t:NaN},isLowestEnabledRendition:Co},Yo=Qa.xhr,Xo=Qa.mergeOptions,Ko=Object.freeze({createTransferableMessage:Lo,initSegmentId:Oo,hexDump:Ro,tagDump:function(e){var t=e.bytes;return Ro(t)},textRanges:function(e){var t,r,n="",s=void 0;for(s=0;s<e.length;s++)n+=(r=s,(t=e).start(r)+"-"+t.end(r)+" ");return n}}),$o=1/30,Qo="undefined"!=typeof window?window:{},Jo="undefined"==typeof Symbol?"__target":Symbol(),Zo="application/javascript",el=Qo.BlobBuilder||Qo.WebKitBlobBuilder||Qo.MozBlobBuilder||Qo.MSBlobBuilder,tl=Qo.URL||Qo.webkitURL||tl&&tl.msURL,rl=Qo.Worker;function nl(s,i){return function(e){var t=this;if(!i)return new rl(s);if(rl&&!e){var r=ol(i.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Jo]=new rl(r),function(e,t){if(!e||!t)return;var r=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&tl.revokeObjectURL(e.objURL),r.call(e)}}(this[Jo],r),this[Jo]}var n={postMessage:function(e){t.onmessage&&setTimeout(function(){t.onmessage({data:e,target:n})})}};i.call(n),this.postMessage=function(e){setTimeout(function(){n.onmessage({data:e,target:t})})},this.isThisThread=!0}}if(rl){var sl,il=ol("self.onmessage = function () {}"),al=new Uint8Array(1);try{(sl=new rl(il)).postMessage(al,[al.buffer])}catch(e){rl=null}finally{tl.revokeObjectURL(il),sl&&sl.terminate()}}function ol(t){try{return tl.createObjectURL(new Blob([t],{type:Zo}))}catch(e){var r=new el;return r.append(t),tl.createObjectURL(r.getBlob(type))}}function ll(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,r){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(r).toString(16)).slice(-2)})})}function ul(e){var t,r=0<arguments.length&&void 0!==e?e:"",n={codecCount:0};return n.codecCount=r.split(",").length,n.codecCount=n.codecCount||2,(t=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(r))&&(n.videoCodec=t[2],n.videoObjectTypeIndicator=t[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(r),n.audioProfile=n.audioProfile&&n.audioProfile[2],n}function cl(e,t,r){return e+"/"+t+'; codecs="'+r.filter(function(e){return!!e}).join(", ")+'"'}function dl(e,t){var r,n,s=(r=t).segments&&r.segments.length&&r.segments[0].map?"mp4":"mp2t",i=(n=t.attributes||{}).CODECS?ul(n.CODECS):yl,a=t.attributes||{},o=!0,l=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&a.AUDIO){var u=e.mediaGroups.AUDIO[a.AUDIO];if(u)for(var c in o=!(l=!0),u)if(!u[c].uri&&!u[c].playlists){o=!0;break}}l&&!i.audioProfile&&(o||(i.audioProfile=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var r=e.mediaGroups.AUDIO[t];if(!r)return null;for(var n in r){var s=r[n];if(s.default&&s.playlists)return ul(s.playlists[0].attributes.CODECS).audioProfile}return null}(e,a.AUDIO)),i.audioProfile||(Qa.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=yl.audioProfile));var d={};i.videoCodec&&(d.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(d.audio="mp4a.40."+i.audioProfile);var p=cl("audio",s,[d.audio]),h=cl("video",s,[d.video]),f=cl("video",s,[d.video,d.audio]);return l?!o&&d.video?[h,p]:o||d.video?[f,p]:[p,p]:d.video?[f]:[p]}function pl(e){return/mp4a\.\d+.\d+/i.test(e)}function hl(e){return/avc1\.[\da-f]+/i.test(e)}function fl(e,t){var r=e.addSourceBuffer(t),n=Object.create(null);function s(t){"function"==typeof r[t]?n[t]=function(){return r[t].apply(r,arguments)}:"undefined"==typeof n[t]&&Object.defineProperty(n,t,{get:function(){return r[t]},set:function(e){return r[t]=e}})}for(var i in n.updating=!1,n.realBuffer_=r)s(i);return n}var ml=new nl("./transmuxer-worker.worker.js",function(kt,e){var xt=this;!function(){var o,t,r,s,i,n,e,a,l,u,c,d,p,h,f,m,y,g,v,b,_,j,T,S,w,E,k,x,C,A,I,P,L,O,R,D,U,M,N,B,F="undefined"!=typeof kt?kt:"undefined"!=typeof Uu?Uu:"undefined"!=typeof xt?xt:{},H="undefined"!=typeof kt?kt:"undefined"!=typeof F?F:"undefined"!=typeof xt?xt:{},q=Math.pow(2,32)-1;!function(){var e;if(j={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in j)j.hasOwnProperty(e)&&(j[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);T=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),w=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),S=new Uint8Array([0,0,0,1]),E=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),k=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),x={video:E,audio:k},I=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0]),P=new Uint8Array([0,0,0,0,0,0,0,0]),L=P,O=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),R=P,C=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),o=function(e){var t,r,n=[],s=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)s+=n[t].byteLength;for(r=new Uint8Array(s+8),new DataView(r.buffer,r.byteOffset,r.byteLength).setUint32(0,r.byteLength),r.set(e,4),t=0,s=8;t<n.length;t++)r.set(n[t],s),s+=n[t].byteLength;return r},t=function(){return o(j.dinf,o(j.dref,I))},r=function(e){return o(j.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},f=function(e){return o(j.hdlr,x[e])},h=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),o(j.mdhd,t)},p=function(e){return o(j.mdia,h(e),f(e.type),n(e))},i=function(e){return o(j.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},n=function(e){return o(j.minf,"video"===e.type?o(j.vmhd,C):o(j.smhd,A),t(),y(e))},e=function(e,t){for(var r=[],n=t.length;n--;)r[n]=v(t[n]);return o.apply(null,[j.moof,i(e)].concat(r))},a=function(e){for(var t=e.length,r=[];t--;)r[t]=c(e[t]);return o.apply(null,[j.moov,u(4294967295)].concat(r).concat(l(e)))},l=function(e){for(var t=e.length,r=[];t--;)r[t]=b(e[t]);return o.apply(null,[j.mvex].concat(r))},u=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(j.mvhd,t)},m=function(e){var t,r,n=e.samples||[],s=new Uint8Array(4+n.length);for(r=0;r<n.length;r++)t=n[r].flags,s[r+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return o(j.sdtp,s)},y=function(e){return o(j.stbl,g(e),o(j.stts,R),o(j.stsc,L),o(j.stsz,O),o(j.stco,P))},g=function(e){return o(j.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?D(e):U(e))},D=function(e){var t,r=e.sps||[],n=e.pps||[],s=[],i=[];for(t=0;t<r.length;t++)s.push((65280&r[t].byteLength)>>>8),s.push(255&r[t].byteLength),s=s.concat(Array.prototype.slice.call(r[t]));for(t=0;t<n.length;t++)i.push((65280&n[t].byteLength)>>>8),i.push(255&n[t].byteLength),i=i.concat(Array.prototype.slice.call(n[t]));return o(j.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(j.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length]).concat(s).concat([n.length]).concat(i))),o(j.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},U=function(e){return o(j.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))},d=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return o(j.tkhd,t)},v=function(e){var t,r,n,s,i,a;return t=o(j.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),i=Math.floor(e.baseMediaDecodeTime/(1+q)),a=Math.floor(e.baseMediaDecodeTime%(1+q)),r=o(j.tfdt,new Uint8Array([1,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),"audio"===e.type?(n=_(e,92),o(j.traf,t,r,n)):(s=m(e),n=_(e,s.length+92),o(j.traf,t,r,n,s))},c=function(e){return e.duration=e.duration||4294967295,o(j.trak,d(e),p(e))},b=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),o(j.trex,t)},B=function(e,t){var r=0,n=0,s=0,i=0;return e.length&&(void 0!==e[0].duration&&(r=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(s=4),void 0!==e[0].compositionTimeOffset&&(i=8)),[0,0,r|n|s|i,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},N=function(e,t){var r,n,s,i;for(n=e.samples||[],r=B(n,t+=20+16*n.length),i=0;i<n.length;i++)s=n[i],r=r.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size,s.flags.isLeading<<2|s.flags.dependsOn,s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,61440&s.flags.degradationPriority,15&s.flags.degradationPriority,(4278190080&s.compositionTimeOffset)>>>24,(16711680&s.compositionTimeOffset)>>>16,(65280&s.compositionTimeOffset)>>>8,255&s.compositionTimeOffset]);return o(j.trun,new Uint8Array(r))},M=function(e,t){var r,n,s,i;for(n=e.samples||[],r=B(n,t+=20+8*n.length),i=0;i<n.length;i++)s=n[i],r=r.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size]);return o(j.trun,new Uint8Array(r))},_=function(e,t){return"audio"===e.type?M(e,t):N(e,t)};var V,G,z,W,Y,X={ftyp:s=function(){return o(j.ftyp,T,S,T,w)},mdat:function(e){return o(j.mdat,e)},moof:e,moov:a,initSegment:function(e){var t,r=s(),n=a(e);return(t=new Uint8Array(r.byteLength+n.byteLength)).set(r),t.set(n,r.byteLength),t}},K=function(e){return e>>>0};z=function(e){return V(e,["moov","trak"]).reduce(function(e,t){var r,n,s,i,a;return(r=V(t,["tkhd"])[0])?(n=r[0],i=K(r[s=0===n?12:20]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3]),(a=V(t,["mdia","mdhd"])[0])?(s=0===(n=a[0])?12:20,e[i]=K(a[s]<<24|a[s+1]<<16|a[s+2]<<8|a[s+3]),e):null):null},{})},W=function(s,e){var t,r,n;return t=V(e,["moof","traf"]),r=[].concat.apply([],t.map(function(n){return V(n,["tfhd"]).map(function(e){var t,r;return t=K(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),r=s[t]||9e4,(V(n,["tfdt"]).map(function(e){var t,r;return t=e[0],r=K(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(r*=Math.pow(2,32),r+=K(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),r})[0]||1/0)/r})})),n=Math.min.apply(null,r),isFinite(n)?n:0},Y=function(e){var t=V(e,["moov","trak"]),o=[];return t.forEach(function(e){var t=V(e,["mdia","hdlr"]),a=V(e,["tkhd"]);t.forEach(function(e,t){var r,n,s=G(e.subarray(8,12)),i=a[t];"vide"===s&&(n=0===(r=new DataView(i.buffer,i.byteOffset,i.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),o.push(n))})}),o};function $(){this.init=function(){var i={};this.on=function(e,t){i[e]||(i[e]=[]),i[e]=i[e].concat(t)},this.off=function(e,t){var r;return!!i[e]&&(r=i[e].indexOf(t),i[e]=i[e].slice(),i[e].splice(r,1),-1<r)},this.trigger=function(e){var t,r,n,s;if(t=i[e])if(2===arguments.length)for(n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else{for(s=[],r=arguments.length,r=1;r<arguments.length;++r)s.push(arguments[r]);for(n=t.length,r=0;r<n;++r)t[r].apply(this,s)}},this.dispose=function(){i={}}}}var Q={findBox:V=function(e,t){var r,n,s,i,a,o=[];if(!t.length)return null;for(r=0;r<e.byteLength;)n=K(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]),s=G(e.subarray(r+4,r+8)),i=1<n?r+n:e.byteLength,s===t[0]&&(1===t.length?o.push(e.subarray(r+8,i)):(a=V(e.subarray(r+8,i),t.slice(1))).length&&(o=o.concat(a))),r=i;return o},parseType:G=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},timescale:z,startTime:W,videoTrackIds:Y};$.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},$.prototype.push=function(e){this.trigger("data",e)},$.prototype.flush=function(e){this.trigger("done",e)};function J(){J.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new ue(0,0),new ue(0,1),new ue(1,0),new ue(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)}var Z=$,ee=function(e){for(var t=0,r={payloadType:-1,payloadSize:0},n=0,s=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)s+=255,t++;if(s+=e[t++],!r.payload&&4===n){r.payloadType=n,r.payloadSize=s,r.payload=e.subarray(t,t+s);break}t+=s,s=n=0}return r},te=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},re=function(e,t){var r,n,s,i,a=[];if(!(64&t[0]))return a;for(n=31&t[0],r=0;r<n;r++)i={type:3&t[2+(s=3*r)],pts:e},4&t[2+s]&&(i.ccData=t[3+s]<<8|t[4+s],a.push(i));return a},ne=function(e){for(var t,r,n=e.byteLength,s=[],i=1;i<n-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(s.push(i+2),i+=2):i++;if(0===s.length)return e;t=n-s.length,r=new Uint8Array(t);var a=0;for(i=0;i<t;a++,i++)a===s[0]&&(a++,s.shift()),r[i]=e[a];return r},se=4;(J.prototype=new Z).push=function(e){var t,r,n;if("sei_rbsp"===e.nalUnitType&&(t=ee(e.escapedRBSP)).payloadType===se&&(r=te(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=re(e.pts,r),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},J.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)):this.ccStreams_.forEach(function(e){e.flush()},this)},J.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},J.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},J.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},J.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};function ie(e){return null===e?"":(e=oe[e]||e,String.fromCharCode(e))}function ae(){for(var e=[],t=15;t--;)e.push("");return e}var oe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},le=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ue=function e(t,r){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=r||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,r,n,s,i;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,s=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=ae();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ae();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=ae()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,s))i=ie((n=(3&n)<<8)|s),this[this.mode_](e.pts,i),this.column_++;else if(this.isExtCharacter(n,s))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=ie((n=(3&n)<<8)|s),this[this.mode_](e.pts,i),this.column_++;else if(this.isMidRowCode(n,s))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&s)&&this.addFormatting(e.pts,["i"]),1==(1&s)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,s))this.column_+=3&s;else if(this.isPAC(n,s)){var a=le.indexOf(7968&t);"rollUp"===this.mode_&&this.setRollUp(e.pts,a),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&s&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(s)&&14==(14&s)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===s&&(s=null),i=ie(n),i+=ie(s),this[this.mode_](e.pts,i),this.column_+=i.length)}else this.lastControlCode_=null}};ue.prototype=new Z,ue.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},ue.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ae(),this.nonDisplayed_=ae(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},ue.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},ue.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},ue.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},ue.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},ue.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},ue.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},ue.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},ue.prototype.isNormalChar=function(e){return 32<=e&&e<=127},ue.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=ae(),this.displayed_=ae()),void 0!==t&&t!==this.row_)for(var r=0;r<this.rollUpRows_;r++)this.displayed_[t-r]=this.displayed_[this.row_-r],this.displayed_[this.row_-r]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},ue.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var r=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,r)},ue.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},ue.prototype.popOn=function(e,t){var r=this.nonDisplayed_[this.row_];r+=t,this.nonDisplayed_[this.row_]=r},ue.prototype.rollUp=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r},ue.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},ue.prototype.paintOn=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r};function ce(e,t){var r=1;for(t<e&&(r=-1);4294967296<Math.abs(t-e);)e+=8589934592*r;return e}function de(e){var t,r;de.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(void 0===r&&(r=e.dts),e.dts=ce(e.dts,r),e.pts=ce(e.pts,r),t=e.dts,this.trigger("data",e))},this.flush=function(){r=t,this.trigger("done")},this.discontinuity=function(){t=r=void 0}}var pe={CaptionStream:J,Cea608Stream:ue},he={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};de.prototype=new Z;function fe(e,t,r){var n,s="";for(n=t;n<r;n++)s+="%"+("00"+e[n].toString(16)).slice(-2);return s}function me(e,t,r){return decodeURIComponent(fe(e,t,r))}function ye(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}var ge,ve=de,be={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=me(e.data,1,t),e.value=me(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=me(e.data,1,t),e.url=me(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,r;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(r=e.data,unescape(fe(r,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(ge=function(e){var t,l={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},u=0,c=[],d=0;if(ge.prototype.init.call(this),this.dispatchType=he.METADATA_STREAM_TYPE.toString(16),l.descriptor)for(t=0;t<l.descriptor.length;t++)this.dispatchType+=("00"+l.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,r,n,s,i;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(d=0,c.length=0),0===c.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))l.debug&&console.log("Skipping unrecognized metadata packet");else if(c.push(e),d+=e.data.byteLength,1===c.length&&(u=ye(e.data.subarray(6,10)),u+=10),!(d<u)){for(t={data:new Uint8Array(u),frames:[],pts:c[0].pts,dts:c[0].dts},i=0;i<u;)t.data.set(c[0].data.subarray(0,u-i),i),i+=c[0].data.byteLength,d-=c[0].data.byteLength,c.shift();r=10,64&t.data[5]&&(r+=4,r+=ye(t.data.subarray(10,14)),u-=ye(t.data.subarray(16,20)));do{if((n=ye(t.data.subarray(r+4,r+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((s={id:String.fromCharCode(t.data[r],t.data[r+1],t.data[r+2],t.data[r+3]),data:t.data.subarray(r+10,r+n+10)}).key=s.id,be[s.id]&&(be[s.id](s),"com.apple.streaming.transportStreamTimestamp"===s.owner)){var a=s.data,o=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;o*=4,o+=3&a[7],s.timeStamp=o,void 0===t.pts&&void 0===t.dts&&(t.pts=s.timeStamp,t.dts=s.timeStamp),this.trigger("timestamp",s)}t.frames.push(s),r+=10,r+=n}while(r<u);this.trigger("data",t)}}}).prototype=new Z;var _e,je,Te,Se=ge,we=ve;(_e=function(){var s=new Uint8Array(188),i=0;_e.prototype.init.call(this),this.push=function(e){var t,r=0,n=188;for(i?((t=new Uint8Array(e.byteLength+i)).set(s.subarray(0,i)),t.set(e,i),i=0):t=e;n<t.byteLength;)71!==t[r]||71!==t[n]?(r++,n++):(this.trigger("data",t.subarray(r,n)),r+=188,n+=188);r<t.byteLength&&(s.set(t.subarray(r),0),i=t.byteLength-r)},this.flush=function(){188===i&&71===s[0]&&(this.trigger("data",s),i=0),this.trigger("done")}}).prototype=new Z,(je=function(){var n,s,i,a;je.prototype.init.call(this),(a=this).packetsWaitingForPmt=[],this.programMapTable=void 0,n=function(e,t){var r=0;t.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===t.type?s(e.subarray(r),t):i(e.subarray(r),t)},s=function(e,t){t.section_number=e[7],t.last_section_number=e[8],a.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=a.pmtPid},i=function(e,t){var r,n;if(1&e[5]){for(a.programMapTable={video:null,audio:null,"timed-metadata":{}},r=3+((15&e[1])<<8|e[2])-4,n=12+((15&e[10])<<8|e[11]);n<r;){var s=e[n],i=(31&e[n+1])<<8|e[n+2];s===he.H264_STREAM_TYPE&&null===a.programMapTable.video?a.programMapTable.video=i:s===he.ADTS_STREAM_TYPE&&null===a.programMapTable.audio?a.programMapTable.audio=i:s===he.METADATA_STREAM_TYPE&&(a.programMapTable["timed-metadata"][i]=s),n+=5+((15&e[n+3])<<8|e[n+4])}t.programMapTable=a.programMapTable}},this.push=function(e){var t={},r=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(r+=e[r]+1),0===t.pid)t.type="pat",n(e.subarray(r),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",n(e.subarray(r),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,r,t]):this.processPes_(e,r,t)},this.processPes_=function(e,t,r){r.pid===this.programMapTable.video?r.streamType=he.H264_STREAM_TYPE:r.pid===this.programMapTable.audio?r.streamType=he.ADTS_STREAM_TYPE:r.streamType=this.programMapTable["timed-metadata"][r.pid],r.type="pes",r.data=e.subarray(t),this.trigger("data",r)}}).prototype=new Z,je.STREAM_TYPES={h264:27,adts:15},(Te=function(){function n(e,t,r){var n,s,i=new Uint8Array(e.size),a={type:t},o=0,l=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,o=0;o<e.data.length;o++)s=e.data[o],i.set(s.data,l),l+=s.data.byteLength;var u,c,d;u=i,(c=a).packetLength=6+(u[4]<<8|u[5]),c.dataAlignmentIndicator=0!=(4&u[6]),192&(d=u[7])&&(c.pts=(14&u[9])<<27|(255&u[10])<<20|(254&u[11])<<12|(255&u[12])<<5|(254&u[13])>>>3,c.pts*=4,c.pts+=(6&u[13])>>>1,c.dts=c.pts,64&d&&(c.dts=(14&u[14])<<27|(255&u[15])<<20|(254&u[16])<<12|(255&u[17])<<5|(254&u[18])>>>3,c.dts*=4,c.dts+=(6&u[18])>>>1)),c.data=u.subarray(9+u[8]),n="video"===t||a.packetLength<=e.size,(r||n)&&(e.size=0,e.data.length=0),n&&p.trigger("data",a)}}var p=this,s={data:[],size:0},i={data:[],size:0},a={data:[],size:0};Te.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var e,t;switch(r.streamType){case he.H264_STREAM_TYPE:case he.H264_STREAM_TYPE:e=s,t="video";break;case he.ADTS_STREAM_TYPE:e=i,t="audio";break;case he.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&n(e,t,!0),e.data.push(r),e.size+=r.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},t=r.programMapTable;null!==t.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),p.trigger("data",e)}})[r.type]()},this.flush=function(){n(s,"video"),n(i,"audio"),n(a,"timed-metadata"),this.trigger("done")}}).prototype=new Z;var Ee={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:_e,TransportParseStream:je,ElementaryStream:Te,TimestampRolloverStream:we,CaptionStream:pe.CaptionStream,Cea608Stream:pe.Cea608Stream,MetadataStream:Se};for(var ke in he)he.hasOwnProperty(ke)&&(Ee[ke]=he[ke]);var xe,Ce=Ee,Ae=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(xe=function(){var u;xe.prototype.init.call(this),this.push=function(e){var t,r,n,s,i,a,o=0,l=0;if("audio"===e.type)for(u?(s=u,(u=new Uint8Array(s.byteLength+e.data.byteLength)).set(s),u.set(e.data,s.byteLength)):u=e.data;o+5<u.length;)if(255===u[o]&&240==(246&u[o+1])){if(r=2*(1&~u[o+1]),t=(3&u[o+3])<<11|u[o+4]<<3|(224&u[o+5])>>5,a=9e4*(i=1024*(1+(3&u[o+6])))/Ae[(60&u[o+2])>>>2],n=o+t,u.byteLength<n)return;if(this.trigger("data",{pts:e.pts+l*a,dts:e.dts+l*a,sampleCount:i,audioobjecttype:1+(u[o+2]>>>6&3),channelcount:(1&u[o+2])<<2|(192&u[o+3])>>>6,samplerate:Ae[(60&u[o+2])>>>2],samplingfrequencyindex:(60&u[o+2])>>>2,samplesize:16,data:u.subarray(o+7+r,n)}),u.byteLength===n)return void(u=void 0);l++,u=u.subarray(n)}else o++},this.flush=function(){this.trigger("done")}}).prototype=new Z;var Ie,Pe,Le,Oe=xe,Re=function(n){var s=n.byteLength,i=0,a=0;this.length=function(){return 8*s},this.bitsAvailable=function(){return 8*s+a},this.loadWord=function(){var e=n.byteLength-s,t=new Uint8Array(4),r=Math.min(4,s);if(0===r)throw new Error("no bytes available");t.set(n.subarray(e,e+r)),i=new DataView(t.buffer).getUint32(0),a=8*r,s-=r},this.skipBits=function(e){var t;e<a||(e-=a,e-=8*(t=Math.floor(e/8)),s-=t,this.loadWord()),i<<=e,a-=e},this.readBits=function(e){var t=Math.min(a,e),r=i>>>32-t;return 0<(a-=t)?i<<=t:0<s&&this.loadWord(),0<(t=e-t)?r<<t|this.readBits(t):r},this.skipLeadingZeros=function(){var e;for(e=0;e<a;++e)if(0!=(i&2147483648>>>e))return i<<=e,a-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(Pe=function(){var r,n,s=0;Pe.prototype.init.call(this),this.push=function(e){var t;for(n=n?((t=new Uint8Array(n.byteLength+e.data.byteLength)).set(n),t.set(e.data,n.byteLength),t):e.data;s<n.byteLength-3;s++)if(1===n[s+2]){r=s+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}for(s+3!==r-2&&this.trigger("data",n.subarray(s+3,r-2));1!==n[++r]&&r<n.length;);s=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}this.trigger("data",n.subarray(s+3,r-2)),s=r-2,r+=3;break;default:r+=3}n=n.subarray(s),r-=s,s=0},this.flush=function(){n&&3<n.byteLength&&this.trigger("data",n.subarray(s+3)),n=null,s=0,this.trigger("done")}}).prototype=new Z,Le={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Ie=function(){var r,n,s,i,a,o,b,t=new Pe;Ie.prototype.init.call(this),(r=this).push=function(e){"video"===e.type&&(n=e.trackId,s=e.pts,i=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:n,pts:s,dts:i,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=a(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=a(e.subarray(1)),t.config=o(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}r.trigger("data",t)}),t.on("done",function(){r.trigger("done")}),this.flush=function(){t.flush()},b=function(e,t){var r,n=8,s=8;for(r=0;r<e;r++)0!==s&&(s=(n+t.readExpGolomb()+256)%256),n=0===s?n:s},a=function(e){for(var t,r,n=e.byteLength,s=[],i=1;i<n-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(s.push(i+2),i+=2):i++;if(0===s.length)return e;t=n-s.length,r=new Uint8Array(t);var a=0;for(i=0;i<t;a++,i++)a===s[0]&&(a++,s.shift()),r[i]=e[a];return r},o=function(e){var t,r,n,s,i,a,o,l,u,c,d,p,h,f=0,m=0,y=0,g=0,v=1;if(r=(t=new Re(e)).readUnsignedByte(),s=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),Le[r]&&(3===(i=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==i?8:12,h=0;h<d;h++)t.readBoolean()&&b(h<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(a=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===a)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),o=t.readUnsignedExpGolomb(),h=0;h<o;h++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),0===(c=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(f=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}p&&(v=p[0]/p[1])}return{profileIdc:r,levelIdc:n,profileCompatibility:s,width:Math.ceil((16*(l+1)-2*f-2*m)*v),height:(2-c)*(u+1)*16-2*y-2*g}}}).prototype=new Z;var De,Ue={H264Stream:Ie,NalByteStream:Pe};(De=function(){var o=new Uint8Array,l=0;De.prototype.init.call(this),this.setTimestamp=function(e){l=e},this.parseId3TagSize=function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+r:10+r},this.parseAdtsSize=function(e,t){var r=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|r},this.push=function(e){var t,r,n,s,i=0,a=0;for(o.length?(s=o.length,(o=new Uint8Array(e.byteLength+s)).set(o.subarray(0,s)),o.set(e,s)):o=e;3<=o.length-a;)if(o[a]!=="I".charCodeAt(0)||o[a+1]!=="D".charCodeAt(0)||o[a+2]!=="3".charCodeAt(0))if(!0&o[a]&&240==(240&o[a+1])){if(o.length-a<7)break;if((i=this.parseAdtsSize(o,a))>o.length)break;n={type:"audio",data:o.subarray(a,a+i),pts:l,dts:l},this.trigger("data",n),a+=i}else a++;else{if(o.length-a<10)break;if((i=this.parseId3TagSize(o,a))>o.length)break;r={type:"timed-metadata",data:o.subarray(a,a+i)},this.trigger("data",r),a+=i}t=o.length-a,o=0<t?o.subarray(a):new Uint8Array}}).prototype=new Z;function Me(e){for(var t=[];e--;)t.push(0);return t}var Ne,Be,Fe,He,qe,Ve,Ge,ze,We,Ye,Xe,Ke,$e,Qe,Je,Ze,et=De,tt=[33,16,5,32,164,27],rt=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],nt={96e3:[tt,[227,64],Me(154),[56]],88200:[tt,[231],Me(170),[56]],64e3:[tt,[248,192],Me(240),[56]],48e3:[tt,[255,192],Me(268),[55,148,128],Me(54),[112]],44100:[tt,[255,192],Me(268),[55,163,128],Me(84),[112]],32e3:[tt,[255,192],Me(268),[55,234],Me(226),[112]],24e3:[tt,[255,192],Me(268),[55,255,128],Me(268),[111,112],Me(126),[224]],16e3:[tt,[255,192],Me(268),[55,255,128],Me(268),[111,255],Me(269),[223,108],Me(195),[1,192]],12e3:[rt,Me(268),[3,127,248],Me(268),[6,255,240],Me(268),[13,255,224],Me(268),[27,253,128],Me(259),[56]],11025:[rt,Me(268),[3,127,248],Me(268),[6,255,240],Me(268),[13,255,224],Me(268),[27,255,192],Me(268),[55,175,128],Me(108),[112]],8e3:[rt,Me(268),[3,121,16],Me(47),[7]]},st=(Ne=nt,Object.keys(Ne).reduce(function(e,t){return e[t]=new Uint8Array(Ne[t].reduce(function(e,t){return e.concat(t)},[])),e},{})),it=(Be=function(e){return 9e4*e},Fe=function(e,t){return e*t},He=function(e){return e/9e4},qe=function(e,t){return e/t},function(e,t){return Be(qe(e,t))}),at=function(e,t){return Fe(He(e),t)},ot=Ue.H264Stream,lt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ut=["width","height","profileIdc","levelIdc","profileCompatibility"];Ye=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Xe=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},Je=function(e,t){var r;if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},Ze=function(e){var t,r=0;for(t=0;t<e.length;t++)r+=e[t].data.byteLength;return r},(Ge=function(s,i){var a=[],o=0,t=0,u=0,c=1/0;i=i||{},Ge.prototype.init.call(this),this.push=function(t){Ke(s,t),s&&lt.forEach(function(e){s[e]=t[e]}),a.push(t)},this.setEarliestDts=function(e){t=e-s.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){c=e},this.setAudioAppendStart=function(e){u=e},this.flush=function(){var e,t,r,n;0!==a.length&&(e=this.trimAdtsFramesByEarliestDts_(a),s.baseMediaDecodeTime=Qe(s,i.keepOriginalTimestamps),this.prefixWithSilence_(s,e),s.samples=this.generateSampleTable_(e),r=X.mdat(this.concatenateFrameData_(e)),a=[],t=X.moof(o,[s]),n=new Uint8Array(t.byteLength+r.byteLength),o++,n.set(t),n.set(r,t.byteLength),$e(s),this.trigger("data",{track:s,boxes:n})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var r,n,s,i,a=0,o=0,l=0;if(t.length&&(r=it(e.baseMediaDecodeTime,e.samplerate),n=Math.ceil(9e4/(e.samplerate/1024)),u&&c&&(a=r-Math.max(u,c),l=(o=Math.floor(a/n))*n),!(o<1||45e3<l))){for(s=(s=st[e.samplerate])||t[0].data,i=0;i<o;i++)t.splice(i,0,{data:s});e.baseMediaDecodeTime-=Math.floor(at(l,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return s.minSegmentDts>=t?e:(s.minSegmentDts=1/0,e.filter(function(e){return e.dts>=t&&(s.minSegmentDts=Math.min(s.minSegmentDts,e.dts),s.minSegmentPts=s.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,r,n=[];for(t=0;t<e.length;t++)r=e[t],n.push({size:r.data.byteLength,duration:1024});return n},this.concatenateFrameData_=function(e){var t,r,n=0,s=new Uint8Array(Ze(e));for(t=0;t<e.length;t++)r=e[t],s.set(r.data,n),n+=r.data.byteLength;return s}}).prototype=new Z,(Ve=function(o,l){var t,r,u=0,c=[],d=[];l=l||{},Ve.prototype.init.call(this),delete o.minPTS,this.gopCache_=[],this.push=function(e){Ke(o,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,o.sps=[e.data],ut.forEach(function(e){o[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.data,o.pps=[e.data]),c.push(e)},this.flush=function(){for(var e,t,r,n,s,i;c.length&&"access_unit_delimiter_rbsp"!==c[0].nalUnitType;)c.shift();if(0===c.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(e=this.groupNalsIntoFrames_(c),(r=this.groupFramesIntoGops_(e))[0][0].keyFrame||((t=this.getGopForFusion_(c[0],o))?(r.unshift(t),r.byteLength+=t.byteLength,r.nalCount+=t.nalCount,r.pts=t.pts,r.dts=t.dts,r.duration+=t.duration):r=this.extendFirstKeyFrame_(r)),d.length){var a;if(!(a=l.alignGopsAtEnd?this.alignGopsAtEnd_(r):this.alignGopsAtStart_(r)))return this.gopCache_.unshift({gop:r.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),c=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");$e(o),r=a}Ke(o,r),o.samples=this.generateSampleTable_(r),s=X.mdat(this.concatenateNalData_(r)),o.baseMediaDecodeTime=Qe(o,l.keepOriginalTimestamps),this.trigger("processedGopsInfo",r.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:r.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),c=[],this.trigger("baseMediaDecodeTime",o.baseMediaDecodeTime),this.trigger("timelineStartInfo",o.timelineStartInfo),n=X.moof(u,[o]),i=new Uint8Array(n.byteLength+s.byteLength),u++,i.set(n),i.set(s,n.byteLength),this.trigger("data",{track:o,boxes:i}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){$e(o),r=t=void 0},this.getGopForFusion_=function(e){var t,r,n,s,i,a=1/0;for(i=0;i<this.gopCache_.length;i++)n=(s=this.gopCache_[i]).gop,o.pps&&Je(o.pps[0],s.pps[0])&&o.sps&&Je(o.sps[0],s.sps[0])&&(n.dts<o.timelineStartInfo.dts||-1e4<=(t=e.dts-n.dts-n.duration)&&t<=45e3&&(!r||t<a)&&(r=s,a=t));return r?r.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,r,n=[],s=[];for(t=n.byteLength=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(r=e[t]).nalUnitType?(n.length&&(n.duration=r.dts-n.dts,s.push(n)),(n=[r]).byteLength=r.data.byteLength,n.pts=r.pts,n.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(n.keyFrame=!0),n.duration=r.dts-n.dts,n.byteLength+=r.data.byteLength,n.push(r));return s.length&&(!n.duration||n.duration<=0)&&(n.duration=s[s.length-1].duration),s.push(n),s},this.groupFramesIntoGops_=function(e){var t,r,n=[],s=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,s.byteLength=0,s.nalCount=0,s.duration=0,s.pts=e[0].pts,s.dts=e[0].dts,t=0;t<e.length;t++)(r=e[t]).keyFrame?(n.length&&(s.push(n),s.byteLength+=n.byteLength,s.nalCount+=n.nalCount,s.duration+=n.duration),(n=[r]).nalCount=r.length,n.byteLength=r.byteLength,n.pts=r.pts,n.dts=r.dts,n.duration=r.duration):(n.duration+=r.duration,n.nalCount+=r.length,n.byteLength+=r.byteLength,n.push(r));return s.length&&n.duration<=0&&(n.duration=s[s.length-1].duration),s.byteLength+=n.byteLength,s.nalCount+=n.nalCount,s.duration+=n.duration,s.push(n),s},this.generateSampleTable_=function(e,t){var r,n,s,i,a,o=t||0,l=[];for(r=0;r<e.length;r++)for(i=e[r],n=0;n<i.length;n++)a=i[n],(s=Ye()).dataOffset=o,s.compositionTimeOffset=a.pts-a.dts,s.duration=a.duration,s.size=4*a.length,s.size+=a.byteLength,a.keyFrame&&(s.flags.dependsOn=2,s.flags.isNonSyncSample=0),o+=s.size,l.push(s);return l},this.concatenateNalData_=function(e){var t,r,n,s,i,a,o=0,l=e.byteLength,u=e.nalCount,c=new Uint8Array(l+4*u),d=new DataView(c.buffer);for(t=0;t<e.length;t++)for(s=e[t],r=0;r<s.length;r++)for(i=s[r],n=0;n<i.length;n++)a=i[n],d.setUint32(o,a.data.byteLength),o+=4,c.set(a.data,o),o+=a.data.byteLength;return c},this.alignGopsAtStart_=function(e){var t,r,n,s,i,a,o,l;for(i=e.byteLength,a=e.nalCount,o=e.duration,t=r=0;t<d.length&&r<e.length&&(n=d[t],s=e[r],n.pts!==s.pts);)s.pts>n.pts?t++:(r++,i-=s.byteLength,a-=s.nalCount,o-=s.duration);return 0===r?e:r===e.length?null:((l=e.slice(r)).byteLength=i,l.duration=o,l.nalCount=a,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(e){var t,r,n,s,i,a,o;for(t=d.length-1,r=e.length-1,i=null,a=!1;0<=t&&0<=r;){if(n=d[t],s=e[r],n.pts===s.pts){a=!0;break}n.pts>s.pts?t--:(t===d.length-1&&(i=r),r--)}if(!a&&null===i)return null;if(0===(o=a?r:i))return e;var l=e.slice(o),u=l.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return l.byteLength=u.byteLength,l.duration=u.duration,l.nalCount=u.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(e){d=e}}).prototype=new Z,Ke=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},$e=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},Qe=function(e,t){var r,n=e.minSegmentDts;return t||(n-=e.timelineStartInfo.dts),r=e.timelineStartInfo.baseMediaDecodeTime,r+=n,r=Math.max(0,r),"audio"===e.type&&(r*=e.samplerate/9e4,r=Math.floor(r)),r},(We=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!=typeof e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,We.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new Z,We.prototype.flush=function(e){var t,r,n,s,i=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,ut.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,lt.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,n=X.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(n.byteLength),a.initSegment.set(n),a.data=new Uint8Array(this.pendingBytes),s=0;s<this.pendingBoxes.length;s++)a.data.set(this.pendingBoxes[s],i),i+=this.pendingBoxes[s].byteLength;for(s=0;s<this.pendingCaptions.length;s++)(t=this.pendingCaptions[s]).startTime=t.startPts-o,t.startTime/=9e4,t.endTime=t.endPts-o,t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(s=0;s<this.pendingMetadata.length;s++)(r=this.pendingMetadata[s]).cueTime=r.pts-o,r.cueTime/=9e4,a.metadata.push(r);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(ze=function(n){var s,i,a=this,r=!0;ze.prototype.init.call(this),n=n||{},this.baseMediaDecodeTime=n.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new Ce.MetadataStream,t.aacStream=new et,t.audioTimestampRolloverStream=new Ce.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new Ce.TimestampRolloverStream("timed-metadata"),t.adtsStream=new Oe,t.coalesceStream=new We(n,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:a.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new Ge(i,n),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};(this.transmuxPipeline_=r).type="ts",r.metadataStream=new Ce.MetadataStream,r.packetStream=new Ce.TransportPacketStream,r.parseStream=new Ce.TransportParseStream,r.elementaryStream=new Ce.ElementaryStream,r.videoTimestampRolloverStream=new Ce.TimestampRolloverStream("video"),r.audioTimestampRolloverStream=new Ce.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new Ce.TimestampRolloverStream("timed-metadata"),r.adtsStream=new Oe,r.h264Stream=new ot,r.captionStream=new Ce.CaptionStream,r.coalesceStream=new We(n,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream),r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream),r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)s||"video"!==e.tracks[t].type?i||"audio"!==e.tracks[t].type||((i=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime):(s=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime;s&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new Ve(s,n),r.videoSegmentStream.on("timelineStartInfo",function(e){i&&(i.timelineStartInfo=e,r.audioSegmentStream.setEarliestDts(e.dts))}),r.videoSegmentStream.on("processedGopsInfo",a.trigger.bind(a,"gopInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",function(e){i&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),i&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new Ge(i,n),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))}}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;this.baseMediaDecodeTime=e,i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,$e(i),i.timelineStartInfo.baseMediaDecodeTime=e,t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),s&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[],t.videoTimestampRolloverStream.discontinuity()),s.timelineStartInfo.dts=void 0,s.timelineStartInfo.pts=void 0,$e(s),t.captionStream.reset(),s.timelineStartInfo.baseMediaDecodeTime=e),t.timedMetadataTimestampRolloverStream&&t.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){s&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(r){var t=Xe(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Z;function ct(e){return new Date(1e3*e-20828448e5)}function dt(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}function pt(e,t){for(var r=e,n=0;n<t.length;n++){var s=t[n];if(r<s.size)return s;r-=s.size}return null}function ht(e,g){var n=Q.findBox(e,["moof","traf"]),t=Q.findBox(e,["mdat"]),v={},s=[];return t.forEach(function(e,t){var r=n[t];s.push({mdat:e,traf:r})}),s.forEach(function(e){var t,r,n,s,i,a,o,l,u=e.mdat,c=e.traf,d=Q.findBox(c,["tfhd"]),p=bt.parseTfhd(d[0]),h=p.trackId,f=Q.findBox(c,["tfdt"]),m=0<f.length?bt.parseTfdt(f[0]).baseMediaDecodeTime:0,y=Q.findBox(c,["trun"]);g===h&&0<y.length&&(r=y,s=m,i=(n=p).defaultSampleDuration||0,a=n.defaultSampleSize||0,o=n.trackId,l=[],r.forEach(function(e){var t=bt.parseTrun(e).samples;t.forEach(function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=a),e.trackId=o,e.dts=s,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=s+e.compositionTimeOffset,s+=e.duration}),l=l.concat(t)}),t=function(e,t,r){var n,s,i,a,o=new DataView(e.buffer,e.byteOffset,e.byteLength),l=[];for(s=0;s+4<e.length;s+=i)if(i=o.getUint32(s),s+=4,!(i<=0))switch(31&e[s]){case 6:var u=e.subarray(s+1,s+1+i),c=pt(s,t);n={nalUnitType:"sei_rbsp",size:i,data:u,escapedRBSP:_t(u),trackId:r},c?(n.pts=c.pts,n.dts=c.dts,a=c):(n.pts=a.pts,n.dts=a.dts),l.push(n)}return l}(u,l,h),v[h]||(v[h]=[]),v[h]=v[h].concat(t))}),v}var ft,mt,yt={Transmuxer:ze,VideoSegmentStream:Ve,AudioSegmentStream:Ge,AUDIO_PROPERTIES:lt,VIDEO_PROPERTIES:ut},gt=Q.parseType,vt={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:ft(e.subarray(78,e.byteLength))}},avcC:function(e){var t,r,n,s,i=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},o=31&e[5];for(n=6,s=0;s<o;s++)r=i.getUint16(n),n+=2,a.sps.push(new Uint8Array(e.subarray(n,n+r))),n+=r;for(t=e[n],n++,s=0;s<t;s++)r=i.getUint16(n),n+=2,a.pps.push(new Uint8Array(e.subarray(n,n+r))),n+=r;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={majorBrand:gt(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},n=8;n<e.byteLength;)r.compatibleBrands.push(gt(e.subarray(n,n+4))),n+=4;return r},dinf:function(e){return{boxes:ft(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:ft(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:gt(e.subarray(8,12)),name:""},r=8;for(r=24;r<e.byteLength;r++){if(0===e[r]){r++;break}t.name+=String.fromCharCode(e[r])}return t.name=decodeURIComponent(F.escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:function(e){var t,r,n=new DataView(e.buffer,e.byteOffset,e.byteLength),s=[];for(t=0;t+4<e.length;t+=r)if(r=n.getUint32(t),t+=4,r<=0)s.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:s.push("slice_layer_without_partitioning_rbsp");break;case 5:s.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:s.push("sei_rbsp");break;case 7:s.push("seq_parameter_set_rbsp");break;case 8:s.push("pic_parameter_set_rbsp");break;case 9:s.push("access_unit_delimiter_rbsp");break;default:s.push("UNKNOWN NAL - "+e[t]&31)}return s}(e)}},mdhd:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,s={version:r.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===s.version?(n+=4,s.creationTime=ct(r.getUint32(n)),n+=8,s.modificationTime=ct(r.getUint32(n)),n+=4,s.timescale=r.getUint32(n),n+=8):(s.creationTime=ct(r.getUint32(n)),n+=4,s.modificationTime=ct(r.getUint32(n)),n+=4,s.timescale=r.getUint32(n),n+=4),s.duration=r.getUint32(n),n+=4,t=r.getUint16(n),s.language+=String.fromCharCode(96+(t>>10)),s.language+=String.fromCharCode(96+((992&t)>>5)),s.language+=String.fromCharCode(96+(31&t)),s},mdia:function(e){return{boxes:ft(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:ft(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return 28<e.byteLength&&(r.streamDescriptor=ft(e.subarray(28))[0]),r},moof:function(e){return{boxes:ft(e)}},moov:function(e){return{boxes:ft(e)}},mvex:function(e){return{boxes:ft(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(r+=4,n.creationTime=ct(t.getUint32(r)),r+=8,n.modificationTime=ct(t.getUint32(r)),r+=4,n.timescale=t.getUint32(r),r+=8):(n.creationTime=ct(t.getUint32(r)),r+=4,n.modificationTime=ct(t.getUint32(r)),r+=4,n.timescale=t.getUint32(r),r+=4),n.duration=t.getUint32(r),r+=4,n.rate=t.getUint16(r)+t.getUint16(r+2)/16,r+=4,n.volume=t.getUint8(r)+t.getUint8(r+1)/8,r+=2,r+=2,r+=8,n.matrix=new Uint32Array(e.subarray(r,r+36)),r+=36,r+=24,n.nextTrackId=t.getUint32(r),n},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)r.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return r},sidx:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:r.getUint32(4),timescale:r.getUint32(8),earliestPresentationTime:r.getUint32(12),firstOffset:r.getUint32(16)},s=r.getUint16(22);for(t=24;s;t+=12,s--)n.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&r.getUint32(t),subsegmentDuration:r.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&r.getUint32(t+8)});return n},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:ft(e)}},stco:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},s=r.getUint32(4);for(t=8;s;t+=4,s--)n.chunkOffsets.push(r.getUint32(t));return n},stsc:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=r.getUint32(4),s={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;n;t+=12,n--)s.sampleToChunks.push({firstChunk:r.getUint32(t),samplesPerChunk:r.getUint32(t+4),sampleDescriptionIndex:r.getUint32(t+8)});return s},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:ft(e.subarray(8))}},stsz:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:r.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)n.entries.push(r.getUint32(t));return n},stts:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},s=r.getUint32(4);for(t=8;s;t+=8,s--)n.timeToSamples.push({sampleCount:r.getUint32(t),sampleDelta:r.getUint32(t+4)});return n},styp:function(e){return vt.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:r.getUint32(4)},s=1&n.flags[2],i=2&n.flags[2],a=8&n.flags[2],o=16&n.flags[2],l=32&n.flags[2],u=65536&n.flags[0],c=131072&n.flags[0];return t=8,s&&(t+=4,n.baseDataOffset=r.getUint32(12),t+=4),i&&(n.sampleDescriptionIndex=r.getUint32(t),t+=4),a&&(n.defaultSampleDuration=r.getUint32(t),t+=4),o&&(n.defaultSampleSize=r.getUint32(t),t+=4),l&&(n.defaultSampleFlags=r.getUint32(t)),u&&(n.durationIsEmpty=!0),!s&&c&&(n.baseDataOffsetIsMoof=!0),n},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(r+=4,n.creationTime=ct(t.getUint32(r)),r+=8,n.modificationTime=ct(t.getUint32(r)),r+=4,n.trackId=t.getUint32(r),r+=4,r+=8):(n.creationTime=ct(t.getUint32(r)),r+=4,n.modificationTime=ct(t.getUint32(r)),r+=4,n.trackId=t.getUint32(r),r+=4,r+=4),n.duration=t.getUint32(r),r+=4,r+=8,n.layer=t.getUint16(r),r+=2,n.alternateGroup=t.getUint16(r),r+=2,n.volume=t.getUint8(r)+t.getUint8(r+1)/8,r+=2,r+=2,n.matrix=new Uint32Array(e.subarray(r,r+36)),r+=36,n.width=t.getUint16(r)+t.getUint16(r+2)/16,r+=4,n.height=t.getUint16(r)+t.getUint16(r+2)/16,n},traf:function(e){return{boxes:ft(e)}},trak:function(e){return{boxes:ft(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),s=1&r.flags[2],i=4&r.flags[2],a=1&r.flags[1],o=2&r.flags[1],l=4&r.flags[1],u=8&r.flags[1],c=n.getUint32(4),d=8;for(s&&(r.dataOffset=n.getInt32(d),d+=4),i&&c&&(t={flags:dt(e.subarray(d,d+4))},d+=4,a&&(t.duration=n.getUint32(d),d+=4),o&&(t.size=n.getUint32(d),d+=4),u&&(t.compositionTimeOffset=n.getUint32(d),d+=4),r.samples.push(t),c--);c--;)t={},a&&(t.duration=n.getUint32(d),d+=4),o&&(t.size=n.getUint32(d),d+=4),l&&(t.flags=dt(e.subarray(d,d+4)),d+=4),u&&(t.compositionTimeOffset=n.getUint32(d),d+=4),r.samples.push(t);return r},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}},bt={inspect:ft=function(e){for(var t,r,n,s,i,a=0,o=[],l=new ArrayBuffer(e.length),u=new Uint8Array(l),c=0;c<e.length;++c)u[c]=e[c];for(t=new DataView(l);a<e.byteLength;)r=t.getUint32(a),n=gt(e.subarray(a+4,a+8)),s=1<r?a+r:e.byteLength,(i=(vt[n]||function(e){return{data:e}})(e.subarray(a+8,s))).size=r,i.type=n,o.push(i),a=s;return o},textify:mt=function(e,t){var i;return t=t||0,i=new Array(2*t+1).join(" "),e.map(function(s,e){return i+s.type+"\n"+Object.keys(s).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(e){var t=i+"  "+e+": ",r=s[e];if(r instanceof Uint8Array||r instanceof Uint32Array){var n=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return n?1===n.length?t+"<"+n.join("").slice(1)+">":t+"<\n"+n.map(function(e){return i+"  "+e}).join("\n")+"\n"+i+"  >":t+"<>"}return t+JSON.stringify(r,null,2).split("\n").map(function(e,t){return 0===t?e:i+"  "+e}).join("\n")}).join("\n")+(s.boxes?"\n"+mt(s.boxes,t+1):"")}).join("\n")},parseTfdt:vt.tfdt,parseHdlr:vt.hdlr,parseTfhd:vt.tfhd,parseTrun:vt.trun},_t=ne,jt=pe.CaptionStream,Tt={generator:X,probe:Q,Transmuxer:yt.Transmuxer,AudioSegmentStream:yt.AudioSegmentStream,VideoSegmentStream:yt.VideoSegmentStream,CaptionParser:function(){var t,l,u,c,d,e=!1;this.isInitialized=function(){return e},this.init=function(){t=new jt,e=!0,t.on("data",function(e){e.startTime=e.startPts/c,e.endTime=e.endPts/c,d.captions.push(e),d.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"===("undefined"==typeof t?"undefined":Ct(t))&&0===Object.keys(t).length)&&(u!==e[0]||c!==t[u])},this.parse=function(e,t,r){var n,s,i,a;if(!this.isInitialized())return null;if(!t||!r)return null;if(this.isNewInit(t,r))u=t[0],c=r[u];else if(!u||!c)return l.push(e),null;for(;0<l.length;){var o=l.shift();this.parse(o,t,r)}return s=e,a=c,null!==(n=(i=u)?{seiNals:ht(s,i)[i],timescale:a}:null)&&n.seiNals?(this.pushNals(n.seiNals),this.flushStream(),d):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){d.captions=[],d.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){l=[],c=u=null,d?this.clearParsedCaptions():d={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}};function St(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var wt=(function(e,t,r){return t&&St(e.prototype,t),r&&St(e,r),e}(Et,[{key:"init",value:function(){var e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Tt.Transmuxer(this.options),(e=this.transmuxer).on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var r=e.data;e.data=r.buffer,H.postMessage({action:"data",segment:e,byteOffset:r.byteOffset,byteLength:r.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){H.postMessage({action:"caption",data:e})}),e.on("done",function(e){H.postMessage({action:"done"})}),e.on("gopInfo",function(e){H.postMessage({action:"gopInfo",gopInfo:e})})}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),Et);function Et(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Et),this.options=e||{},this.init()}new function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new wt(e.data.options):(this.messageHandlers||(this.messageHandlers=new wt),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(xt)}()}),yl={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},gl=(so(vl,Qa.EventTarget),ro(vl,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),function(e,t,r){var n=t.player_;if(r.captions&&r.captions.length)for(var s in e.inbandTextTracks_||(e.inbandTextTracks_={}),r.captionStreams)if(!e.inbandTextTracks_[s]){n.tech_.trigger({type:"usage",name:"hls-608"});var i=n.textTracks().getTrackById(s);e.inbandTextTracks_[s]=i||n.addRemoteTextTrack({kind:"captions",id:s,label:s},!1).track}r.metadata&&r.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=r.metadata.dispatchType)}(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var n=this,s=["audio","video"];s.forEach(function(t){if(n[t+"Codec_"]&&!n[t+"Buffer_"]){var r=null;if(n.mediaSource_[t+"Buffer_"])(r=n.mediaSource_[t+"Buffer_"]).updating=!1;else{var e=t+'/mp4;codecs="'+n[t+"Codec_"]+'"';r=fl(n.mediaSource_.nativeMediaSource_,e),n.mediaSource_[t+"Buffer_"]=r}n[t+"Buffer_"]=r,["update","updatestart","updateend"].forEach(function(e){r.addEventListener(e,function(){if("audio"!==t||!n.audioDisabled_)return"updateend"===e&&(n[t+"Buffer_"].updating=!1),s.every(function(e){return!("audio"!==e||!n.audioDisabled_)||t===e||!n[e+"Buffer_"]||!n[e+"Buffer_"].updating})?n.trigger(e):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:function(e,t,r){if("undefined"==typeof t||null===t||!e.length)return[];var n=Math.ceil(9e4*(t-r+3)),s=void 0;for(s=0;s<e.length&&!(e[s].pts>n);s++);return e.slice(s)}(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=function(e,t,r){if(!t.length)return e;if(r)return t.slice();for(var n=t[0].pts,s=0;s<e.length&&!(e[s].pts>=n);s++);return e.slice(0,s).concat(t)}(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=function(e,t,r,n){for(var s=Math.ceil(9e4*(t-n)),i=Math.ceil(9e4*(r-n)),a=e.slice(),o=e.length;o--&&!(e[o].pts<=i););if(-1===o)return a;for(var l=o+1;l--&&!(e[l].pts<=s););return l=Math.max(l,0),a.splice(l,o-l+1),a}(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),Fo(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)Fo(e,t,this.inbandTextTracks_[r])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var r=t.type,n=t.data,s=t.initSegment;return e[r].segments.push(n),e[r].bytes+=n.byteLength,e[r].initSegment=s,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[r].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),qo(this,e.captions,e.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var r=0,n=void 0;if(e.bytes){n=new Uint8Array(e.bytes),e.segments.forEach(function(e){n.set(e,r),r+=e.byteLength});try{t.updating=!0,t.appendBuffer(n)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),vl);function vl(e,t){to(this,vl);var r=io(this,(vl.__proto__||Object.getPrototypeOf(vl)).call(this,Qa.EventTarget));r.timestampOffset_=0,r.pendingBuffers_=[],r.bufferUpdating_=!1,r.mediaSource_=e,r.codecs_=t,r.audioCodec_=null,r.videoCodec_=null,r.audioDisabled_=!1,r.appendAudioInitSegment_=!0,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=11<=Qa.browser.IE_VERSION;var n={remux:!1,alignGopsAtEnd:r.safeAppend_};return r.codecs_.forEach(function(e){pl(e)?r.audioCodec_=e:hl(e)&&(r.videoCodec_=e)}),r.transmuxer_=new ml,r.transmuxer_.postMessage({action:"init",options:n}),r.transmuxer_.onmessage=function(e){return"data"===e.data.action?r.data_(e):"done"===e.data.action?r.done_(e):"gopInfo"===e.data.action?r.appendGopInfo_(e):void 0},Object.defineProperty(r,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&0<=e&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(r,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(r,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(r,"buffered",{get:function(){return function(e,t,r){var n=null,s=null,i=0,a=[],o=[];if(!e&&!t)return Qa.createTimeRange();if(!e)return t.buffered;if(!t)return e.buffered;if(r)return e.buffered;if(0===e.buffered.length&&0===t.buffered.length)return Qa.createTimeRange();for(var l=e.buffered,u=t.buffered,c=l.length;c--;)a.push({time:l.start(c),type:"start"}),a.push({time:l.end(c),type:"end"});for(c=u.length;c--;)a.push({time:u.start(c),type:"start"}),a.push({time:u.end(c),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),c=0;c<a.length;c++)"start"===a[c].type?2===++i&&(n=a[c].time):"end"===a[c].type&&1===--i&&(s=a[c].time),null!==n&&null!==s&&(o.push([n,s]),s=n=null);return Qa.createTimeRanges(o)}(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),r}var bl=(so(_l,Qa.EventTarget),ro(_l,[{key:"addSeekableRange_",value:function(e,t){var r=void 0;if(this.duration!==1/0)throw(r=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",r.code=11,r;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var s,t,r=void 0,n=(s={type:"",parameters:{}},t=e.trim().split(";"),s.type=t.shift().trim(),t.forEach(function(e){var t=e.trim().split("=");if(1<t.length){var r=t[0].replace(/"/g,"").trim(),n=t[1].replace(/"/g,"").trim();s.parameters[r]=n}}),s);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];n.parameters&&n.parameters.codecs&&(i=n.parameters.codecs.split(","),i=(i=ll(i)).filter(function(e){return pl(e)||hl(e)})),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),r=new gl(this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),r.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else r=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(r),r}}]),_l);function _l(){to(this,_l);var i=io(this,(_l.__proto__||Object.getPrototypeOf(_l)).call(this)),e=void 0;for(e in i.nativeMediaSource_=new y.MediaSource,i.nativeMediaSource_)e in _l.prototype||"function"!=typeof i.nativeMediaSource_[e]||(i[e]=i.nativeMediaSource_[e].bind(i.nativeMediaSource_));return i.duration_=NaN,Object.defineProperty(i,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){(this.duration_=e)===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(i,"seekable",{get:function(){return this.duration_===1/0?Qa.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(i,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(i,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),i.sourceBuffers=[],i.activeSourceBuffers_=[],i.updateActiveSourceBuffers_=function(){if(i.activeSourceBuffers_.length=0,1===i.sourceBuffers.length){var e=i.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void i.activeSourceBuffers_.push(e)}for(var r=!1,n=!0,t=0;t<i.player_.audioTracks().length;t++){var s=i.player_.audioTracks()[t];if(s.enabled&&"main"!==s.kind){n=!(r=!0);break}}i.sourceBuffers.forEach(function(e,t){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=r;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,n=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=t?n:!n,e.audioDisabled_))return;i.activeSourceBuffers_.push(e)})},i.onPlayerMediachange_=function(){i.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},i.onHlsReset_=function(){i.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},i.onHlsSegmentTimeMapping_=function(t){i.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},i),i.on("sourceopen",function(e){var t=c.querySelector('[src="'+i.url_+'"]');t&&(i.player_=Qa(t.parentNode),i.player_.tech_.on("hls-reset",i.onHlsReset_),i.player_.tech_.on("hls-segment-time-mapping",i.onHlsSegmentTimeMapping_),i.player_.audioTracks&&i.player_.audioTracks()&&(i.player_.audioTracks().on("change",i.updateActiveSourceBuffers_),i.player_.audioTracks().on("addtrack",i.updateActiveSourceBuffers_),i.player_.audioTracks().on("removetrack",i.updateActiveSourceBuffers_)),i.player_.on("mediachange",i.onPlayerMediachange_))}),i.on("sourceended",function(e){for(var t=Ho(i.duration),r=0;r<i.sourceBuffers.length;r++){var n=i.sourceBuffers[r],s=n.metadataTrack_&&n.metadataTrack_.cues;s&&s.length&&(s[s.length-1].endTime=t)}}),i.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),i}var jl=0;Qa.mediaSources={};function Tl(e,t){var r=Qa.mediaSources[e];if(!r)throw new Error("Media Source not found (Video.js)");r.trigger({type:"sourceopen",swfId:t})}function Sl(){return!!y.MediaSource&&!!y.MediaSource.isTypeSupported&&y.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')}function wl(){if(this.MediaSource={open:Tl,supportsNativeMediaSources:Sl},Sl())return new bl;throw new Error("Cannot use create a virtual MediaSource for this video")}wl.open=Tl,wl.supportsNativeMediaSources=Sl;var El={createObjectURL:function(e){var t=void 0;return e instanceof bl?(t=y.URL.createObjectURL(e.nativeMediaSource_),e.url_=t):e instanceof bl?(t="blob:vjs-media-source/"+jl,jl++,Qa.mediaSources[t]=e,t):(t=y.URL.createObjectURL(e),e.url_=t)}};Qa.MediaSource=wl,Qa.URL=El;function kl(e,t){for(var a=xl(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),r=0;r<t.playlists.length;r++){var n=oo(a,t.playlists[r]);n&&(a=n)}return ao(t,function(e,t,r,n){if(e.playlists&&e.playlists.length){var s=e.playlists[0].uri,i=oo(a,e.playlists[0]);i&&((a=i).mediaGroups[t][r][n].playlists[0]=a.playlists[s])}}),a}var xl=Qa.mergeOptions,Cl=(so(Al,Qa.EventTarget),ro(Al,[{key:"dispose",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var t=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.uri!==this.media_.uri;this.state="HAVE_METADATA",r&&(this.media_&&this.trigger("mediachanging"),this.media_=e,this.refreshMedia_(),"HAVE_MASTER"!==t&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(){this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var i=o.parse(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});i.uri=this.srcUrl;for(var e=0;e<i.playlists.length;e++){var t="placeholder-uri-"+e;i.playlists[e].uri=t,i.playlists[t]=i.playlists[e]}return ao(i,function(e,t,r,n){if(e.playlists&&e.playlists.length){var s="placeholder-uri-"+t+"-"+r+"-"+n;e.playlists[0].uri=s,i.playlists[s]=e.playlists[0]}}),lo(i),uo(i),i}},{key:"start",value:function(){var r=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(r.request){if(r.request=null,e)return r.error={status:t.status,message:"DASH playlist request error at URL: "+r.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===r.state&&(r.started=!1),r.trigger("error");r.masterXml_=t.responseText,t.responseHeaders&&t.responseHeaders.date?r.masterLoaded_=Date.parse(t.responseHeaders.date):r.masterLoaded_=Date.now(),r.syncClientServerClock_(r.onClientServerClockSync_.bind(r))}})}},{key:"syncClientServerClock_",value:function(n){var s=this,i=o.parseUTCTiming(this.masterXml_);return null===i?(this.clientOffset_=this.masterLoaded_-Date.now(),n()):"DIRECT"===i.method?(this.clientOffset_=i.value-Date.now(),n()):void(this.request=this.hls_.xhr({uri:eo(this.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},function(e,t){if(s.request){if(e)return s.clientOffset_=s.masterLoaded_-Date.now(),n();var r=void 0;r="HEAD"===i.method?t.responseHeaders&&t.responseHeaders.date?Date.parse(t.responseHeaders.date):s.masterLoaded_:Date.parse(t.responseText),s.clientOffset_=r-Date.now(),n()}}))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.master=this.parseMasterXml(),this.state="HAVE_MASTER",this.trigger("loadedplaylist"),this.media_||this.media(this.master.playlists[0]),y.setTimeout(function(){e.trigger("loadedmetadata")},0),this.master.minimumUpdatePeriod&&y.setTimeout(function(){e.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var n=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(n.request){if(n.request=null,e)return n.error={status:t.status,message:"DASH playlist request error at URL: "+n.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");n.masterXml_=t.responseText;var r=n.parseMasterXml();n.master=kl(n.master,r),y.setTimeout(function(){n.trigger("minimumUpdatePeriod")},n.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var e=this,t=void 0,r=void 0;r=this.masterPlaylistLoader_?(t=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.parseMasterXml()):(t=this.master,this.parseMasterXml());var n=kl(t,r);n?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=n:this.master=n,this.media_=n.playlists[this.media_.uri]):this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=y.setTimeout(function(){e.trigger("mediaupdatetimeout")},co(this.media(),!!n))),this.trigger("loadedplaylist")}}]),Al);function Al(e,t,r,n){to(this,Al);var s=io(this,(Al.__proto__||Object.getPrototypeOf(Al)).call(this));if(s.hls_=t,s.withCredentials=r,!e)throw new Error("A non-empty playlist URL or playlist is required");return s.on("minimumUpdatePeriod",function(){s.refreshXml_()}),s.on("mediaupdatetimeout",function(){s.refreshMedia_()}),"string"==typeof e?(s.srcUrl=e,s.state="HAVE_NOTHING",io(s)):(s.masterPlaylistLoader_=n,s.state="HAVE_METADATA",s.started=!0,s.media(e),y.setTimeout(function(){s.trigger("loadedmetadata")},0),s)}function Il(e){return Qa.log.debug?Qa.log.debug.bind(Qa,"VHS:",e+" >"):function(){}}function Pl(){}var Ll=(ro(Ol,[{key:"createSourceBuffer_",value:function(e,t){var r=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(e),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?t.on("sourcebufferadded",function(){r.start_()}):this.start_()}},{key:"start_",value:function(){var t=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null,t.logger_("buffered ["+No(t.buffered())+"]"),e&&e(),t.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var r=this;this.processedAppend_=!0,this.queueCallback_(function(){r.sourceBuffer_.appendBuffer(e)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Qa.createTimeRanges()}},{key:"remove",value:function(e,t){var r=this;this.processedAppend_&&this.queueCallback_(function(){r.logger_("remove ["+e+" => "+t+"]"),r.sourceBuffer_.remove(e,t)},Pl)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(e){var t=this;return"undefined"!=typeof e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),Ol);function Ol(e,t,r,n){to(this,Ol),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,this.type_=r,this.mimeType_=t,this.logger_=Il("SourceUpdater["+r+"]["+t+"]"),"closed"===e.readyState?e.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,t,n)):this.createSourceBuffer_(t,n)}function Rl(e){var t,r,n={};return e.byterange&&(n.Range=(t=e.byterange,r=t.offset+t.length-1,"bytes="+t.offset+"-"+r)),n}function Dl(e){e.forEach(function(e){e.abort()})}function Ul(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Xl,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Kl,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Yl,xhr:t}:null}function Ml(a,o,l){return function(e,t){var r,n=t.response,s=Ul(e,t),i=void 0;return s?l(s,a):0===n.byteLength?l({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:Yl,xhr:t},a):(a.stats={bandwidth:(r=t).bandwidth,bytesReceived:r.bytesReceived||0,roundTripTime:r.roundTripTime||0},a.key?a.encryptedBytes=new Uint8Array(t.response):a.bytes=new Uint8Array(t.response),a.map&&a.map.bytes&&(o.isInitialized()||o.init(),(i=o.parse(a.bytes,a.map.videoTrackIds,a.map.timescales))&&i.captions&&(a.captionStreams=i.captionStreams,a.fmp4Captions=i.captions)),l(null,a))}}function Nl(a,o,l){var u=[],c=0;return function(e,t){if(e&&(Dl(a),u.push(e)),(c+=1)===a.length){if(t.endOfAllRequests=Date.now(),0<u.length){var r=u.reduce(function(e,t){return t.code>e.code?t:e});return l(r,t)}return t.encryptedBytes?(s=t,i=l,(n=o).addEventListener("message",function e(t){if(t.data.source===s.requestId){n.removeEventListener("message",e);var r=t.data.decrypted;return s.bytes=new Uint8Array(r.bytes,r.byteOffset,r.byteLength),i(null,s)}}),void n.postMessage(Lo({source:s.requestId,encrypted:s.encryptedBytes,key:s.key.bytes,iv:s.key.iv}),[s.encryptedBytes.buffer,s.key.bytes.buffer])):l(null,t)}var n,s,i}}function Bl(s,i){return function(e){var t,r,n;return s.stats=Qa.mergeOptions(s.stats,(r=(t=e).target,(n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0}).bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n)),!s.stats.firstBytesReceivedAt&&s.stats.bytesReceived&&(s.stats.firstBytesReceivedAt=Date.now()),i(e,s)}}function Fl(e,t,r,n,s,i,a){var o,l,u,c,d,p=[],h=Nl(p,r,a);if(s.key){var f=e(Qa.mergeOptions(t,{uri:s.key.resolvedUri,responseType:"arraybuffer"}),(o=s,l=h,function(e,t){var r=t.response,n=Ul(e,t);if(n)return l(n,o);if(16!==r.byteLength)return l({status:t.status,message:"Invalid HLS key at URL: "+t.uri,code:Yl,xhr:t},o);var s=new DataView(r);return o.key.bytes=new Uint32Array([s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12)]),l(null,o)}));p.push(f)}if(s.map&&!s.map.bytes){var m=e(Qa.mergeOptions(t,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:Rl(s.map)}),(u=s,c=n,d=h,function(e,t){var r=t.response,n=Ul(e,t);return n?d(n,u):0===r.byteLength?d({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:Yl,xhr:t},u):(u.map.bytes=new Uint8Array(t.response),c.isInitialized()||c.init(),u.map.timescales=g.timescale(u.map.bytes),u.map.videoTrackIds=g.videoTrackIds(u.map.bytes),d(null,u))}));p.push(m)}var y=e(Qa.mergeOptions(t,{uri:s.resolvedUri,responseType:"arraybuffer",headers:Rl(s)}),Ml(s,n,h));return y.addEventListener("progress",Bl(s,i)),p.push(y),function(){return Dl(p)}}function Hl(e,t){var r;return e&&(r=y.getComputedStyle(e))?r[t]:""}function ql(e,n){var s=e.slice();e.sort(function(e,t){var r=n(e,t);return 0===r?s.indexOf(e)-s.indexOf(t):r})}function Vl(e,t){var r=void 0,n=void 0;return e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||y.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),r-(n=n||y.Number.MAX_VALUE)}function Gl(e,t,r){if(!e||!t)return!1;var n=r===e.segments.length;return e.endList&&"open"===t.readyState&&n}function zl(e){return"number"==typeof e&&isFinite(e)}var Wl={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Yl=2,Xl=-101,Kl=-102,$l=(so(Ql,Qa.EventTarget),ro(Ql,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return"undefined"!=typeof e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Qa.createTimeRanges()}},{key:"initSegment",value:function(e,t){var r=1<arguments.length&&void 0!==t&&t;if(!e)return null;var n=Oo(e),s=this.initSegments_[n];return r&&!s&&e.bytes&&(this.initSegments_[n]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),s||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Ll(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:{};if(e){var n=this.playlist_,s=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=r,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var i=n?n.id:null;if(this.logger_("playlist update ["+i+" => "+e.id+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===e.uri){var a=e.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+a+"]"),null!==this.mediaIndex&&(this.mediaIndex-=a),s&&(s.mediaIndex-=a,0<=s.mediaIndex&&(s.segment=e.segments[s.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t),Fo(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)Fo(e,t,this.inbandTextTracks_[r])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(Gl(this.playlist_,this.mediaSource_,e.mediaIndex)?this.endOfStream():e.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()||((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(e)))}}},{key:"checkBuffer_",value:function(e,t,r,n,s,i){var a=0,o=void 0;e.length&&(a=e.end(e.length-1));var l=Math.max(0,a-s);if(!t.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!n&&1<=l)return null;if(null===i)return r=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,r,null,!0);if(null!==r){var u=t.segments[r];return o=u&&u.end?u.end:a,this.generateSegmentInfo_(t,r+1,o,!1)}if(this.fetchAtBuffer_){var c=Wo.getMediaInfoForTime(t,a,i.segmentIndex,i.time);r=c.mediaIndex,o=c.startTime}else{var d=Wo.getMediaInfoForTime(t,s,i.segmentIndex,i.time);r=d.mediaIndex,o=d.startTime}return this.generateSegmentInfo_(t,r,o,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var r=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return r.length?r[Math.min(r.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,r,n){if(t<0||t>=e.segments.length)return null;var s=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:s.resolvedUri,mediaIndex:t,isSyncRequest:n,startOfSegment:r,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:s.timeline,duration:s.duration,segment:s}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),r=e.bandwidth,n=this.pendingSegment_.duration,s=Wo.estimateSegmentRequestTime(n,r,this.playlist_,e.bytesReceived),i=function(e,t,r){var n=2<arguments.length&&void 0!==r?r:1;return((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(s<=i)return!1;var a=function(e){var t=e.master,r=e.currentTime,n=e.bandwidth,s=e.duration,i=e.segmentDuration,a=e.timeUntilRebuffer,o=e.currentTimeline,l=e.syncController,u=t.playlists.filter(function(e){return!Wo.isIncompatible(e)}),c=u.filter(Wo.isEnabled);c.length||(c=u.filter(function(e){return!Wo.isDisabled(e)}));var d=c.filter(Wo.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=l.getSyncPoint(e,s,o,r)?1:2;return{playlist:e,rebufferingImpact:Wo.estimateSegmentRequestTime(i,n,e)*t-a}}),p=d.filter(function(e){return e.rebufferingImpact<=0});return ql(p,function(e,t){return Vl(t.playlist,e.playlist)}),p.length?p[0]:(ql(d,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),d[0]||null)}({master:this.hls_.playlists.master,currentTime:t,bandwidth:r,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:i,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var o=s-i-a.rebufferingImpact,l=.5;return i<=$o&&(l=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||o<l)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*Wl.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=Fl(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(){var e,t,r,n,s=(e=this.seekable_(),t=this.currentTime_(),r=this.playlist_.targetDuration||10,n=void 0,n=e.length&&0<e.start(0)&&e.start(0)<t?e.start(0):t-30,Math.min(n,t-r));0<s&&this.remove(0,s)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,r={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var n=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);r.key={resolvedUri:t.key.resolvedUri,iv:n}}return t.map&&(r.map=this.initSegment(t.map)),r}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Kl?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===Xl?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(function(e,t,r){for(var n in r)if(!e[n]){t.trigger({type:"usage",name:"hls-608"});var s=t.textTracks().getTrackById(n);e[n]=s||t.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),function(e){var s=e.inbandTextTracks,t=e.captionArray,i=e.timestampOffset;if(t){var a=window.WebKitDataCue||window.VTTCue;t.forEach(function(e){var t=e.stream,r=e.startTime,n=e.endTime;s[t]&&(r+=i,n+=i,s[t].addCue(new a(r,n,e.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,r=t.segment,n=this.syncController_.probeSegmentInfo(t);"undefined"==typeof this.startingMedia_&&n&&(n.containsAudio||n.containsVideo)&&(this.startingMedia_={containsAudio:n.containsAudio,containsVideo:n.containsVideo});var s,i,a,o=(s=this.loaderType_,i=this.startingMedia_,a=n,"main"===s&&i&&a?a.containsAudio||a.containsVideo?i.containsVideo&&!a.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!i.containsVideo&&a.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(o)return this.error({message:o,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset"));var l,u,c,d,p,h,f,m,y,g,v,b=this.syncController_.mappingForTimeline(t.timeline);if(null!==b&&this.trigger({type:"segmenttimemapping",mapping:b}),this.state="APPENDING",r.map){var _=Oo(r.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==_){var j=this.initSegment(r.map);this.sourceUpdater_.appendBuffer(j.bytes,function(){e.activeInitSegmentId_=_})}}t.byteLength=t.bytes.byteLength,"number"==typeof r.start&&"number"==typeof r.end?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration,this.logger_((u=(l=t).segment,c=u.start,d=u.end,p=l.playlist,h=p.mediaSequence,f=p.id,m=p.segments,y=void 0===m?[]:m,g=l.mediaIndex,v=l.timeline,["appending ["+g+"] of ["+h+", "+(h+y.length)+"] from playlist ["+f+"]","["+c+" => "+d+"] in timeline ["+v+"]"].join(" "))),this.sourceUpdater_.appendBuffer(t.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,r=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(r&&this.trigger("bandwidthupdate"),this.trigger("progress"),Gl(e.playlist,this.mediaSource_,e.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(n-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,r=t.start,n=t.end;if(zl(r)&&zl(n)){Fo(r,n,this.segmentMetadataTrack_);var s=y.WebKitDataCue||y.VTTCue,i={bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:r,end:n},a=new s(r,n,JSON.stringify(i));a.value=i,this.segmentMetadataTrack_.addCue(a)}}}}]),Ql);function Ql(e){to(this,Ql);var t=io(this,(Ql.__proto__||Object.getPrototypeOf(Ql)).call(this));if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return t.bandwidth=e.bandwidth,t.throughput={rate:0,count:0},t.roundTrip=NaN,t.resetStats_(),t.mediaIndex=null,t.hasPlayed_=e.hasPlayed,t.currentTime_=e.currentTime,t.seekable_=e.seekable,t.seeking_=e.seeking,t.duration_=e.duration,t.mediaSource_=e.mediaSource,t.hls_=e.hls,t.loaderType_=e.loaderType,t.startingMedia_=void 0,t.segmentMetadataTrack_=e.segmentMetadataTrack,t.goalBufferLength_=e.goalBufferLength,t.sourceType_=e.sourceType,t.inbandTextTracks_=e.inbandTextTracks,t.state_="INIT",t.checkBufferTimeout_=null,t.error_=void 0,t.currentTimeline_=-1,t.pendingSegment_=null,t.mimeType_=null,t.sourceUpdater_=null,t.xhrOptions_=null,t.activeInitSegmentId_=null,t.initSegments_={},t.captionParser_=new l.CaptionParser,t.decrypter_=e.decrypter,t.syncController_=e.syncController,t.syncPoint_={segmentIndex:0,time:0},t.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")}),t.mediaSource_.addEventListener("sourceopen",function(){return t.ended_=!1}),t.fetchAtBuffer_=!1,t.logger_=Il("SegmentLoader["+t.loaderType_+"]"),Object.defineProperty(t,"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e)}}),t}function Jl(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}var Zl=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),eu=(so(tu,$l),ro(tu,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Qa.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,r=e[e.length-1].startTime;return Qa.createTimeRanges([[t,r]])}},{key:"initSegment",value:function(e,t){var r=1<arguments.length&&void 0!==t&&t;if(!e)return null;var n=Oo(e),s=this.initSegments_[n];if(r&&!s&&e.bytes){var i=Zl.byteLength+e.bytes.byteLength,a=new Uint8Array(i);a.set(e.bytes),a.set(Zl,e.bytes.byteLength),this.initSegments_[n]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return s||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return"undefined"==typeof e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(e,t){Fo(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e=this.pendingSegment_,r=e.segment;if("function"!=typeof y.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){function n(){t.handleSegment_()}return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",n),void this.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",n),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")})}r.requested=!0;try{this.parseVTTCues_(e)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=r.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,r=!1;"function"==typeof y.TextDecoder?e=new y.TextDecoder("utf8"):(e=y.WebVTT.StringDecoder(),r=!0);var n=new y.WebVTT.Parser(y,y.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=t.cues.push.bind(t.cues),n.ontimestampmap=function(e){return t.timestampmap=e},n.onparsingerror=function(e){Qa.log.warn("Error encountered when parsing cues: "+e.message)},t.segment.map){var s=t.segment.map.bytes;r&&(s=Jl(s)),n.parse(s)}var i=t.bytes;r&&(i=Jl(i)),n.parse(i),n.flush()}},{key:"updateTimeMapping_",value:function(e,t,r){var n=e.segment;if(t)if(e.cues.length){var s=e.timestampmap,i=s.MPEGTS/9e4-s.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=i,e.endTime+=i}),!r.syncInfo){var a=e.cues[0].startTime,o=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(a,o-n.duration)}}}else n.empty=!0}}]),tu);function tu(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};to(this,tu);var r=io(this,(tu.__proto__||Object.getPrototypeOf(tu)).call(this,e,t));return r.mediaSource_=null,r.subtitlesTrack_=null,r}function ru(e,t){for(var r=e.cues,n=0;n<r.length;n++){var s=r[n];if(t>=s.adStartTime&&t<=s.adEndTime)return s}return null}var nu=t.inspect,su=[{name:"VOD",run:function(e,t,r){if(r===1/0)return null;return{time:0,segmentIndex:0}}},{name:"ProgramDateTime",run:function(e,t,r,n,s){if(!e.datetimeToDisplayTime)return null;var i=t.segments||[],a=null,o=null;s=s||0;for(var l=0;l<i.length;l++){var u=i[l];if(u.dateTimeObject){var c=u.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,d=Math.abs(s-c);if(null!==o&&o<d)break;o=d,a={time:c,segmentIndex:l}}}return a}},{name:"Segment",run:function(e,t,r,n,s){var i=t.segments||[],a=null,o=null;s=s||0;for(var l=0;l<i.length;l++){var u=i[l];if(u.timeline===n&&"undefined"!=typeof u.start){var c=Math.abs(s-u.start);if(null!==o&&o<c)break;(!a||null===o||c<=o)&&(o=c,a={time:u.start,segmentIndex:l})}}return a}},{name:"Discontinuity",run:function(e,t,r,n,s){var i=null;if(s=s||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,o=0;o<t.discontinuityStarts.length;o++){var l=t.discontinuityStarts[o],u=t.discontinuitySequence+o+1,c=e.discontinuities[u];if(c){var d=Math.abs(s-c.time);if(null!==a&&a<d)break;(!i||null===a||d<=a)&&(a=d,i={time:c.time,segmentIndex:l})}}return i}},{name:"Playlist",run:function(e,t){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],iu=(so(au,Qa.EventTarget),ro(au,[{key:"getSyncPoint",value:function(e,t,r,n){var s=this.runStrategies_(e,t,r,n);return s.length?this.selectSyncPoint_(s,{key:"time",value:n}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var r=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!r.length)return null;var n=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return 0<n.segmentIndex&&(n.time*=-1),Math.abs(n.time+bo(e,n.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,r,n){for(var s=[],i=0;i<su.length;i++){var a=su[i],o=a.run(this,e,t,r,n);o&&(o.strategy=a.name,s.push({strategy:a.name,syncPoint:o}))}return s}},{key:"selectSyncPoint_",value:function(e,t){for(var r=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),s=e[0].strategy,i=1;i<e.length;i++){var a=Math.abs(e[i].syncPoint[t.key]-t.value);a<n&&(n=a,r=e[i].syncPoint,s=e[i].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+s+"]: [time:"+r.time+", segmentIndex:"+r.segmentIndex+"]"),r}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var r=t.mediaSequence-e.mediaSequence-1;0<=r;r--){var n=e.segments[r];if(n&&"undefined"!=typeof n.start){t.syncInfo={mediaSequence:e.mediaSequence+r,time:n.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,r=e.playlist,n=void 0;return(n=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,n)&&(this.saveDiscontinuitySyncInfo_(e),r.syncInfo||(r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:t.start})),n}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,r=g.timescale(t.map.bytes),n=g.startTime(r,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=n),{start:n,end:n+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=nu(e.bytes,this.inspectCache_),r=void 0,n=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,r=t.video[0].dtsTime,n=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,r=t.audio[0].dtsTime,n=t.audio[1].dtsTime),{start:r,end:n,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var r=e.segment,n=this.timelines[e.timeline];if(null!==e.timestampOffset)n={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=n,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+n.time+"] [mapping: "+n.mapping+"]"),r.start=e.startOfSegment,r.end=t.end+n.mapping;else{if(!n)return!1;r.start=t.start+n.mapping,r.end=t.end+n.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var n=0;n<t.discontinuityStarts.length;n++){var s=t.discontinuityStarts[n],i=t.discontinuitySequence+n+1,a=s-e.mediaIndex,o=Math.abs(a);if(!this.discontinuities[i]||this.discontinuities[i].accuracy>o){var l=void 0;l=a<0?r.start-bo(t,e.mediaIndex,s):r.end+bo(t,e.mediaIndex+1,s),this.discontinuities[i]={time:l,accuracy:o}}}}}]),au);function au(){to(this,au);var e=io(this,(au.__proto__||Object.getPrototypeOf(au)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=Il("SyncController"),e}function ou(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)}function lu(e,t){(t.activePlaylistLoader=e).load()}function uu(t,r){return function(e){return e.attributes[t]===r}}function cu(t){return function(e){return e.resolvedUri===t}}function du(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){mu[e](e,t)});var r=t.mediaTypes,e=t.masterPlaylistLoader,n=t.tech,s=t.hls;["AUDIO","SUBTITLES"].forEach(function(e){var i,a,o,l,u,c;r[e].activeGroup=(i=e,a=t,function(t){var e=a.masterPlaylistLoader,r=a.mediaTypes[i].groups,n=e.media();if(!n)return null;var s=null;return n.attributes[i]&&(s=r[n.attributes[i]]),s=s||r.main,"undefined"==typeof t?s:null===t?null:s.filter(function(e){return e.id===t.id})[0]||null}),r[e].activeTrack=yu[e](e,t),r[e].onGroupChanged=(o=e,l=t,function(){var e=l.segmentLoaders,t=e[o],r=e.main,n=l.mediaTypes[o],s=n.activeTrack(),i=n.activeGroup(s),a=n.activePlaylistLoader;ou(t,n),i&&(i.playlistLoader?(t.resyncLoader(),lu(i.playlistLoader,n)):a&&r.resetEverything())}),r[e].onTrackChanged=(u=e,c=t,function(){var e=c.segmentLoaders,t=e[u],r=e.main,n=c.mediaTypes[u],s=n.activeTrack(),i=n.activeGroup(s),a=n.activePlaylistLoader;ou(t,n),i&&(i.playlistLoader?(a!==i.playlistLoader&&(t.track&&t.track(s),t.resetEverything()),lu(i.playlistLoader,n)):r.resetEverything())})});var i=r.AUDIO.activeGroup(),a=(i.filter(function(e){return e.default})[0]||i[0]).id;function o(){r.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"hls-audio-change"})}for(var l in r.AUDIO.tracks[a].enabled=!0,r.AUDIO.onTrackChanged(),e.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return r[e].onGroupChanged()})}),n.audioTracks().addEventListener("change",o),n.remoteTextTracks().addEventListener("change",r.SUBTITLES.onTrackChanged),s.on("dispose",function(){n.audioTracks().removeEventListener("change",o),n.remoteTextTracks().removeEventListener("change",r.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),r.AUDIO.tracks)n.audioTracks().addTrack(r.AUDIO.tracks[l])}var pu=new nl("./decrypter-worker.worker.js",function(e,t){var r,i,n,c,y,s,a,l,o,u=this;r="undefined"!=typeof e?e:"undefined"!=typeof Uu?Uu:"undefined"!=typeof u?u:{},i="undefined"!=typeof e?e:"undefined"!=typeof r?r:"undefined"!=typeof u?u:{},n=function(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e},c=null,h.prototype.decrypt=function(e,t,r,n,s,i){var a=this._key[1],o=e^a[0],l=n^a[1],u=r^a[2],c=t^a[3],d=void 0,p=void 0,h=void 0,f=a.length/4-2,m=void 0,y=4,g=this._tables[1],v=g[0],b=g[1],_=g[2],j=g[3],T=g[4];for(m=0;m<f;m++)d=v[o>>>24]^b[l>>16&255]^_[u>>8&255]^j[255&c]^a[y],p=v[l>>>24]^b[u>>16&255]^_[c>>8&255]^j[255&o]^a[y+1],h=v[u>>>24]^b[c>>16&255]^_[o>>8&255]^j[255&l]^a[y+2],c=v[c>>>24]^b[o>>16&255]^_[l>>8&255]^j[255&u]^a[y+3],y+=4,o=d,l=p,u=h;for(m=0;m<4;m++)s[(3&-m)+i]=T[o>>>24]<<24^T[l>>16&255]<<16^T[u>>8&255]<<8^T[255&c]^a[y++],d=o,o=l,l=u,u=c,c=d},y=h,f.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},f.prototype.off=function(e,t){if(!this.listeners[e])return!1;var r=this.listeners[e].indexOf(t);return this.listeners[e].splice(r,1),-1<r},f.prototype.trigger=function(e,t){var r=this.listeners[e];if(r)if(2===arguments.length)for(var n=r.length,s=0;s<n;++s)r[s].call(this,t);else for(var i=Array.prototype.slice.call(arguments,1),a=r.length,o=0;o<a;++o)r[o].apply(this,i)},f.prototype.dispose=function(){this.listeners={}},f.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":Ct(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,a=s=f),m.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},m.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},l=m,v.prototype.decryptChunk_=function(t,r,n,s){return function(){var e=function(e,t,r){var n=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),s=new y(Array.prototype.slice.call(t)),i=new Uint8Array(e.byteLength),a=new Int32Array(i.buffer),o=void 0,l=void 0,u=void 0,c=void 0,d=void 0,p=void 0,h=void 0,f=void 0,m=void 0;for(o=r[0],l=r[1],u=r[2],c=r[3],m=0;m<n.length;m+=4)d=g(n[m]),p=g(n[m+1]),h=g(n[m+2]),f=g(n[m+3]),s.decrypt(d,p,h,f,a,m),a[m]=g(a[m]^o),a[m+1]=g(a[m+1]^l),a[m+2]=g(a[m+2]^u),a[m+3]=g(a[m+3]^c),o=d,l=p,u=h,c=f;return i}(t,r,n);s.set(e,t.byteOffset)}},n(v,null,[{key:"STEP",get:function(){return 32e3}}]),o=v,new function(e){e.onmessage=function(e){var s=e.data,t=new Uint8Array(s.encrypted.bytes,s.encrypted.byteOffset,s.encrypted.byteLength),r=new Uint32Array(s.key.bytes,s.key.byteOffset,s.key.byteLength/4),n=new Uint32Array(s.iv.bytes,s.iv.byteOffset,s.iv.byteLength/4);new o(t,r,n,function(e,t){var r,n;i.postMessage((r={source:s.source,decrypted:t},n={},Object.keys(r).forEach(function(e){var t=r[e];ArrayBuffer.isView(t)?n[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:n[e]=t}),n),[t.buffer])})}}(u);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){d(this,h),c=c||function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],r=e[1],n=t[4],s=r[4],i=void 0,a=void 0,o=void 0,l=[],u=[],c=void 0,d=void 0,p=void 0,h=void 0,f=void 0;for(i=0;i<256;i++)u[(l[i]=i<<1^283*(i>>7))^i]=i;for(a=o=0;!n[a];a^=c||1,o=u[o]||1)for(p=(p=o^o<<1^o<<2^o<<3^o<<4)>>8^255&p^99,f=16843009*l[d=l[c=l[s[n[a]=p]=a]]]^65537*d^257*c^16843008*a,h=257*l[p]^16843008*p,i=0;i<4;i++)t[i][a]=h=h<<24^h>>>8,r[i][p]=f=f<<24^f>>>8;for(i=0;i<5;i++)t[i]=t[i].slice(0),r[i]=r[i].slice(0);return e}(),this._tables=[[c[0][0].slice(),c[0][1].slice(),c[0][2].slice(),c[0][3].slice(),c[0][4].slice()],[c[1][0].slice(),c[1][1].slice(),c[1][2].slice(),c[1][3].slice(),c[1][4].slice()]];var t=void 0,r=void 0,n=void 0,s=void 0,i=void 0,a=this._tables[0][4],o=this._tables[1],l=e.length,u=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(s=e.slice(0),i=[],this._key=[s,i],t=l;t<4*l+28;t++)n=s[t-1],(t%l==0||8===l&&t%l==4)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],t%l==0&&(n=n<<8^n>>>24^u<<24,u=u<<1^283*(u>>7))),s[t]=s[t-l]^n;for(r=0;t;r++,t--)n=s[3&r?t:t-4],i[r]=t<=4||r<4?n:o[0][a[n>>>24]]^o[1][a[n>>16&255]]^o[2][a[n>>8&255]]^o[3][a[255&n]]}function f(){d(this,f),this.listeners={}}function m(){d(this,m);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":Ct(t))&&"function"!=typeof t?e:t}(this,a.call(this,s));return e.jobs=[],e.delay=1,e.timeout_=null,e}function g(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}function v(e,t,r,n){d(this,v);var s=v.STEP,i=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),o=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(i.subarray(o,o+s),t,r,a)),o=s;o<i.length;o+=s)r=new Uint32Array([g(i[o-4]),g(i[o-3]),g(i[o-2]),g(i[o-1])]),this.asyncStream_.push(this.decryptChunk_(i.subarray(o,o+s),t,r,a));this.asyncStream_.push(function(){var e;n(null,(e=a).subarray(0,e.byteLength-e[e.byteLength-1]))})}}),hu={AUDIO:function(l,u){return function(){var e=u.segmentLoaders[l],t=u.mediaTypes[l],r=u.blacklistCurrentPlaylist;ou(e,t);var n=t.activeTrack(),s=t.activeGroup(),i=(s.filter(function(e){return e.default})[0]||s[0]).id,a=t.tracks[i];if(n!==a){for(var o in Qa.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),t.tracks)t.tracks[o].enabled=t.tracks[o]===a;t.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(n,s){return function(){var e=s.segmentLoaders[n],t=s.mediaTypes[n];Qa.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),ou(e,t);var r=t.activeTrack();r&&(r.mode="disabled"),t.onTrackChanged()}}},fu={AUDIO:function(e,t,r){if(t){var n=r.tech,s=r.requestOptions,i=r.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();i.playlist(e,s),(!n.paused()||e.endList&&"none"!==n.preload())&&i.load()}),t.on("loadedplaylist",function(){i.playlist(t.media(),s),n.paused()||i.load()}),t.on("error",hu[e](e,r))}},SUBTITLES:function(e,t,r){var n=r.tech,s=r.requestOptions,i=r.segmentLoaders[e],a=r.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();i.playlist(e,s),i.track(a.activeTrack()),(!n.paused()||e.endList&&"none"!==n.preload())&&i.load()}),t.on("loadedplaylist",function(){i.playlist(t.media(),s),n.paused()||i.load()}),t.on("error",hu[e](e,r))}},mu={AUDIO:function(e,t){var r,n,s=t.hls,i=t.sourceType,a=t.segmentLoaders[e],o=t.requestOptions.withCredentials,l=t.master,u=l.mediaGroups,c=l.playlists,d=t.mediaTypes[e],p=d.groups,h=d.tracks,f=t.masterPlaylistLoader;for(var m in u[e]&&0!==Object.keys(u[e]).length||(u[e]={main:{default:{default:!0}}}),u[e]){p[m]||(p[m]=[]);var y=c.filter(uu(e,m));for(var g in u[e][m]){var v=u[e][m][g];y.filter(cu(v.resolvedUri)).length&&delete v.resolvedUri;var b=void 0;if(b=v.resolvedUri?new mo(v.resolvedUri,s,o):v.playlists&&"dash"===i?new Cl(v.playlists[0],s,o,f):null,v=Qa.mergeOptions({id:g,playlistLoader:b},v),fu[e](e,v.playlistLoader,t),p[m].push(v),"undefined"==typeof h[g]){var _=new Qa.AudioTrack({id:g,kind:(n=void 0,n=(r=v).default?"main":"alternative",r.characteristics&&0<=r.characteristics.indexOf("public.accessibility.describes-video")&&(n="main-desc"),n),enabled:!1,language:v.language,default:v.default,label:g});h[g]=_}}}a.on("error",hu[e](e,t))},SUBTITLES:function(e,t){var r=t.tech,n=t.hls,s=t.sourceType,i=t.segmentLoaders[e],a=t.requestOptions.withCredentials,o=t.master.mediaGroups,l=t.mediaTypes[e],u=l.groups,c=l.tracks,d=t.masterPlaylistLoader;for(var p in o[e])for(var h in u[p]||(u[p]=[]),o[e][p])if(!o[e][p][h].forced){var f=o[e][p][h],m=void 0;if("hls"===s?m=new mo(f.resolvedUri,n,a):"dash"===s&&(m=new Cl(f.playlists[0],n,a,d)),f=Qa.mergeOptions({id:h,playlistLoader:m},f),fu[e](e,f.playlistLoader,t),u[p].push(f),"undefined"==typeof c[h]){var y=r.addRemoteTextTrack({id:h,kind:"subtitles",enabled:!1,language:f.language,label:h},!1).track;c[h]=y}}i.on("error",hu[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var r=t.tech,n=t.master.mediaGroups,s=t.mediaTypes[e],i=s.groups,a=s.tracks;for(var o in n[e])for(var l in i[o]||(i[o]=[]),n[e][o]){var u=n[e][o][l];if(u.instreamId.match(/CC\d/)&&(i[o].push(Qa.mergeOptions({id:l},u)),"undefined"==typeof a[l])){var c=r.addRemoteTextTrack({id:u.instreamId,kind:"captions",enabled:!1,language:u.language,label:l},!1).track;a[l]=c}}}},yu={AUDIO:function(r,n){return function(){var e=n.mediaTypes[r].tracks;for(var t in e)if(e[t].enabled)return e[t];return null}},SUBTITLES:function(r,n){return function(){var e=n.mediaTypes[r].tracks;for(var t in e)if("showing"===e[t].mode)return e[t];return null}}},gu=void 0,vu=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],bu=(so(_u,Qa.EventTarget),ro(_u,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*n.masterPlaylistLoader_.targetDuration*1e3;Co(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,e.endList&&"none"!==n.tech_.preload()&&(n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load()),du({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,hls:n.hls_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),e);try{n.setupSourceBuffers_()}catch(e){return Qa.log.warn("Failed to create SourceBuffers",e),n.mediaSource.endOfStream("decode")}n.setupFirstPlay(),n.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=n.masterPlaylistLoader_.media();if(!e){n.excludeUnsupportedVariants_();var t=void 0;return n.enableLowInitialPlaylist&&(t=n.selectInitialPlaylist()),t=t||n.selectPlaylist(),n.initialMedia_=t,void n.masterPlaylistLoader_.media(n.initialMedia_)}if(n.useCueTags_&&n.updateAdCues_(e),n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.updateDuration(),n.tech_.paused()||n.mainSegmentLoader_.load(),!e.endList){function r(){var e=n.seekable();0!==e.length&&n.mediaSource.addSeekableRange_(e.start(0),e.end(0))}n.duration()!==1/0?n.tech_.one("durationchange",function e(){n.duration()===1/0?r():n.tech_.one("durationchange",e)}):r()}}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*n.masterPlaylistLoader_.targetDuration*1e3;Co(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=n.masterPlaylistLoader_.media();n.stuckAtPlaylistEnd_(e)&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),n.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var r=e.mediaGroups||{},n=!0,s=Object.keys(r.AUDIO);for(var i in r.AUDIO)for(var a in r.AUDIO[i])r.AUDIO[i][a].uri||(n=!1);n&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),gu.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),gu.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),s.length&&1<Object.keys(r.AUDIO[s[0]]).length&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var i=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=i.selectPlaylist(),t=i.masterPlaylistLoader_.media(),r=i.tech_.buffered(),n=r.length?r.end(r.length-1)-i.tech_.currentTime():0,s=i.bufferLowWaterLine();(!t.endList||i.duration()<Wl.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<t.attributes.BANDWIDTH||s<=n)&&i.masterPlaylistLoader_.media(e),i.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){i.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){i.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){i.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){i.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){i.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){i.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){i.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){i.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){i.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var r=this.seekable();if(!r.length)return!1;if(Qa.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.tech_.setCurrentTime(r.end(0)),e.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(r.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return Qa.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();"undefined"!=typeof e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var r=gu.Playlist.playlistEnd(e,t),n=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return r-n<=.1;var i=s.end(s.length-1);return i-n<=.1&&r-i<=.1}},{key:"blacklistCurrentPlaylist",value:function(e,t){var r,n=0<arguments.length&&void 0!==e?e:{},s=t,i=void 0;if(i=n.playlist||this.masterPlaylistLoader_.media(),s=s||n.blacklistDuration||this.blacklistDuration,!i){this.error=n;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var a=1===this.masterPlaylistLoader_.master.playlists.filter(ko).length;return a?(Qa.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(a)):(i.excludeUntil=Date.now()+1e3*s,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),r=this.selectPlaylist(),Qa.log.warn("Problem encountered with the current HLS playlist."+(n.message?" "+n.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=Uo(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:gu.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var r=this.masterPlaylistLoader_.media();if(r){var n=this.syncController_.getExpiredTime(r,this.mediaSource.duration);if(null!==n&&0!==(e=gu.Playlist.seekable(r,n)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(r,this.mediaSource.duration)))return;if(0===(t=gu.Playlist.seekable(r,n)).length)return}t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=Qa.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.logger_("seekable updated ["+No(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){function e(){t.mediaSource.duration=n,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)}var t=this,r=this.mediaSource.duration,n=gu.Playlist.duration(this.masterPlaylistLoader_.media()),s=this.tech_.buffered();0<s.length&&(n=Math.max(n,s.end(s.length-1))),r!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",e):e())}},{key:"dispose",value:function(){var n=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var t=n.mediaTypes_[e].groups;for(var r in t)t[r].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e,t=this.masterPlaylistLoader_.media();if(t&&"open"===this.mediaSource.readyState){if((e=dl(this.masterPlaylistLoader_.master,t)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(e),this.excludeIncompatibleVariants_(t)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=1<e.length&&-1===e[0].indexOf(",")&&e[0]!==e[1]?new Qa.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(e){e.attributes.CODECS&&y.MediaSource&&y.MediaSource.isTypeSupported&&!y.MediaSource.isTypeSupported('video/mp4; codecs="'+e.attributes.CODECS.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return ll([e])[0]})+'"')&&(e.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(e){var r=2,n=null,t=void 0;e.attributes.CODECS&&(t=ul(e.attributes.CODECS),n=t.videoCodec,r=t.codecCount),this.master().playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};e.attributes.CODECS&&(t=ul(e.attributes.CODECS)),t.codecCount!==r&&(e.excludeUntil=1/0),t.videoCodec!==n&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,r=this.seekable();r.length&&(t=r.start(0)),function(e,t,r){var n=2<arguments.length&&void 0!==r?r:0;if(e.segments)for(var s=n,i=void 0,a=0;a<e.segments.length;a++){var o=e.segments[a];if(i=i||ru(t,s+o.duration/2)){if("cueIn"in o){i.endTime=s,i.adEndTime=s,s+=o.duration,i=null;continue}if(s<i.endTime){s+=o.duration;continue}i.endTime+=o.duration}else if("cueOut"in o&&((i=new y.VTTCue(s,s+o.duration,o.cueOut)).adStartTime=s,i.adEndTime=s+parseFloat(o.cueOut),t.addCue(i)),"cueOutCont"in o){var l,u,c=o.cueOutCont.split("/").map(parseFloat),d=po(c,2);l=d[0],u=d[1],(i=new y.VTTCue(s,s+o.duration,"")).adStartTime=s-l,i.adEndTime=i.adStartTime+u,t.addCue(i)}s+=o.duration}}(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=Wl.GOAL_BUFFER_LENGTH,r=Wl.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,Wl.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*r,n)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=Wl.BUFFER_LOW_WATER_LINE,r=Wl.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,Wl.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*r,n)}}]),_u);function _u(e){to(this,_u);var t,r=io(this,(_u.__proto__||Object.getPrototypeOf(_u)).call(this)),n=e.url,s=e.withCredentials,i=e.tech,a=e.bandwidth,o=e.externHls,l=e.useCueTags,u=e.blacklistDuration,c=e.enableLowInitialPlaylist,d=e.sourceType;if(!n)throw new Error("A non-empty playlist URL is required");gu=o,r.withCredentials=s,r.tech_=i,r.hls_=i.hls,r.sourceType_=d,r.useCueTags_=l,r.blacklistDuration=u,r.enableLowInitialPlaylist=c,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:r.withCredentials,timeout:null},r.mediaTypes_=(t={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Pl,activeTrack:Pl,onGroupChanged:Pl,onTrackChanged:Pl}}),t),r.mediaSource=new Qa.MediaSource,r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_.bind(r)),r.seekable_=Qa.createTimeRanges(),r.hasPlayed_=function(){return!1},r.syncController_=new iu(e),r.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new pu,r.inbandTextTracks_={};var p={hls:r.hls_,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.mediaSource.duration},hasPlayed:function(){return r.hasPlayed_()},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:a,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_};return r.masterPlaylistLoader_="dash"===r.sourceType_?new Cl(n,r.hls_,r.withCredentials):new mo(n,r.hls_,r.withCredentials),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new $l(Qa.mergeOptions(p,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),e),r.audioSegmentLoader_=new $l(Qa.mergeOptions(p,{loaderType:"audio"}),e),r.subtitleSegmentLoader_=new eu(Qa.mergeOptions(p,{loaderType:"vtt"}),e),r.setupSegmentLoaderListeners_(),vu.forEach(function(e){r[e+"_"]=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]}.bind(r,e)}),r.logger_=Il("MPC"),r.masterPlaylistLoader_.load(),r}function ju(e,t,r){to(this,ju);var s,i,a,n=e.masterPlaylistController_.fastQualityChange_.bind(e.masterPlaylistController_);if(t.attributes.RESOLUTION){var o=t.attributes.RESOLUTION;this.width=o.width,this.height=o.height}this.bandwidth=t.attributes.BANDWIDTH,this.id=r,this.enabled=(s=e.playlists,i=t.uri,a=n,function(e){var t=s.master.playlists[i],r=Eo(t),n=ko(t);return"undefined"==typeof e?n:(e?delete t.disabled:t.disabled=!0,e===n||r||(a(),e?s.trigger("renditionenabled"):s.trigger("renditiondisabled")),e)})}var Tu=["seeking","seeked","pause","playing","error"],Su=(ro(wu,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&y.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=y.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking(),t=this.seekable(),r=this.tech_.currentTime(),n=void 0;return e&&this.afterSeekableWindow_(t,r)&&(n=t.end(t.length-1)),e&&this.beforeSeekableWindow_(t,r)&&(n=t.start(0)+.1),"undefined"!=typeof n&&(this.logger_("Trying to seek outside of seekable at time "+r+" with seekable range "+No(t)+". Seeking to "+n+"."),this.tech_.setCurrentTime(n),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),r=Uo(t,e);return r.length&&e+3<=r.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+r.start(0)+" -> "+r.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var r=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+r),this.cancelTimer_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.buffered(),s=Mo(n,t);if(this.videoUnderflow_(s,n,t))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(0<s.length){var i=s.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+i+", seeking to "+s.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*i,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t){return!!e.length&&t>e.end(e.length-1)+.1}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&0<e.start(0)&&t<e.start(0)-.1)}},{key:"videoUnderflow_",value:function(e,t,r){if(0===e.length){var n=this.gapFromVideoUnderflow_(t,r);if(n)return this.logger_("Encountered a gap in video from "+n.start+" to "+n.end+". Seeking to current time "+r),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),r=this.tech_.currentTime(),n=Mo(t,r);this.cancelTimer_(),0!==n.length&&r===e&&(this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+$o),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var r=function(e){if(e.length<2)return Qa.createTimeRanges();for(var t=[],r=1;r<e.length;r++){var n=e.end(r-1),s=e.start(r);t.push([n,s])}return Qa.createTimeRanges(t)}(e),n=0;n<r.length;n++){var s=r.start(n),i=r.end(n);if(t-s<4&&2<t-s)return{start:s,end:i}}return null}}]),wu);function wu(e){var t=this;to(this,wu),this.tech_=e.tech,this.seekable=e.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Il("PlaybackWatcher"),this.logger_("initialize");function r(){return t.monitorCurrentTime_()}function n(){return t.techWaiting_()}function s(){return t.cancelTimer_()}function i(){return t.fixesBadSeeks_()}this.tech_.on("seekablechanged",i),this.tech_.on("waiting",n),this.tech_.on(Tu,s),this.tech_.on("canplay",r),this.dispose=function(){t.logger_("dispose"),t.tech_.off("seekablechanged",i),t.tech_.off("waiting",n),t.tech_.off(Tu,s),t.tech_.off("canplay",r),t.checkCurrentTimeTimeout_&&y.clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}function Eu(t,e){var r=0,n=0,s=Qa.mergeOptions(xu,e);function i(){n&&t.currentTime(n)}function a(e){null!=e&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",i),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())}function o(){if(Date.now()-r<1e3*s.errorInterval)t.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(s.getSource&&"function"==typeof s.getSource)return r=Date.now(),s.getSource.call(t,a);Qa.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}}function l(){t.off("loadedmetadata",i),t.off("error",o),t.off("dispose",l)}t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})}),t.on("error",o),t.on("dispose",l),t.reloadSourceOnError=function(e){l(),Eu(t,e)}}function ku(e){Eu(this,e)}var xu={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},Cu={PlaylistLoader:mo,Playlist:Wo,Decrypter:h.Decrypter,AsyncStream:h.AsyncStream,decrypt:h.decrypt,utils:Ko,STANDARD_PLAYLIST_SELECTOR:function(){return function(e,t,r,n){var s=e.playlists.map(function(e){var t,r;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,r=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,{bandwidth:e.attributes.BANDWIDTH||y.Number.MAX_VALUE,width:t,height:r,playlist:e}});ql(s,function(e,t){return e.bandwidth-t.bandwidth});var i=(s=s.filter(function(e){return!Wo.isIncompatible(e.playlist)})).filter(function(e){return Wo.isEnabled(e.playlist)});i.length||(i=s.filter(function(e){return!Wo.isDisabled(e.playlist)}));var a=i.filter(function(e){return e.bandwidth*Wl.BANDWIDTH_VARIANCE<t}),o=a[a.length-1],l=a.filter(function(e){return e.bandwidth===o.bandwidth})[0],u=a.filter(function(e){return e.width&&e.height});ql(u,function(e,t){return e.width-t.width});var c=u.filter(function(e){return e.width===r&&e.height===n});o=c[c.length-1];var d=c.filter(function(e){return e.bandwidth===o.bandwidth})[0],p=void 0,h=void 0,f=void 0;d||(h=(p=u.filter(function(e){return e.width>r||e.height>n})).filter(function(e){return e.width===p[0].width&&e.height===p[0].height}),o=h[h.length-1],f=h.filter(function(e){return e.bandwidth===o.bandwidth})[0]);var m=f||d||l||i[0]||s[0];return m?m.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(Hl(this.tech_.el(),"width"),10),parseInt(Hl(this.tech_.el(),"height"),10))},INITIAL_PLAYLIST_SELECTOR:function(){var e=this.playlists.master.playlists.filter(Wo.isEnabled);return ql(e,function(e,t){return Vl(e,t)}),e.filter(function(e){return ul(e.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:Vl,comparePlaylistResolution:function(e,t){var r=void 0,n=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||y.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),r===(n=n||y.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:r-n},xhr:Ao()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(Cu,t,{get:function(){return Qa.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),Wl[t]},set:function(e){Qa.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?Qa.log.warn("value of Hls."+t+" must be greater than or equal to 0"):Wl[t]=e}})});function Au(e){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e)?"hls":/^application\/dash\+xml/i.test(e)?"dash":null}function Iu(e,t){for(var r=t.media(),n=-1,s=0;s<e.length;s++)if(e[s].id===r.uri){n=s;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})}Cu.canPlaySource=function(){return Qa.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};function Pu(e){if("dash"===e.options_.sourceType){var t=Qa.players[e.tech_.options_.playerId];if(t.eme){var r=function(e,t,r){if(!e)return e;var n={};for(var s in e)n[s]={audioContentType:'audio/mp4; codecs="'+r.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+t.attributes.CODECS+'"'},t.contentProtection&&t.contentProtection[s]&&t.contentProtection[s].pssh&&(n[s].pssh=t.contentProtection[s].pssh),"string"==typeof e[s]&&(n[s].url=e[s]);return Qa.mergeOptions(e,n)}(e.source_.keySystems,e.playlists.media(),e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());r&&(t.currentSource().keySystems=r)}}}Cu.supportsNativeHls=function(){var t=c.createElement("video");if(!Qa.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),Cu.supportsNativeDash=!!Qa.getTech("Html5").isSupported()&&/maybe|probably/i.test(c.createElement("video").canPlayType("application/dash+xml")),Cu.supportsTypeNatively=function(e){return"hls"===e?Cu.supportsNativeHls:"dash"===e&&Cu.supportsNativeDash},Cu.isSupported=function(){return Qa.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Lu=Qa.getComponent("Component"),Ou=(so(Ru,Lu),ro(Ru,[{key:"setOptions_",value:function(){var t=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth,["withCredentials","bandwidth"].forEach(function(e){"undefined"!=typeof t.source_[e]&&(t.options_[e]=t.source_[e])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(e,t){var n=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=Cu,this.options_.sourceType=Au(t),this.masterPlaylistController_=new bu(this.options_),this.playbackWatcher_=new Su(Qa.mergeOptions(this.options_,{seekable:function(){return n.seekable()}})),this.masterPlaylistController_.on("error",function(){Qa.players[n.tech_.options_.playerId].error(n.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Cu.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Cu.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;return t=0<this.throughput?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){Qa.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Bo(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Bo(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){var r,e;e=(r=n).playlists,r.representations=function(){return e.master.playlists.filter(function(e){return!Eo(e)}).map(function(e,t){return new ju(r,e,e.uri)})},Pu(n)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return n.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(Qa.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var r=this,e=Qa.players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var t,e;t=r.qualityLevels_,(e=r).representations().forEach(function(e){t.addQualityLevel(e)}),Iu(t,e.playlists)}),this.playlists.on("mediachange",function(){Iu(r.qualityLevels_,r.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),function e(t,r,n){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,r);if(void 0===s){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in s)return s.value;var a=s.get;return void 0!==a?a.call(n):void 0}(Ru.prototype.__proto__||Object.getPrototypeOf(Ru.prototype),"dispose",this).call(this)}}]),Ru);function Ru(e,t,r){to(this,Ru);var n=io(this,(Ru.__proto__||Object.getPrototypeOf(Ru)).call(this,t,r.hls));if(t.options_&&t.options_.playerId){var s=Qa(t.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return Qa.log.warn("player.hls is deprecated. Use player.tech().hls instead."),t.trigger({type:"usage",name:"hls-player-access"}),n}}),s.vhs=n,s.dash=n}if(n.tech_=t,n.source_=e,n.stats={},n.ignoreNextSeekingEvent_=!1,n.setOptions_(),n.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(n.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return n.on(c,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=c.fullscreenElement||c.webkitFullscreenElement||c.mozFullScreenElement||c.msFullscreenElement;t&&t.contains(n.tech_.el())&&n.masterPlaylistController_.fastQualityChange_()}),n.on(n.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),n.on(n.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),n.on(n.tech_,"play",n.play),n}var Du={name:"videojs-http-streaming",VERSION:"1.2.1",canHandleSource:function(e,t){var r=Qa.mergeOptions(Qa.options,1<arguments.length&&void 0!==t?t:{});return Du.canPlayType(e.type,r)},handleSource:function(e,t,r){var n=Qa.mergeOptions(Qa.options,2<arguments.length&&void 0!==r?r:{});return t.hls=new Ou(e,t,n),t.hls.xhr=Ao(),t.hls.src(e.src,e.type),t.hls},canPlayType:function(e,t){var r=Qa.mergeOptions(Qa.options,1<arguments.length&&void 0!==t?t:{}).hls.overrideNative,n=Au(e);return n&&(!Cu.supportsTypeNatively(n)||r)?"maybe":""}};"undefined"!=typeof Qa.MediaSource&&"undefined"!=typeof Qa.URL||(Qa.MediaSource=wl,Qa.URL=El),wl.supportsNativeMediaSources()&&Qa.getTech("Html5").registerSourceHandler(Du,0),Qa.HlsHandler=Ou,Qa.HlsSourceHandler=Du,Qa.Hls=Cu,Qa.use||Qa.registerComponent("Hls",Cu),Qa.options.hls=Qa.options.hls||{},Qa.registerPlugin?Qa.registerPlugin("reloadSourceOnError",ku):Qa.plugin("reloadSourceOnError",ku),Nu.exports=Qa}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@babel/runtime/helpers/typeof":2,"aes-decrypter":27,"core-js/modules/es.array-buffer.constructor.js":190,"core-js/modules/es.array-buffer.is-view.js":191,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.every.js":194,"core-js/modules/es.array.fill.js":195,"core-js/modules/es.array.filter.js":196,"core-js/modules/es.array.for-each.js":199,"core-js/modules/es.array.index-of.js":200,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.join.js":202,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.reduce-right.js":205,"core-js/modules/es.array.reduce.js":206,"core-js/modules/es.array.reverse.js":207,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.array.some.js":209,"core-js/modules/es.array.sort.js":210,"core-js/modules/es.array.splice.js":211,"core-js/modules/es.data-view.js":212,"core-js/modules/es.date.to-json.js":213,"core-js/modules/es.function.name.js":214,"core-js/modules/es.map.js":215,"core-js/modules/es.number.constructor.js":216,"core-js/modules/es.number.to-fixed.js":217,"core-js/modules/es.object.assign.js":219,"core-js/modules/es.object.freeze.js":220,"core-js/modules/es.object.get-own-property-descriptor.js":221,"core-js/modules/es.object.get-own-property-names.js":222,"core-js/modules/es.object.get-prototype-of.js":223,"core-js/modules/es.object.keys.js":224,"core-js/modules/es.object.set-prototype-of.js":225,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.parse-float.js":227,"core-js/modules/es.parse-int.js":228,"core-js/modules/es.regexp.constructor.js":231,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.regexp.flags.js":233,"core-js/modules/es.regexp.to-string.js":234,"core-js/modules/es.string.iterator.js":235,"core-js/modules/es.string.match.js":236,"core-js/modules/es.string.replace.js":238,"core-js/modules/es.string.split.js":240,"core-js/modules/es.string.trim.js":241,"core-js/modules/es.symbol.description.js":242,"core-js/modules/es.symbol.iterator.js":243,"core-js/modules/es.symbol.js":244,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.int32-array.js":254,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint16-array.js":270,"core-js/modules/es.typed-array.uint32-array.js":271,"core-js/modules/es.typed-array.uint8-array.js":272,"core-js/modules/web.dom-collections.for-each.js":275,"core-js/modules/web.dom-collections.iterator.js":276,"core-js/modules/web.url.js":279,"core-js/modules/web.url.to-json.js":280,"global/document":284,"global/window":285,"m3u8-parser":287,"mpd-parser":288,"mux.js/lib/mp4":301,"mux.js/lib/mp4/probe":303,"mux.js/lib/tools/ts-inspector.js":307,"safe-json-parse/tuple":315,tsml:319,"url-toolkit":321,"videojs-vtt.js":322,xhr:328}],7:[function(e,t,r){"use strict";var n,s=e("../lib/hasAirPlayAPISupport");n={constructor:function(){this.constructor.super_.apply(this,arguments),s()||this.hide(),this.controlText("Start AirPlay"),this._reactToAirPlayAvailableEvents()},buildCSSClass:function(){return"vjs-airplay-button "+this.constructor.super_.prototype.buildCSSClass()},handleClick:function(){this.player().trigger("airPlayRequested")},_getMediaEl:function(){return this.player().el().querySelector("video, audio")},_reactToAirPlayAvailableEvents:function(){var e=this._getMediaEl(),t=this;e&&s()&&e.addEventListener("webkitplaybacktargetavailabilitychanged",function(e){"available"===e.availability?t.show():t.hide()})}},t.exports=function(e){var t;t=e.extend(e.getComponent("Button"),n),e.registerComponent("airPlayButton",t)}},{"../lib/hasAirPlayAPISupport":10}],8:[function(e,t,r){"use strict";e("core-js/modules/es.object.assign.js");var i=e("./lib/hasAirPlayAPISupport");function a(e){e.on("airPlayRequested",function(e){var t=e.el().querySelector("video, audio");t&&t.webkitShowPlaybackTargetPicker&&t.webkitShowPlaybackTargetPicker()}.bind(null,e))}t.exports=function(e){e.registerPlugin("airPlay",function(e){var t=Object.assign({addButtonToControlBar:!0},e||{});this.ready(function(e,t){var r,n,s;e.controlBar&&i()&&(a(e),n=t,s=(r=e).controlBar.getChild("airPlayButton"),n.addButtonToControlBar&&!s&&r.controlBar.addChild("airPlayButton",n))}.bind(this,this,t))})}},{"./lib/hasAirPlayAPISupport":10,"core-js/modules/es.object.assign.js":219}],9:[function(e,t,r){"use strict";var n=e("./components/AirPlayButton"),s=e("./enableAirPlay");t.exports=function(e){e=e||window.videojs,n(e),s(e)}},{"./components/AirPlayButton":7,"./enableAirPlay":8}],10:[function(e,t,r){"use strict";t.exports=function(){return!!window.WebKitPlaybackTargetAvailabilityEvent}},{}],11:[function(e,t,r){!function(){var i=!1,a=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(e){var s=this.prototype;i=!0;var t=new this;for(var r in i=!1,e)t[r]="function"==typeof e[r]&&"function"==typeof s[r]&&a.test(e[r])?function(r,n){return function(){var e=this._super;this._super=s[r];var t=n.apply(this,arguments);return this._super=e,t}}(r,e[r]):e[r];function n(){!i&&this.init&&this.init.apply(this,arguments)}return((n.prototype=t).constructor=n).extend=arguments.callee,n},t.exports=Class}()},{}],12:[function(e,t,r){"use strict";var n,s=e("class.extend"),i=!1;function a(){return cast.framework.CastContext.getInstance()}(n=s.extend({init:function(e){this.player=e,this._addCastContextEventListeners(),this.player.on("dispose",this._removeCastContextEventListeners.bind(this)),this._notifyPlayerOfDevicesAvailabilityChange(this.getCastContext().getCastState()),this.remotePlayer=new cast.framework.RemotePlayer,this.remotePlayerController=new cast.framework.RemotePlayerController(this.remotePlayer)},_addCastContextEventListeners:function(){var e=cast.framework.CastContextEventType.SESSION_STATE_CHANGED,t=cast.framework.CastContextEventType.CAST_STATE_CHANGED;this.getCastContext().addEventListener(e,this._onSessionStateChange.bind(this)),this.getCastContext().addEventListener(t,this._onCastStateChange.bind(this))},_removeCastContextEventListeners:function(){var e=cast.framework.CastContextEventType.SESSION_STATE_CHANGED,t=cast.framework.CastContextEventType.CAST_STATE_CHANGED;this.getCastContext().removeEventListener(e),this.getCastContext().removeEventListener(t)},_onSessionStateChange:function(e){e.sessionState===cast.framework.SessionState.SESSION_ENDED&&(this.player.trigger("chromecastDisconnected"),this._reloadTech())},_onCastStateChange:function(e){this._notifyPlayerOfDevicesAvailabilityChange(e.castState)},_notifyPlayerOfDevicesAvailabilityChange:function(e){this.hasAvailableDevices(e)?this.player.trigger("chromecastDevicesAvailable"):this.player.trigger("chromecastDevicesUnavailable")},hasAvailableDevices:function(e){return(e=e||this.getCastContext().getCastState())===cast.framework.CastState.NOT_CONNECTED||e===cast.framework.CastState.CONNECTING||e===cast.framework.CastState.CONNECTED},openCastMenu:function(){var e;this.player.currentSource()&&(e=function(){i=!0,this.player.trigger("chromecastConnected"),this._reloadTech()}.bind(this),this.getCastContext().requestSession().then(e,function(){}))},_reloadTech:function(){var e=this.player,t=e.currentTime(),r=e.paused(),n=e.currentSources();e.src(n),e.ready(function(){r?e.pause():e.play(),e.currentTime(t||0)})},getCastContext:a,getRemotePlayer:function(){return this.remotePlayer},getRemotePlayerController:function(){return this.remotePlayerController}})).isChromecastAPIAvailable=function(){return window.chrome&&window.chrome.cast&&window.cast},n.isChromecastConnected=function(){return n.isChromecastAPIAvailable()&&a().getCastState()===cast.framework.CastState.CONNECTED&&i},t.exports=n},{"class.extend":11}],13:[function(e,t,r){"use strict";var n;n={constructor:function(e){this.constructor.super_.apply(this,arguments),e.on("chromecastConnected",this._onChromecastConnected.bind(this)),e.on("chromecastDisconnected",this._onChromecastDisconnected.bind(this)),e.on("chromecastDevicesAvailable",this._onChromecastDevicesAvailable.bind(this)),e.on("chromecastDevicesUnavailable",this._onChromecastDevicesUnavailable.bind(this)),this.controlText("Open Chromecast menu"),e.chromecastSessionManager&&e.chromecastSessionManager.hasAvailableDevices()?this._onChromecastDevicesAvailable():this._onChromecastDevicesUnavailable()},buildCSSClass:function(){return"vjs-chromecast-button "+(this._isChromecastConnected?"vjs-chromecast-casting-state ":"")+this.constructor.super_.prototype.buildCSSClass()},handleClick:function(){this.player().trigger("chromecastRequested")},_onChromecastConnected:function(){this._isChromecastConnected=!0,this._reloadCSSClasses()},_onChromecastDisconnected:function(){this._isChromecastConnected=!1,this._reloadCSSClasses()},_onChromecastDevicesAvailable:function(){this.show()},_onChromecastDevicesUnavailable:function(){this.hide()},_reloadCSSClasses:function(){this.el_&&(this.el_.className=this.buildCSSClass())}},t.exports=function(e){var t;t=e.extend(e.getComponent("Button"),n),e.registerComponent("chromecastButton",t)}},{}],14:[function(e,t,r){"use strict";e("core-js/modules/es.object.assign.js");var i=e("./chromecast/ChromecastSessionManager");function s(e,t){var r;t.addButtonToControlBar&&!e.controlBar.getChild("chromecastButton")&&(r=e.controlBar.children().length,"undefined"!=typeof t.buttonPositionIndex&&(r=0<=t.buttonPositionIndex?t.buttonPositionIndex:e.controlBar.children().length+t.buttonPositionIndex),e.controlBar.addChild("chromecastButton",t,r)),e.on("chromecastRequested",function(e){e.chromecastSessionManager.openCastMenu()}.bind(null,e))}function a(e,t){var r,n;r=t,cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:r.receiverAppID||chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),(n=e).chromecastSessionManager||(n.chromecastSessionManager=new i(n)),s(e,t)}t.exports=function(e){e.registerPlugin("chromecast",function(e){var s=Object.assign({addButtonToControlBar:!0},e||{});this.ready(function(){var e,t,r,n;this.controlBar&&(i.isChromecastAPIAvailable()?a(this,s):(e=this,t=s,n=1,r=setInterval(function(){30<n?clearInterval(r):(i.isChromecastAPIAvailable()&&(clearInterval(r),a(e,t)),n+=1)},1e3)))}.bind(this))})}},{"./chromecast/ChromecastSessionManager":12,"core-js/modules/es.object.assign.js":219}],15:[function(e,t,r){"use strict";e("core-js/modules/es.object.assign.js");var n=e("./preloadWebComponents"),s=e("./components/ChromecastButton"),i=e("./tech/ChromecastTech"),a=e("./enableChromecast");t.exports=function(e,t){Object.assign({preloadWebComponents:!1},t).preloadWebComponents&&n(),e=e||window.videojs,s(e),i(e),a(e)}},{"./components/ChromecastButton":13,"./enableChromecast":14,"./preloadWebComponents":16,"./tech/ChromecastTech":17,"core-js/modules/es.object.assign.js":219}],16:[function(r,e,t){"use strict";function n(e){return"string"==typeof window.navigator.userAgent&&0<=window.navigator.userAgent.indexOf(e)}r("core-js/modules/es.array.index-of.js"),e.exports=function(){var e=!document.registerElement,t=n("CriOS");(n("Android")&&n("Chrome/")&&window.navigator.presentation||t)&&e&&r("webcomponents.js/webcomponents-lite.js")}},{"core-js/modules/es.array.index-of.js":200,"webcomponents.js/webcomponents-lite.js":326}],17:[function(e,t,r){"use strict";e("core-js/modules/es.array.splice.js");var n,s=e("../chromecast/ChromecastSessionManager"),i=e("./ChromecastTechUI");n={constructor:function(e){var t;return this._eventListeners=[],this.videojsPlayer=this.videojs(e.playerId),this._chromecastSessionManager=this.videojsPlayer.chromecastSessionManager,this._ui=new i,this._ui.updatePoster(this.videojsPlayer.poster()),t=this.constructor.super_.apply(this,arguments),this._remotePlayer=this._chromecastSessionManager.getRemotePlayer(),this._remotePlayerController=this._chromecastSessionManager.getRemotePlayerController(),this._listenToPlayerControllerEvents(),this.on("dispose",this._removeAllEventListeners.bind(this)),this._hasPlayedAnyItem=!1,this._requestTitle=e.requestTitleFn||function(){},this._requestSubtitle=e.requestSubtitleFn||function(){},this._requestCustomData=e.requestCustomDataFn||function(){},this._initialStartTime=e.startTime||0,this._playSource(e.source,this._initialStartTime),this.ready(function(){this.setMuted(e.muted)}.bind(this)),t},createEl:function(){return this._ui.getDOMElement()},play:function(){this.paused()&&(this.ended()&&!this._isMediaLoading?this._playSource({src:this.videojsPlayer.src()},0):this._remotePlayerController.playOrPause())},pause:function(){!this.paused()&&this._remotePlayer.canPause&&this._remotePlayerController.playOrPause()},paused:function(){return this._remotePlayer.isPaused||this.ended()||null===this._remotePlayer.playerState},setSource:function(e){this._currentSource&&this._currentSource.src===e.src&&this._currentSource.type===e.type||(this._currentSource=e,this._playSource(e,0))},_playSource:function(e,t){var r,n=this._getCastSession(),s=new chrome.cast.media.MediaInfo(e.src,e.type),i=this._requestTitle(e),a=this._requestSubtitle(e),o=this._requestCustomData(e);this.trigger("waiting"),this._clearSessionTimeout(),s.metadata=new chrome.cast.media.GenericMediaMetadata,s.metadata.metadataType=chrome.cast.media.MetadataType.GENERIC,s.metadata.title=i,s.metadata.subtitle=a,s.streamType=this.videojsPlayer.liveTracker&&this.videojsPlayer.liveTracker.isLive()?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,o&&(s.customData=o),this._ui.updateTitle(i),this._ui.updateSubtitle(a),(r=new chrome.cast.media.LoadRequest(s)).autoplay=!0,r.currentTime=t,this._isMediaLoading=!0,this._hasPlayedCurrentItem=!1,n.loadMedia(r).then(function(){this._hasPlayedAnyItem||this.triggerReady(),this.trigger("loadstart"),this.trigger("loadeddata"),this.trigger("play"),this.trigger("playing"),this._hasPlayedAnyItem=!0,this._isMediaLoading=!1,this._getMediaSession().addUpdateListener(this._onMediaSessionStatusChanged.bind(this))}.bind(this),this._triggerErrorEvent.bind(this))},setCurrentTime:function(e){var t=this.duration();t<e||!this._remotePlayer.canSeek||(this._remotePlayer.currentTime=Math.min(t-1,e),this._remotePlayerController.seek(),this._triggerTimeUpdateEvent())},currentTime:function(){return this._hasPlayedAnyItem?this._remotePlayer.currentTime:this._initialStartTime},duration:function(){return this._hasPlayedAnyItem?this._remotePlayer.duration:this.videojsPlayer.duration()},ended:function(){var e=this._getMediaSession();return!(e||!this._hasMediaSessionEnded)||!!e&&e.idleReason===chrome.cast.media.IdleReason.FINISHED},volume:function(){return this._remotePlayer.volumeLevel},setVolume:function(e){this._remotePlayer.volumeLevel=e,this._remotePlayerController.setVolumeLevel(),this._triggerVolumeChangeEvent()},muted:function(){return this._remotePlayer.isMuted},setMuted:function(e){(this._remotePlayer.isMuted&&!e||!this._remotePlayer.isMuted&&e)&&this._remotePlayerController.muteOrUnmute()},poster:function(){return this._ui.getPoster()},setPoster:function(e){this._ui.updatePoster(e)},buffered:function(){},seekable:function(){return this.videojs.createTimeRange(0,this.duration())},controls:function(){return!1},playsinline:function(){return!0},supportsFullScreen:function(){return!0},setAutoplay:function(){},playbackRate:function(){var e=this._getMediaSession();return e?e.playbackRate:1},setPlaybackRate:function(){},preload:function(){},load:function(){},readyState:function(){return"IDLE"===this._remotePlayer.playerState||"BUFFERING"===this._remotePlayer.playerState?0:4},_listenToPlayerControllerEvents:function(){var e=cast.framework.RemotePlayerEventType;this._addEventListener(this._remotePlayerController,e.PLAYER_STATE_CHANGED,this._onPlayerStateChanged,this),this._addEventListener(this._remotePlayerController,e.VOLUME_LEVEL_CHANGED,this._triggerVolumeChangeEvent,this),this._addEventListener(this._remotePlayerController,e.IS_MUTED_CHANGED,this._triggerVolumeChangeEvent,this),this._addEventListener(this._remotePlayerController,e.CURRENT_TIME_CHANGED,this._triggerTimeUpdateEvent,this),this._addEventListener(this._remotePlayerController,e.DURATION_CHANGED,this._triggerDurationChangeEvent,this)},_addEventListener:function(e,t,r,n){var s;s={target:e,type:t,callback:r,context:n,listener:r.bind(n)},e.addEventListener(t,s.listener),this._eventListeners.push(s)},_removeAllEventListeners:function(){for(;0<this._eventListeners.length;)this._removeEventListener(this._eventListeners[0]);this._eventListeners=[]},_removeEventListener:function(e){var t,r=-1;for(e.target.removeEventListener(e.type,e.listener),t=0;t<this._eventListeners.length;t++)if(this._eventListeners[t].target===e.target&&this._eventListeners[t].type===e.type&&this._eventListeners[t].callback===e.callback&&this._eventListeners[t].context===e.context){r=t;break}-1!==r&&this._eventListeners.splice(r,1)},_onPlayerStateChanged:function(){var e=chrome.cast.media.PlayerState,t=this._remotePlayer.playerState;t===e.PLAYING?(this._hasPlayedCurrentItem=!0,this.trigger("play"),this.trigger("playing")):t===e.PAUSED?this.trigger("pause"):t===e.IDLE&&this.ended()||null===t&&this._hasPlayedCurrentItem?(this._hasPlayedCurrentItem=!1,this._closeSessionOnTimeout(),this.trigger("ended"),this._triggerTimeUpdateEvent()):t===e.BUFFERING&&this.trigger("waiting")},_onMediaSessionStatusChanged:function(e){this._hasMediaSessionEnded=!!e},_closeSessionOnTimeout:function(){this._clearSessionTimeout(),this._sessionTimeoutID=setTimeout(function(){var e=this._getCastSession();e&&e.endSession(!0),this._clearSessionTimeout()}.bind(this),1e4)},_clearSessionTimeout:function(){this._sessionTimeoutID&&(clearTimeout(this._sessionTimeoutID),this._sessionTimeoutID=!1)},_getCastContext:function(){return this._chromecastSessionManager.getCastContext()},_getCastSession:function(){return this._getCastContext().getCurrentSession()},_getMediaSession:function(){var e=this._getCastSession();return e?e.getMediaSession():null},_triggerVolumeChangeEvent:function(){this.trigger("volumechange")},_triggerTimeUpdateEvent:function(){this.trigger("timeupdate")},_triggerDurationChangeEvent:function(){this.trigger("durationchange")},_triggerErrorEvent:function(){this.trigger("error")}},t.exports=function(e){var t,r=e.getComponent("Tech");(t=e.extend(r,n)).canPlaySource=s.isChromecastConnected.bind(s),t.isSupported=s.isChromecastConnected.bind(s),t.prototype.featuresVolumeControl=!0,t.prototype.featuresPlaybackRate=!1,t.prototype.movingMediaElementInDOM=!1,t.prototype.featuresFullscreenResize=!0,t.prototype.featuresTimeupdateEvents=!0,t.prototype.featuresProgressEvents=!1,t.prototype.featuresNativeTextTracks=!1,t.prototype.featuresNativeAudioTracks=!1,t.prototype.featuresNativeVideoTracks=!1,(t.prototype.videojs=e).registerTech("chromecast",t)}},{"../chromecast/ChromecastSessionManager":12,"./ChromecastTechUI":18,"core-js/modules/es.array.splice.js":211}],18:[function(e,t,r){"use strict";var n;n=e("class.extend").extend({init:function(){this._el=this._createDOMElement()},_createDOMElement:function(){var e=this._createElement("div","vjs-tech vjs-tech-chromecast"),t=this._createElement("div","vjs-tech-chromecast-poster"),r=this._createElement("img","vjs-tech-chromecast-poster-img"),n=this._createElement("div","vjs-tech-chromecast-title"),s=this._createElement("div","vjs-tech-chromecast-subtitle"),i=this._createElement("div","vjs-tech-chromecast-title-container");return t.appendChild(r),i.appendChild(n),i.appendChild(s),e.appendChild(i),e.appendChild(t),e},_createElement:function(e,t){var r=document.createElement(e);return r.className=t,r},getDOMElement:function(){return this._el},_findPosterEl:function(){return this._el.querySelector(".vjs-tech-chromecast-poster")},_findPosterImageEl:function(){return this._el.querySelector(".vjs-tech-chromecast-poster-img")},_findTitleEl:function(){return this._el.querySelector(".vjs-tech-chromecast-title")},_findSubtitleEl:function(){return this._el.querySelector(".vjs-tech-chromecast-subtitle")},updatePoster:function(e){var t=this._findPosterImageEl();this._poster=e||null,e?(t.setAttribute("src",e),t.classList.remove("vjs-tech-chromecast-poster-img-empty")):(t.removeAttribute("src"),t.classList.add("vjs-tech-chromecast-poster-img-empty"))},getPoster:function(){return this._poster},updateTitle:function(e){var t=this._findTitleEl();(this._title=e)?(t.innerHTML=e,t.classList.remove("vjs-tech-chromecast-title-empty")):t.classList.add("vjs-tech-chromecast-title-empty")},updateSubtitle:function(e){var t=this._findSubtitleEl();(this._subtitle=e)?(t.innerHTML=e,t.classList.remove("vjs-tech-chromecast-subtitle-empty")):t.classList.add("vjs-tech-chromecast-subtitle-empty")}}),t.exports=n},{"class.extend":11}],19:[function(e,t,r){arguments[4][11][0].apply(r,arguments)},{dup:11}],20:[function(s,i,a){(function(Jt){(function(){var e,t,r,n,Qt=s("@babel/runtime/helpers/typeof");s("core-js/modules/es.symbol.js"),s("core-js/modules/es.symbol.description.js"),s("core-js/modules/es.object.to-string.js"),s("core-js/modules/es.array.slice.js"),s("core-js/modules/es.regexp.to-string.js"),s("core-js/modules/es.array-buffer.constructor.js"),s("core-js/modules/es.array-buffer.slice.js"),s("core-js/modules/es.data-view.js"),s("core-js/modules/es.object.keys.js"),s("core-js/modules/es.array-buffer.is-view.js"),s("core-js/modules/es.array.iterator.js"),s("core-js/modules/es.typed-array.int8-array.js"),s("core-js/modules/es.typed-array.copy-within.js"),s("core-js/modules/es.typed-array.every.js"),s("core-js/modules/es.typed-array.fill.js"),s("core-js/modules/es.typed-array.filter.js"),s("core-js/modules/es.typed-array.find.js"),s("core-js/modules/es.typed-array.find-index.js"),s("core-js/modules/es.typed-array.for-each.js"),s("core-js/modules/es.typed-array.includes.js"),s("core-js/modules/es.typed-array.index-of.js"),s("core-js/modules/es.typed-array.iterator.js"),s("core-js/modules/es.typed-array.join.js"),s("core-js/modules/es.typed-array.last-index-of.js"),s("core-js/modules/es.typed-array.map.js"),s("core-js/modules/es.typed-array.reduce.js"),s("core-js/modules/es.typed-array.reduce-right.js"),s("core-js/modules/es.typed-array.reverse.js"),s("core-js/modules/es.typed-array.set.js"),s("core-js/modules/es.typed-array.slice.js"),s("core-js/modules/es.typed-array.some.js"),s("core-js/modules/es.typed-array.sort.js"),s("core-js/modules/es.typed-array.subarray.js"),s("core-js/modules/es.typed-array.to-locale-string.js"),s("core-js/modules/es.typed-array.to-string.js"),s("core-js/modules/es.map.js"),s("core-js/modules/es.string.iterator.js"),s("core-js/modules/web.dom-collections.iterator.js"),s("core-js/modules/es.parse-float.js"),s("core-js/modules/es.date.to-json.js"),s("core-js/modules/web.url.to-json.js"),s("core-js/modules/es.typed-array.uint8-array.js"),s("core-js/modules/es.array.concat.js"),s("core-js/modules/es.array.sort.js"),s("core-js/modules/es.array.join.js"),s("core-js/modules/es.regexp.constructor.js"),s("core-js/modules/es.regexp.exec.js"),s("core-js/modules/es.string.replace.js"),s("core-js/modules/es.string.match.js"),e=this,t=function(){var e="object"==("undefined"==typeof self?"undefined":Qt(self))&&self.self===self&&self||"object"==("undefined"==typeof Jt?"undefined":Qt(Jt))&&Jt.global===Jt&&Jt||Function("return this")()||{},n=Array.prototype,a=Object.prototype,h="undefined"!=typeof Symbol?Symbol.prototype:null,s=n.push,l=n.slice,f=a.toString,r=a.hasOwnProperty,t="undefined"!=typeof ArrayBuffer,i="undefined"!=typeof DataView,o=Array.isArray,u=Object.keys,c=Object.create,d=t&&ArrayBuffer.isView,p=isNaN,m=isFinite,y=!{toString:null}.propertyIsEnumerable("toString"),g=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],v=Math.pow(2,53)-1;function b(s,i){return i=null==i?s.length-1:+i,function(){for(var e=Math.max(arguments.length-i,0),t=Array(e),r=0;r<e;r++)t[r]=arguments[r+i];switch(i){case 0:return s.call(this,t);case 1:return s.call(this,arguments[0],t);case 2:return s.call(this,arguments[0],arguments[1],t)}var n=Array(i+1);for(r=0;r<i;r++)n[r]=arguments[r];return n[i]=t,s.apply(this,n)}}function _(e){var t=Qt(e);return"function"===t||"object"===t&&!!e}function j(e){return void 0===e}function T(e){return!0===e||!1===e||"[object Boolean]"===f.call(e)}function S(e){var t="[object "+e+"]";return function(e){return f.call(e)===t}}var w=S("String"),E=S("Number"),k=S("Date"),x=S("RegExp"),C=S("Error"),A=S("Symbol"),I=S("ArrayBuffer"),P=S("Function"),L=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":Qt(Int8Array))&&"function"!=typeof L&&(P=function(e){return"function"==typeof e||!1});var O=P,R=S("Object"),D=i&&R(new DataView(new ArrayBuffer(8))),U="undefined"!=typeof Map&&R(new Map),M=S("DataView");var N=D?function(e){return null!=e&&O(e.getInt8)&&I(e.buffer)}:M,B=o||S("Array");function F(e,t){return null!=e&&r.call(e,t)}var H=S("Arguments");!function(){H(arguments)||(H=function(e){return F(e,"callee")})}();var q=H;function V(e){return E(e)&&p(e)}function G(e){return function(){return e}}function z(r){return function(e){var t=r(e);return"number"==typeof t&&0<=t&&t<=v}}function W(t){return function(e){return null==e?void 0:e[t]}}var Y=W("byteLength"),X=z(Y),K=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var $=t?function(e){return d?d(e)&&!N(e):X(e)&&K.test(f.call(e))}:G(!1),Q=W("length");function J(e,t){t=function(t){for(var r={},e=t.length,n=0;n<e;++n)r[t[n]]=!0;return{contains:function(e){return r[e]},push:function(e){return r[e]=!0,t.push(e)}}}(t);var r=g.length,n=e.constructor,s=O(n)&&n.prototype||a,i="constructor";for(F(e,i)&&!t.contains(i)&&t.push(i);r--;)(i=g[r])in e&&e[i]!==s[i]&&!t.contains(i)&&t.push(i)}function Z(e){if(!_(e))return[];if(u)return u(e);var t=[];for(var r in e)F(e,r)&&t.push(r);return y&&J(e,t),t}function ee(e,t){var r=Z(t),n=r.length;if(null==e)return!n;for(var s=Object(e),i=0;i<n;i++){var a=r[i];if(t[a]!==s[a]||!(a in s))return!1}return!0}function te(e){return e instanceof te?e:this instanceof te?void(this._wrapped=e):new te(e)}function re(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Y(e))}te.VERSION="1.13.1",te.prototype.valueOf=te.prototype.toJSON=te.prototype.value=function(){return this._wrapped},te.prototype.toString=function(){return String(this._wrapped)};var ne="[object DataView]";function se(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var s=Qt(e);return("function"===s||"object"===s||"object"==Qt(t))&&function e(t,r,n,s){t instanceof te&&(t=t._wrapped);r instanceof te&&(r=r._wrapped);var i=f.call(t);if(i!==f.call(r))return!1;if(D&&"[object Object]"==i&&N(t)){if(!N(r))return!1;i=ne}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+r;case"[object Number]":return+t!=+t?+r!=+r:0==+t?1/t==1/r:+t==+r;case"[object Date]":case"[object Boolean]":return+t==+r;case"[object Symbol]":return h.valueOf.call(t)===h.valueOf.call(r);case"[object ArrayBuffer]":case ne:return e(re(t),re(r),n,s)}var a="[object Array]"===i;if(!a&&$(t)){var o=Y(t);if(o!==Y(r))return!1;if(t.buffer===r.buffer&&t.byteOffset===r.byteOffset)return!0;a=!0}if(!a){if("object"!=Qt(t)||"object"!=Qt(r))return!1;var l=t.constructor,u=r.constructor;if(l!==u&&!(O(l)&&l instanceof l&&O(u)&&u instanceof u)&&"constructor"in t&&"constructor"in r)return!1}n=n||[];s=s||[];var c=n.length;for(;c--;)if(n[c]===t)return s[c]===r;n.push(t);s.push(r);if(a){if((c=t.length)!==r.length)return!1;for(;c--;)if(!se(t[c],r[c],n,s))return!1}else{var d,p=Z(t);if(c=p.length,Z(r).length!==c)return!1;for(;c--;)if(d=p[c],!F(r,d)||!se(t[d],r[d],n,s))return!1}n.pop();s.pop();return!0}(e,t,r,n)}function ie(e){if(!_(e))return[];var t=[];for(var r in e)t.push(r);return y&&J(e,t),t}function ae(n){var s=Q(n);return function(e){if(null==e)return!1;var t=ie(e);if(Q(t))return!1;for(var r=0;r<s;r++)if(!O(e[n[r]]))return!1;return n!==de||!O(e[oe])}}var oe="forEach",le=["clear","delete"],ue=["get","has","set"],ce=le.concat(oe,ue),de=le.concat(ue),pe=["add"].concat(le,oe,"has"),he=U?ae(ce):S("Map"),fe=U?ae(de):S("WeakMap"),me=U?ae(pe):S("Set"),ye=S("WeakSet");function ge(e){for(var t=Z(e),r=t.length,n=Array(r),s=0;s<r;s++)n[s]=e[t[s]];return n}function ve(e){for(var t={},r=Z(e),n=0,s=r.length;n<s;n++)t[e[r[n]]]=r[n];return t}function be(e){var t=[];for(var r in e)O(e[r])&&t.push(r);return t.sort()}function _e(l,u){return function(e){var t=arguments.length;if(u&&(e=Object(e)),t<2||null==e)return e;for(var r=1;r<t;r++)for(var n=arguments[r],s=l(n),i=s.length,a=0;a<i;a++){var o=s[a];u&&void 0!==e[o]||(e[o]=n[o])}return e}}var je=_e(ie),Te=_e(Z),Se=_e(ie,!0);function we(e){if(!_(e))return{};if(c)return c(e);var t=function(){};t.prototype=e;var r=new t;return t.prototype=null,r}function Ee(e){return _(e)?B(e)?e.slice():je({},e):e}function ke(e){return B(e)?e:[e]}function xe(e){return te.toPath(e)}function Ce(e,t){for(var r=t.length,n=0;n<r;n++){if(null==e)return;e=e[t[n]]}return r?e:void 0}function Ae(e,t,r){var n=Ce(e,xe(t));return j(n)?r:n}function Ie(e){return e}function Pe(t){return t=Te({},t),function(e){return ee(e,t)}}function Le(t){return t=xe(t),function(e){return Ce(e,t)}}function Oe(s,i,e){if(void 0===i)return s;switch(null==e?3:e){case 1:return function(e){return s.call(i,e)};case 3:return function(e,t,r){return s.call(i,e,t,r)};case 4:return function(e,t,r,n){return s.call(i,e,t,r,n)}}return function(){return s.apply(i,arguments)}}function Re(e,t,r){return null==e?Ie:O(e)?Oe(e,t,r):_(e)&&!B(e)?Pe(e):Le(e)}function De(e,t){return Re(e,t,1/0)}function Ue(e,t,r){return te.iteratee!==De?te.iteratee(e,t):Re(e,t,r)}function Me(){}function Ne(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}te.toPath=ke,te.iteratee=De;var Be=Date.now||function(){return(new Date).getTime()};function Fe(t){function r(e){return t[e]}var e="(?:"+Z(t).join("|")+")",n=RegExp(e),s=RegExp(e,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(s,r):e}}var He={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},qe=Fe(He),Ve=Fe(ve(He)),Ge=te.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},ze=/(.)^/,We={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ye=/\\|'|\r|\n|\u2028|\u2029/g;function Xe(e){return"\\"+We[e]}var Ke=/^\s*(\w|\$)+\s*$/;var $e=0;function Qe(e,t,r,n,s){if(!(n instanceof t))return e.apply(r,s);var i=we(e.prototype),a=e.apply(i,s);return _(a)?a:i}var Je=b(function(i,a){var o=Je.placeholder;return function e(){for(var t=0,r=a.length,n=Array(r),s=0;s<r;s++)n[s]=a[s]===o?arguments[t++]:a[s];for(;t<arguments.length;)n.push(arguments[t++]);return Qe(i,e,this,this,n)}});Je.placeholder=te;var Ze=b(function(t,r,n){if(!O(t))throw new TypeError("Bind must be called on a function");var s=b(function(e){return Qe(t,s,r,this,n.concat(e))});return s}),et=z(Q);function tt(e,t,r,n){if(n=n||[],t||0===t){if(t<=0)return n.concat(e)}else t=1/0;for(var s=n.length,i=0,a=Q(e);i<a;i++){var o=e[i];if(et(o)&&(B(o)||q(o)))if(1<t)tt(o,t-1,r,n),s=n.length;else for(var l=0,u=o.length;l<u;)n[s++]=o[l++];else r||(n[s++]=o)}return n}var rt=b(function(e,t){var r=(t=tt(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=Ze(e[n],e)}return e});var nt=b(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),st=Je(nt,te,1);function it(e){return function(){return!e.apply(this,arguments)}}function at(e,t){var r;return function(){return 0<--e&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}var ot=Je(at,2);function lt(e,t,r){t=Ue(t,r);for(var n,s=Z(e),i=0,a=s.length;i<a;i++)if(t(e[n=s[i]],n,e))return n}function ut(i){return function(e,t,r){t=Ue(t,r);for(var n=Q(e),s=0<i?0:n-1;0<=s&&s<n;s+=i)if(t(e[s],s,e))return s;return-1}}var ct=ut(1),dt=ut(-1);function pt(e,t,r,n){for(var s=(r=Ue(r,n,1))(t),i=0,a=Q(e);i<a;){var o=Math.floor((i+a)/2);r(e[o])<s?i=o+1:a=o}return i}function ht(i,a,o){return function(e,t,r){var n=0,s=Q(e);if("number"==typeof r)0<i?n=0<=r?r:Math.max(r+s,n):s=0<=r?Math.min(r+1,s):r+s+1;else if(o&&r&&s)return e[r=o(e,t)]===t?r:-1;if(t!=t)return 0<=(r=a(l.call(e,n,s),V))?r+n:-1;for(r=0<i?n:s-1;0<=r&&r<s;r+=i)if(e[r]===t)return r;return-1}}var ft=ht(1,ct,pt),mt=ht(-1,dt);function yt(e,t,r){var n=(et(e)?ct:lt)(e,t,r);if(void 0!==n&&-1!==n)return e[n]}function gt(e,t,r){var n,s;if(t=Oe(t,r),et(e))for(n=0,s=e.length;n<s;n++)t(e[n],n,e);else{var i=Z(e);for(n=0,s=i.length;n<s;n++)t(e[i[n]],i[n],e)}return e}function vt(e,t,r){t=Ue(t,r);for(var n=!et(e)&&Z(e),s=(n||e).length,i=Array(s),a=0;a<s;a++){var o=n?n[a]:a;i[a]=t(e[o],o,e)}return i}function bt(l){return function(e,t,r,n){var s=3<=arguments.length;return function(e,t,r,n){var s=!et(e)&&Z(e),i=(s||e).length,a=0<l?0:i-1;for(n||(r=e[s?s[a]:a],a+=l);0<=a&&a<i;a+=l){var o=s?s[a]:a;r=t(r,e[o],o,e)}return r}(e,Oe(t,n,4),r,s)}}var _t=bt(1),jt=bt(-1);function Tt(e,n,t){var s=[];return n=Ue(n,t),gt(e,function(e,t,r){n(e,t,r)&&s.push(e)}),s}function St(e,t,r){t=Ue(t,r);for(var n=!et(e)&&Z(e),s=(n||e).length,i=0;i<s;i++){var a=n?n[i]:i;if(!t(e[a],a,e))return!1}return!0}function wt(e,t,r){t=Ue(t,r);for(var n=!et(e)&&Z(e),s=(n||e).length,i=0;i<s;i++){var a=n?n[i]:i;if(t(e[a],a,e))return!0}return!1}function Et(e,t,r,n){return et(e)||(e=ge(e)),"number"==typeof r&&!n||(r=0),0<=ft(e,t,r)}var kt=b(function(e,r,n){var s,i;return O(r)?i=r:(r=xe(r),s=r.slice(0,-1),r=r[r.length-1]),vt(e,function(e){var t=i;if(!t){if(s&&s.length&&(e=Ce(e,s)),null==e)return;t=e[r]}return null==t?t:t.apply(e,n)})});function xt(e,t){return vt(e,Le(t))}function Ct(e,n,t){var r,s,i=-1/0,a=-1/0;if(null==n||"number"==typeof n&&"object"!=Qt(e[0])&&null!=e)for(var o=0,l=(e=et(e)?e:ge(e)).length;o<l;o++)null!=(r=e[o])&&i<r&&(i=r);else n=Ue(n,t),gt(e,function(e,t,r){s=n(e,t,r),(a<s||s===-1/0&&i===-1/0)&&(i=e,a=s)});return i}function At(e,t,r){if(null==t||r)return et(e)||(e=ge(e)),e[Ne(e.length-1)];var n=et(e)?Ee(e):ge(e),s=Q(n);t=Math.max(Math.min(t,s),0);for(var i=s-1,a=0;a<t;a++){var o=Ne(a,i),l=n[a];n[a]=n[o],n[o]=l}return n.slice(0,t)}function It(a,t){return function(n,s,e){var i=t?[[],[]]:{};return s=Ue(s,e),gt(n,function(e,t){var r=s(e,t,n);a(i,e,r)}),i}}var Pt=It(function(e,t,r){F(e,r)?e[r].push(t):e[r]=[t]}),Lt=It(function(e,t,r){e[r]=t}),Ot=It(function(e,t,r){F(e,r)?e[r]++:e[r]=1}),Rt=It(function(e,t,r){e[r?0:1].push(t)},!0),Dt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ut(e,t,r){return t in r}var Mt=b(function(e,t){var r={},n=t[0];if(null==e)return r;O(n)?(1<t.length&&(n=Oe(n,t[1])),t=ie(e)):(n=Ut,t=tt(t,!1,!1),e=Object(e));for(var s=0,i=t.length;s<i;s++){var a=t[s],o=e[a];n(o,a,e)&&(r[a]=o)}return r}),Nt=b(function(e,r){var t,n=r[0];return O(n)?(n=it(n),1<r.length&&(t=r[1])):(r=vt(tt(r,!1,!1),String),n=function(e,t){return!Et(r,t)}),Mt(e,n,t)});function Bt(e,t,r){return l.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))}function Ft(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[0]:Bt(e,e.length-t)}function Ht(e,t,r){return l.call(e,null==t||r?1:t)}var qt=b(function(e,t){return t=tt(t,!0,!0),Tt(e,function(e){return!Et(t,e)})}),Vt=b(function(e,t){return qt(e,t)});function Gt(e,t,r,n){T(t)||(n=r,r=t,t=!1),null!=r&&(r=Ue(r,n));for(var s=[],i=[],a=0,o=Q(e);a<o;a++){var l=e[a],u=r?r(l,a,e):l;t&&!r?(a&&i===u||s.push(l),i=u):r?Et(i,u)||(i.push(u),s.push(l)):Et(s,l)||s.push(l)}return s}var zt=b(function(e){return Gt(tt(e,!0,!0))});function Wt(e){for(var t=e&&Ct(e,Q).length||0,r=Array(t),n=0;n<t;n++)r[n]=xt(e,n);return r}var Yt=b(Wt);function Xt(e,t){return e._chain?te(t).chain():t}function Kt(r){return gt(be(r),function(e){var t=te[e]=r[e];te.prototype[e]=function(){var e=[this._wrapped];return s.apply(e,arguments),Xt(this,t.apply(te,e))}}),te}gt(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var r=n[t];te.prototype[t]=function(){var e=this._wrapped;return null!=e&&(r.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0]),Xt(this,e)}}),gt(["concat","join","slice"],function(e){var t=n[e];te.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Xt(this,e)}});var $t=Kt({__proto__:null,VERSION:"1.13.1",restArguments:b,isObject:_,isNull:function(e){return null===e},isUndefined:j,isBoolean:T,isElement:function(e){return!(!e||1!==e.nodeType)},isString:w,isNumber:E,isDate:k,isRegExp:x,isError:C,isSymbol:A,isArrayBuffer:I,isDataView:N,isArray:B,isFunction:O,isArguments:q,isFinite:function(e){return!A(e)&&m(e)&&!isNaN(parseFloat(e))},isNaN:V,isTypedArray:$,isEmpty:function(e){if(null==e)return!0;var t=Q(e);return"number"==typeof t&&(B(e)||w(e)||q(e))?0===t:0===Q(Z(e))},isMatch:ee,isEqual:function(e,t){return se(e,t)},isMap:he,isWeakMap:fe,isSet:me,isWeakSet:ye,keys:Z,allKeys:ie,values:ge,pairs:function(e){for(var t=Z(e),r=t.length,n=Array(r),s=0;s<r;s++)n[s]=[t[s],e[t[s]]];return n},invert:ve,functions:be,methods:be,extend:je,extendOwn:Te,assign:Te,defaults:Se,create:function(e,t){var r=we(e);return t&&Te(r,t),r},clone:Ee,tap:function(e,t){return t(e),e},get:Ae,has:function(e,t){for(var r=(t=xe(t)).length,n=0;n<r;n++){var s=t[n];if(!F(e,s))return!1;e=e[s]}return!!r},mapObject:function(e,t,r){t=Ue(t,r);for(var n=Z(e),s=n.length,i={},a=0;a<s;a++){var o=n[a];i[o]=t(e[o],o,e)}return i},identity:Ie,constant:G,noop:Me,toPath:ke,property:Le,propertyOf:function(t){return null==t?Me:function(e){return Ae(t,e)}},matcher:Pe,matches:Pe,times:function(e,t,r){var n=Array(Math.max(0,e));t=Oe(t,r,1);for(var s=0;s<e;s++)n[s]=t(s);return n},random:Ne,now:Be,escape:qe,unescape:Ve,templateSettings:Ge,template:function(i,e,t){!e&&t&&(e=t),e=Se({},e,te.templateSettings);var r=RegExp([(e.escape||ze).source,(e.interpolate||ze).source,(e.evaluate||ze).source].join("|")+"|$","g"),a=0,o="__p+='";i.replace(r,function(e,t,r,n,s){return o+=i.slice(a,s).replace(Ye,Xe),a=s+e.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":n&&(o+="';\n"+n+"\n__p+='"),e}),o+="';\n";var n,s=e.variable;if(s){if(!Ke.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=new Function(s,"_",o)}catch(e){throw e.source=o,e}function l(e){return n.call(this,e,te)}return l.source="function("+s+"){\n"+o+"}",l},result:function(e,t,r){var n=(t=xe(t)).length;if(!n)return O(r)?r.call(e):r;for(var s=0;s<n;s++){var i=null==e?void 0:e[t[s]];void 0===i&&(i=r,s=n),e=O(i)?i.call(e):i}return e},uniqueId:function(e){var t=++$e+"";return e?e+t:t},chain:function(e){var t=te(e);return t._chain=!0,t},iteratee:De,partial:Je,bind:Ze,bindAll:rt,memoize:function(n,s){function i(e){var t=i.cache,r=""+(s?s.apply(this,arguments):e);return F(t,r)||(t[r]=n.apply(this,arguments)),t[r]}return i.cache={},i},delay:nt,defer:st,throttle:function(r,n,s){var i,a,o,l,u=0;function c(){u=!1===s.leading?0:Be(),i=null,l=r.apply(a,o),i||(a=o=null)}function e(){var e=Be();u||!1!==s.leading||(u=e);var t=n-(e-u);return a=this,o=arguments,t<=0||n<t?(i&&(clearTimeout(i),i=null),u=e,l=r.apply(a,o),i||(a=o=null)):i||!1===s.trailing||(i=setTimeout(c,t)),l}return s=s||{},e.cancel=function(){clearTimeout(i),u=0,i=a=o=null},e},debounce:function(t,r,n){function s(){var e=Be()-a;e<r?i=setTimeout(s,r-e):(i=null,n||(l=t.apply(u,o)),i||(o=u=null))}var i,a,o,l,u,e=b(function(e){return u=this,o=e,a=Be(),i||(i=setTimeout(s,r),n&&(l=t.apply(u,o))),l});return e.cancel=function(){clearTimeout(i),i=o=u=null},e},wrap:function(e,t){return Je(t,e)},negate:it,compose:function(){var r=arguments,n=r.length-1;return function(){for(var e=n,t=r[n].apply(this,arguments);e--;)t=r[e].call(this,t);return t}},after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},before:at,once:ot,findKey:lt,findIndex:ct,findLastIndex:dt,sortedIndex:pt,indexOf:ft,lastIndexOf:mt,find:yt,detect:yt,findWhere:function(e,t){return yt(e,Pe(t))},each:gt,forEach:gt,map:vt,collect:vt,reduce:_t,foldl:_t,inject:_t,reduceRight:jt,foldr:jt,filter:Tt,select:Tt,reject:function(e,t,r){return Tt(e,it(Ue(t)),r)},every:St,all:St,some:wt,any:wt,contains:Et,includes:Et,include:Et,invoke:kt,pluck:xt,where:function(e,t){return Tt(e,Pe(t))},max:Ct,min:function(e,n,t){var r,s,i=1/0,a=1/0;if(null==n||"number"==typeof n&&"object"!=Qt(e[0])&&null!=e)for(var o=0,l=(e=et(e)?e:ge(e)).length;o<l;o++)null!=(r=e[o])&&r<i&&(i=r);else n=Ue(n,t),gt(e,function(e,t,r){((s=n(e,t,r))<a||s===1/0&&i===1/0)&&(i=e,a=s)});return i},shuffle:function(e){return At(e,1/0)},sample:At,sortBy:function(e,n,t){var s=0;return n=Ue(n,t),xt(vt(e,function(e,t,r){return{value:e,index:s++,criteria:n(e,t,r)}}).sort(function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(n<r||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index}),"value")},groupBy:Pt,indexBy:Lt,countBy:Ot,partition:Rt,toArray:function(e){return e?B(e)?l.call(e):w(e)?e.match(Dt):et(e)?vt(e,Ie):ge(e):[]},size:function(e){return null==e?0:et(e)?e.length:Z(e).length},pick:Mt,omit:Nt,first:Ft,head:Ft,take:Ft,initial:Bt,last:function(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[e.length-1]:Ht(e,Math.max(0,e.length-t))},rest:Ht,tail:Ht,drop:Ht,compact:function(e){return Tt(e,Boolean)},flatten:function(e,t){return tt(e,t,!1)},without:Vt,uniq:Gt,unique:Gt,union:zt,intersection:function(e){for(var t=[],r=arguments.length,n=0,s=Q(e);n<s;n++){var i=e[n];if(!Et(t,i)){var a;for(a=1;a<r&&Et(arguments[a],i);a++);a===r&&t.push(i)}}return t},difference:qt,unzip:Wt,transpose:Wt,zip:Yt,object:function(e,t){for(var r={},n=0,s=Q(e);n<s;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r},range:function(e,t,r){null==t&&(t=e||0,e=0),r=r||(t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),s=Array(n),i=0;i<n;i++,e+=r)s[i]=e;return s},chunk:function(e,t){if(null==t||t<1)return[];for(var r=[],n=0,s=e.length;n<s;)r.push(l.call(e,n,n+=t));return r},mixin:Kt,default:te});return $t._=$t},"object"===("undefined"==typeof a?"undefined":Qt(a))&&"undefined"!=typeof i?i.exports=t():(e="undefined"!=typeof globalThis?globalThis:e||self,r=e._,(n=e._=t()).noConflict=function(){return e._=r,n})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@babel/runtime/helpers/typeof":2,"core-js/modules/es.array-buffer.constructor.js":190,"core-js/modules/es.array-buffer.is-view.js":191,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.join.js":202,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.array.sort.js":210,"core-js/modules/es.data-view.js":212,"core-js/modules/es.date.to-json.js":213,"core-js/modules/es.map.js":215,"core-js/modules/es.object.keys.js":224,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.parse-float.js":227,"core-js/modules/es.regexp.constructor.js":231,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.regexp.to-string.js":234,"core-js/modules/es.string.iterator.js":235,"core-js/modules/es.string.match.js":236,"core-js/modules/es.string.replace.js":238,"core-js/modules/es.symbol.description.js":242,"core-js/modules/es.symbol.js":244,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.int8-array.js":255,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272,"core-js/modules/web.dom-collections.iterator.js":276,"core-js/modules/web.url.to-json.js":280}],21:[function(e,t,r){"use strict";var s=e("@babel/runtime/helpers/typeof"),i=e("underscore"),a=e("../events");t.exports=function(e){var n=e.getComponent("MenuItem");return e.extend(n,{constructor:function(e,t){var r=t.source;if(!i.isObject(r))throw new Error('was not provided a "source" object, but rather: '+s(r));t=i.extend({selectable:!0,label:r.label},t),n.call(this,e,t),this.source=r},handleClick:function(e){n.prototype.handleClick.call(this,e),this.player().trigger(a.QUALITY_REQUESTED,this.source)}})}},{"../events":23,"@babel/runtime/helpers/typeof":2,underscore:20}],22:[function(e,t,r){"use strict";e("core-js/modules/es.array.map.js");var s=e("underscore"),i=e("../events"),a=e("./QualityOption"),o="vjs-quality-changing";t.exports=function(e){var t,n=e.getComponent("MenuButton"),r=a(e);return t=e.extend(n,{constructor:function(r,e){n.call(this,r,e),r.on(i.QUALITY_REQUESTED,function(e,t){this.setSelectedSource(t),r.addClass(o),r.one("loadeddata",function(){r.removeClass(o)})}.bind(this)),r.on(i.PLAYER_SOURCES_CHANGED,function(){this.update()}.bind(this)),r.on(i.QUALITY_SELECTED,function(e,t){this.setSelectedSource(t)}.bind(this)),r.one("ready",function(){this.selectedSrc=r.src(),this.update()}.bind(this)),this.controlText("Open quality selector menu")},setSelectedSource:function(e){var t=e?e.src:void 0;this.selectedSrc!==t&&(this.selectedSrc=t,s.each(this.items,function(e){e.selected(e.source.src===t)}))},createItems:function(){var t=this.player(),e=t.currentSources();return!e||e.length<2?[]:s.map(e,function(e){return new r(t,{source:e,selected:e.src===this.selectedSrc})}.bind(this))},buildWrapperCSSClass:function(){return"vjs-quality-selector "+n.prototype.buildWrapperCSSClass.call(this)}}),e.registerComponent("QualitySelector",t),t}},{"../events":23,"./QualityOption":21,"core-js/modules/es.array.map.js":204,underscore:20}],23:[function(e,t,r){"use strict";t.exports={QUALITY_REQUESTED:"qualityRequested",QUALITY_SELECTED:"qualitySelected",PLAYER_SOURCES_CHANGED:"playerSourcesChanged"}},{}],24:[function(e,t,r){"use strict";var o=e("underscore"),n=e("./events"),s=e("./components/QualitySelector"),i=e("./middleware/SourceInterceptor"),l=e("./util/SafeSeek");t.exports=function(e){e=e||window.videojs,s(e),i(e),e.hook("setup",function(a){a.on(n.QUALITY_REQUESTED,function(e,t){var r=a.currentSources(),n=a.currentTime(),s=a.playbackRate(),i=a.paused();o.each(r,function(e){e.selected=!1}),o.findWhere(r,{src:t.src}).selected=!0,a._qualitySelectorSafeSeek&&a._qualitySelectorSafeSeek.onQualitySelectionChange(),a.src(r),a.ready(function(){a._qualitySelectorSafeSeek&&!a._qualitySelectorSafeSeek.hasFinished()||(a._qualitySelectorSafeSeek=new l(a,n),a.playbackRate(s)),i||a.play()})})})},t.exports.EVENTS=n},{"./components/QualitySelector":22,"./events":23,"./middleware/SourceInterceptor":25,"./util/SafeSeek":26,underscore:20}],25:[function(e,t,r){"use strict";e("core-js/modules/es.array.find.js");var i=e("underscore"),a=e("../events");t.exports=function(e){e.use("*",function(s){return{setSource:function(e,t){var r,n=s.currentSources();s._qualitySelectorSafeSeek&&s._qualitySelectorSafeSeek.onPlayerSourcesChange(),i.isEqual(n,s._qualitySelectorPreviousSources)||(s.trigger(a.PLAYER_SOURCES_CHANGED,n),s._qualitySelectorPreviousSources=n),r=i.find(n,function(e){return!0===e.selected||"true"===e.selected||"selected"===e.selected})||e,s.trigger(a.QUALITY_SELECTED,r),t(null,r)}}})}},{"../events":23,"core-js/modules/es.array.find.js":198,underscore:20}],26:[function(e,t,r){"use strict";var n=e("class.extend");t.exports=n.extend({init:function(e,t){this._player=e,this._seekToTime=t,this._hasFinished=!1,this._keepThisInstanceWhenPlayerSourcesChange=!1,this._seekWhenSafe()},_seekWhenSafe:function(){this._player.readyState()<3?(this._seekFn=this._seek.bind(this),this._player.one("canplay",this._seekFn)):this._seek()},onPlayerSourcesChange:function(){this._keepThisInstanceWhenPlayerSourcesChange?this._keepThisInstanceWhenPlayerSourcesChange=!1:this.cancel()},onQualitySelectionChange:function(){this.hasFinished()||(this._keepThisInstanceWhenPlayerSourcesChange=!0)},_seek:function(){this._player.currentTime(this._seekToTime),this._keepThisInstanceWhenPlayerSourcesChange=!1,this._hasFinished=!0},hasFinished:function(){return this._hasFinished},cancel:function(){this._player.off("canplay",this._seekFn),this._keepThisInstanceWhenPlayerSourcesChange=!1,this._hasFinished=!0}})},{"class.extend":19}],27:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/typeof");e("core-js/modules/es.object.set-prototype-of.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.array.index-of.js"),e("core-js/modules/es.array.splice.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.typed-array.int32-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.uint32-array.js");function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=e("pkcs7"),s=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=null,y=(p.prototype.decrypt=function(e,t,r,n,s,i){var a=this._key[1],o=e^a[0],l=n^a[1],u=r^a[2],c=t^a[3],d=void 0,p=void 0,h=void 0,f=a.length/4-2,m=void 0,y=4,g=this._tables[1],v=g[0],b=g[1],_=g[2],j=g[3],T=g[4];for(m=0;m<f;m++)d=v[o>>>24]^b[l>>16&255]^_[u>>8&255]^j[255&c]^a[y],p=v[l>>>24]^b[u>>16&255]^_[c>>8&255]^j[255&o]^a[y+1],h=v[u>>>24]^b[c>>16&255]^_[o>>8&255]^j[255&l]^a[y+2],c=v[c>>>24]^b[o>>16&255]^_[l>>8&255]^j[255&u]^a[y+3],y+=4,o=d,l=p,u=h;for(m=0;m<4;m++)s[(3&-m)+i]=T[o>>>24]<<24^T[l>>16&255]<<16^T[u>>8&255]<<8^T[255&c]^a[y++],d=o,o=l,l=u,u=c,c=d},p);function p(e){c(this,p),d=d||function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],r=e[1],n=t[4],s=r[4],i=void 0,a=void 0,o=void 0,l=[],u=[],c=void 0,d=void 0,p=void 0,h=void 0,f=void 0;for(i=0;i<256;i++)u[(l[i]=i<<1^283*(i>>7))^i]=i;for(a=o=0;!n[a];a^=c||1,o=u[o]||1)for(p=(p=o^o<<1^o<<2^o<<3^o<<4)>>8^255&p^99,f=16843009*l[d=l[c=l[s[n[a]=p]=a]]]^65537*d^257*c^16843008*a,h=257*l[p]^16843008*p,i=0;i<4;i++)t[i][a]=h=h<<24^h>>>8,r[i][p]=f=f<<24^f>>>8;for(i=0;i<5;i++)t[i]=t[i].slice(0),r[i]=r[i].slice(0);return e}(),this._tables=[[d[0][0].slice(),d[0][1].slice(),d[0][2].slice(),d[0][3].slice(),d[0][4].slice()],[d[1][0].slice(),d[1][1].slice(),d[1][2].slice(),d[1][3].slice(),d[1][4].slice()]];var t=void 0,r=void 0,n=void 0,s=void 0,i=void 0,a=this._tables[0][4],o=this._tables[1],l=e.length,u=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(s=e.slice(0),i=[],this._key=[s,i],t=l;t<4*l+28;t++)n=s[t-1],(t%l==0||8===l&&t%l==4)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],t%l==0&&(n=n<<8^n>>>24^u<<24,u=u<<1^283*(u>>7))),s[t]=s[t-l]^n;for(r=0;t;r++,t--)n=s[3&r?t:t-4],i[r]=t<=4||r<4?n:o[0][a[n>>>24]]^o[1][a[n>>16&255]]^o[2][a[n>>8&255]]^o[3][a[255&n]]}var a=(o.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},o.prototype.off=function(e,t){if(!this.listeners[e])return!1;var r=this.listeners[e].indexOf(t);return this.listeners[e].splice(r,1),-1<r},o.prototype.trigger=function(e,t){var r=this.listeners[e];if(r)if(2===arguments.length)for(var n=r.length,s=0;s<n;++s)r[s].call(this,t);else for(var i=Array.prototype.slice.call(arguments,1),a=r.length,o=0;o<a;++o)r[o].apply(this,i)},o.prototype.dispose=function(){this.listeners={}},o.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},o);function o(){c(this,o),this.listeners={}}var u,h=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+n(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,u=a),f.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},f.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},f);function f(){c(this,f);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==n(t)&&"function"!=typeof t?e:t}(this,u.call(this,a));return e.jobs=[],e.delay=1,e.timeout_=null,e}function g(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}function m(e,t,r){var n=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),s=new y(Array.prototype.slice.call(t)),i=new Uint8Array(e.byteLength),a=new Int32Array(i.buffer),o=void 0,l=void 0,u=void 0,c=void 0,d=void 0,p=void 0,h=void 0,f=void 0,m=void 0;for(o=r[0],l=r[1],u=r[2],c=r[3],m=0;m<n.length;m+=4)d=g(n[m]),p=g(n[m+1]),h=g(n[m+2]),f=g(n[m+3]),s.decrypt(d,p,h,f,a,m),a[m]=g(a[m]^o),a[m+1]=g(a[m+1]^l),a[m+2]=g(a[m+2]^u),a[m+3]=g(a[m+3]^c),o=d,l=p,u=h,c=f;return i}var v=(b.prototype.decryptChunk_=function(t,r,n,s){return function(){var e=m(t,r,n);s.set(e,t.byteOffset)}},s(b,null,[{key:"STEP",get:function(){return 32e3}}]),b);function b(e,t,r,n){c(this,b);var s=b.STEP,i=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),o=0;for(this.asyncStream_=new h,this.asyncStream_.push(this.decryptChunk_(i.subarray(o,o+s),t,r,a)),o=s;o<i.length;o+=s)r=new Uint32Array([g(i[o-4]),g(i[o-3]),g(i[o-2]),g(i[o-1])]),this.asyncStream_.push(this.decryptChunk_(i.subarray(o,o+s),t,r,a));this.asyncStream_.push(function(){n(null,l.unpad(a))})}r.decrypt=m,r.Decrypter=v,r.AsyncStream=h},{"@babel/runtime/helpers/typeof":2,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.index-of.js":200,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.array.splice.js":211,"core-js/modules/es.object.set-prototype-of.js":225,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.int32-array.js":254,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint32-array.js":271,"core-js/modules/es.typed-array.uint8-array.js":272,pkcs7:313}],28:[function(e,t,r){},{}],29:[function(e,t,r){e("core-js/modules/es.array.concat.js");var n,s,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{s="function"==typeof clearTimeout?clearTimeout:o}catch(e){s=o}}();var u,c=[],d=!1,p=-1;function h(){d&&u&&(d=!1,u.length?c=u.concat(c):p=-1,c.length&&f())}function f(){if(!d){var e=l(h);d=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,d=!1,function(t){if(s===clearTimeout)return clearTimeout(t);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||d||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{"core-js/modules/es.array.concat.js":193}],30:[function(e,t,r){!function(){var o=!1,l=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(e,t){null==t&&(t=e,e="Class");var s=this.prototype;o=!0;var r=new this;for(var n in o=!1,t)r[n]="function"==typeof t[n]&&"function"==typeof s[n]&&l.test(t[n])?function(r,n){return function(){var e=this._super;this._super=s[r];var t=n.apply(this,arguments);return this._super=e,t}}(n,t[n]):t[n];function i(){!o&&this.init&&this.init.apply(this,arguments)}i.prototype=r;var a=new Function("return function "+e+"(){ }")();return i.prototype.constructor=a,i.extend=arguments.callee,i},t.exports=Class}()},{}],31:[function(e,t,r){e("../../modules/es.object.assign");var n=e("../../internals/path");t.exports=n.Object.assign},{"../../internals/path":141,"../../modules/es.object.assign":219}],32:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},{}],33:[function(e,t,r){var n=e("../internals/is-object");t.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},{"../internals/is-object":109}],34:[function(e,t,r){var n=e("../internals/well-known-symbol"),s=e("../internals/object-create"),i=e("../internals/object-define-property"),a=n("unscopables"),o=Array.prototype;null==o[a]&&i.f(o,a,{configurable:!0,value:s(null)}),t.exports=function(e){o[a][e]=!0}},{"../internals/object-create":126,"../internals/object-define-property":128,"../internals/well-known-symbol":188}],35:[function(e,t,r){"use strict";var n=e("../internals/string-multibyte").charAt;t.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},{"../internals/string-multibyte":161}],36:[function(e,t,r){t.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},{}],37:[function(e,t,r){var n=e("../internals/is-object");t.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},{"../internals/is-object":109}],38:[function(e,t,r){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],39:[function(e,t,r){"use strict";function n(e){if(!c(e))return!1;var t=p(e);return d(O,t)||d(R,t)}var s,i,a,o=e("../internals/array-buffer-native"),l=e("../internals/descriptors"),u=e("../internals/global"),c=e("../internals/is-object"),d=e("../internals/has"),p=e("../internals/classof"),h=e("../internals/create-non-enumerable-property"),f=e("../internals/redefine"),m=e("../internals/object-define-property").f,y=e("../internals/object-get-prototype-of"),g=e("../internals/object-set-prototype-of"),v=e("../internals/well-known-symbol"),b=e("../internals/uid"),_=u.Int8Array,j=_&&_.prototype,T=u.Uint8ClampedArray,S=T&&T.prototype,w=_&&y(_),E=j&&y(j),k=Object.prototype,x=k.isPrototypeOf,C=v("toStringTag"),A=b("TYPED_ARRAY_TAG"),I=b("TYPED_ARRAY_CONSTRUCTOR"),P=o&&!!g&&"Opera"!==p(u.opera),L=!1,O={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},R={BigInt64Array:8,BigUint64Array:8};for(s in O)(a=(i=u[s])&&i.prototype)?h(a,I,i):P=!1;for(s in R)(a=(i=u[s])&&i.prototype)&&h(a,I,i);if((!P||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},P))for(s in O)u[s]&&g(u[s],w);if((!P||!E||E===k)&&(E=w.prototype,P))for(s in O)u[s]&&g(u[s].prototype,E);if(P&&y(S)!==E&&g(S,E),l&&!d(E,C))for(s in L=!0,m(E,C,{get:function(){return c(this)?this[A]:void 0}}),O)u[s]&&h(u[s],A,s);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_CONSTRUCTOR:I,TYPED_ARRAY_TAG:L&&A,aTypedArray:function(e){if(n(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(g&&!x.call(w,e))throw TypeError("Target is not a typed array constructor");return e},exportTypedArrayMethod:function(e,t,r){if(l){if(r)for(var n in O){var s=u[n];if(s&&d(s.prototype,e))try{delete s.prototype[e]}catch(e){}}E[e]&&!r||f(E,e,r?t:P&&j[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var n,s;if(l){if(g){if(r)for(n in O)if((s=u[n])&&d(s,e))try{delete s[e]}catch(e){}if(w[e]&&!r)return;try{return f(w,e,r?t:P&&w[e]||t)}catch(e){}}for(n in O)!(s=u[n])||s[e]&&!r||f(s,e,t)}},isView:function(e){if(!c(e))return!1;var t=p(e);return"DataView"===t||d(O,t)||d(R,t)},isTypedArray:n,TypedArray:w,TypedArrayPrototype:E}},{"../internals/array-buffer-native":38,"../internals/classof":58,"../internals/create-non-enumerable-property":65,"../internals/descriptors":70,"../internals/global":93,"../internals/has":94,"../internals/is-object":109,"../internals/object-define-property":128,"../internals/object-get-prototype-of":133,"../internals/object-set-prototype-of":137,"../internals/redefine":145,"../internals/uid":185,"../internals/well-known-symbol":188}],40:[function(e,t,r){"use strict";function n(e){return[255&e]}function s(e){return[255&e,e>>8&255]}function i(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function a(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function o(e){return q(e,23,4)}function l(e){return q(e,52,8)}function u(e,t){k(e[R],t,{get:function(){return I(this)[t]}})}function c(e,t,r,n){var s=j(r),i=I(e);if(s+t>i.byteLength)throw H(D);var a=I(i.buffer).bytes,o=s+i.byteOffset,l=a.slice(o,o+t);return n?l:l.reverse()}function d(e,t,r,n,s,i){var a=j(r),o=I(e);if(a+t>o.byteLength)throw H(D);for(var l=I(o.buffer).bytes,u=a+o.byteOffset,c=n(+s),d=0;d<t;d++)l[u+d]=c[i?d:t-d-1]}var p=e("../internals/global"),h=e("../internals/descriptors"),f=e("../internals/array-buffer-native"),m=e("../internals/create-non-enumerable-property"),y=e("../internals/redefine-all"),g=e("../internals/fails"),v=e("../internals/an-instance"),b=e("../internals/to-integer"),_=e("../internals/to-length"),j=e("../internals/to-index"),T=e("../internals/ieee754"),S=e("../internals/object-get-prototype-of"),w=e("../internals/object-set-prototype-of"),E=e("../internals/object-get-own-property-names").f,k=e("../internals/object-define-property").f,x=e("../internals/array-fill"),C=e("../internals/set-to-string-tag"),A=e("../internals/internal-state"),I=A.get,P=A.set,L="ArrayBuffer",O="DataView",R="prototype",D="Wrong index",U=p[L],M=U,N=p[O],B=N&&N[R],F=Object.prototype,H=p.RangeError,q=T.pack,V=T.unpack;if(f){if(!g(function(){U(1)})||!g(function(){new U(-1)})||g(function(){return new U,new U(1.5),new U(NaN),U.name!=L})){for(var G,z=(M=function(e){return v(this,M),new U(j(e))})[R]=U[R],W=E(U),Y=0;W.length>Y;)(G=W[Y++])in M||m(M,G,U[G]);z.constructor=M}w&&S(B)!==F&&w(B,F);var X=new N(new M(2)),K=B.setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||y(B,{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},{unsafe:!0})}else M=function(e){v(this,M,L);var t=j(e);P(this,{bytes:x.call(new Array(t),0),byteLength:t}),h||(this.byteLength=t)},N=function(e,t,r){v(this,N,O),v(e,M,O);var n=I(e).byteLength,s=b(t);if(s<0||n<s)throw H("Wrong offset");if(n<s+(r=void 0===r?n-s:_(r)))throw H("Wrong length");P(this,{buffer:e,byteLength:r,byteOffset:s}),h||(this.buffer=e,this.byteLength=r,this.byteOffset=s)},h&&(u(M,"byteLength"),u(N,"buffer"),u(N,"byteLength"),u(N,"byteOffset")),y(N[R],{getInt8:function(e){return c(this,1,e)[0]<<24>>24},getUint8:function(e){return c(this,1,e)[0]},getInt16:function(e,t){var r=c(this,2,e,1<arguments.length?t:void 0);return(r[1]<<8|r[0])<<16>>16},getUint16:function(e,t){var r=c(this,2,e,1<arguments.length?t:void 0);return r[1]<<8|r[0]},getInt32:function(e,t){return a(c(this,4,e,1<arguments.length?t:void 0))},getUint32:function(e,t){return a(c(this,4,e,1<arguments.length?t:void 0))>>>0},getFloat32:function(e,t){return V(c(this,4,e,1<arguments.length?t:void 0),23)},getFloat64:function(e,t){return V(c(this,8,e,1<arguments.length?t:void 0),52)},setInt8:function(e,t){d(this,1,e,n,t)},setUint8:function(e,t){d(this,1,e,n,t)},setInt16:function(e,t,r){d(this,2,e,s,t,2<arguments.length?r:void 0)},setUint16:function(e,t,r){d(this,2,e,s,t,2<arguments.length?r:void 0)},setInt32:function(e,t,r){d(this,4,e,i,t,2<arguments.length?r:void 0)},setUint32:function(e,t,r){d(this,4,e,i,t,2<arguments.length?r:void 0)},setFloat32:function(e,t,r){d(this,4,e,o,t,2<arguments.length?r:void 0)},setFloat64:function(e,t,r){d(this,8,e,l,t,2<arguments.length?r:void 0)}});C(M,L),C(N,O),t.exports={ArrayBuffer:M,DataView:N}},{"../internals/an-instance":36,"../internals/array-buffer-native":38,"../internals/array-fill":42,"../internals/create-non-enumerable-property":65,"../internals/descriptors":70,"../internals/fails":85,"../internals/global":93,"../internals/ieee754":99,"../internals/internal-state":104,"../internals/object-define-property":128,"../internals/object-get-own-property-names":131,"../internals/object-get-prototype-of":133,"../internals/object-set-prototype-of":137,"../internals/redefine-all":144,"../internals/set-to-string-tag":156,"../internals/to-index":169,"../internals/to-integer":171,"../internals/to-length":172}],41:[function(e,t,r){"use strict";var c=e("../internals/to-object"),d=e("../internals/to-absolute-index"),p=e("../internals/to-length"),h=Math.min;t.exports=[].copyWithin||function(e,t,r){var n=c(this),s=p(n.length),i=d(e,s),a=d(t,s),o=2<arguments.length?r:void 0,l=h((void 0===o?s:d(o,s))-a,s-i),u=1;for(a<i&&i<a+l&&(u=-1,a+=l-1,i+=l-1);0<l--;)a in n?n[i]=n[a]:delete n[i],i+=u,a+=u;return n}},{"../internals/to-absolute-index":168,"../internals/to-length":172,"../internals/to-object":173}],42:[function(e,t,r){"use strict";var u=e("../internals/to-object"),c=e("../internals/to-absolute-index"),d=e("../internals/to-length");t.exports=function(e,t,r){for(var n=u(this),s=d(n.length),i=arguments.length,a=c(1<i?t:void 0,s),o=2<i?r:void 0,l=void 0===o?s:c(o,s);a<l;)n[a++]=e;return n}},{"../internals/to-absolute-index":168,"../internals/to-length":172,"../internals/to-object":173}],43:[function(e,t,r){"use strict";var n=e("../internals/array-iteration").forEach,s=e("../internals/array-method-is-strict")("forEach");t.exports=s?[].forEach:function(e,t){return n(this,e,1<arguments.length?t:void 0)}},{"../internals/array-iteration":47,"../internals/array-method-is-strict":50}],44:[function(e,t,r){t.exports=function(e,t){for(var r=0,n=t.length,s=new e(n);r<n;)s[r]=t[r++];return s}},{}],45:[function(e,t,r){"use strict";var y=e("../internals/function-bind-context"),g=e("../internals/to-object"),v=e("../internals/call-with-safe-iteration-closing"),b=e("../internals/is-array-iterator-method"),_=e("../internals/to-length"),j=e("../internals/create-property"),T=e("../internals/get-iterator-method");t.exports=function(e,t,r){var n,s,i,a,o,l,u=g(e),c="function"==typeof this?this:Array,d=arguments.length,p=1<d?t:void 0,h=void 0!==p,f=T(u),m=0;if(h&&(p=y(p,2<d?r:void 0,2)),null==f||c==Array&&b(f))for(s=new c(n=_(u.length));m<n;m++)l=h?p(u[m],m):u[m],j(s,m,l);else for(o=(a=f.call(u)).next,s=new c;!(i=o.call(a)).done;m++)l=h?v(a,p,[i.value,m],!0):i.value,j(s,m,l);return s.length=m,s}},{"../internals/call-with-safe-iteration-closing":55,"../internals/create-property":67,"../internals/function-bind-context":88,"../internals/get-iterator-method":90,"../internals/is-array-iterator-method":105,"../internals/to-length":172,"../internals/to-object":173}],46:[function(e,t,r){function n(o){return function(e,t,r){var n,s=l(e),i=u(s.length),a=c(r,i);if(o&&t!=t){for(;a<i;)if((n=s[a++])!=n)return!0}else for(;a<i;a++)if((o||a in s)&&s[a]===t)return o||a||0;return!o&&-1}}var l=e("../internals/to-indexed-object"),u=e("../internals/to-length"),c=e("../internals/to-absolute-index");t.exports={includes:n(!0),indexOf:n(!1)}},{"../internals/to-absolute-index":168,"../internals/to-indexed-object":170,"../internals/to-length":172}],47:[function(e,t,r){function n(h){var f=1==h,m=2==h,y=3==h,g=4==h,v=6==h,b=7==h,_=5==h||v;return function(e,t,r,n){for(var s,i,a=S(e),o=T(a),l=j(t,r,3),u=w(o.length),c=0,d=n||E,p=f?d(e,u):m||b?d(e,0):void 0;c<u;c++)if((_||c in o)&&(i=l(s=o[c],c,a),h))if(f)p[c]=i;else if(i)switch(h){case 3:return!0;case 5:return s;case 6:return c;case 2:k.call(p,s)}else switch(h){case 4:return!1;case 7:k.call(p,s)}return v?-1:y||g?g:p}}var j=e("../internals/function-bind-context"),T=e("../internals/indexed-object"),S=e("../internals/to-object"),w=e("../internals/to-length"),E=e("../internals/array-species-create"),k=[].push;t.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6),filterReject:n(7)}},{"../internals/array-species-create":54,"../internals/function-bind-context":88,"../internals/indexed-object":100,"../internals/to-length":172,"../internals/to-object":173}],48:[function(e,t,r){"use strict";var i=e("../internals/to-indexed-object"),a=e("../internals/to-integer"),o=e("../internals/to-length"),n=e("../internals/array-method-is-strict"),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,s=n("lastIndexOf"),d=c||!s;t.exports=d?function(e,t){if(c)return u.apply(this,arguments)||0;var r=i(this),n=o(r.length),s=n-1;for(1<arguments.length&&(s=l(s,a(t))),s<0&&(s=n+s);0<=s;s--)if(s in r&&r[s]===e)return s||0;return-1}:u},{"../internals/array-method-is-strict":50,"../internals/to-indexed-object":170,"../internals/to-integer":171,"../internals/to-length":172}],49:[function(e,t,r){var n=e("../internals/fails"),s=e("../internals/well-known-symbol"),i=e("../internals/engine-v8-version"),a=s("species");t.exports=function(t){return 51<=i||!n(function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},{"../internals/engine-v8-version":81,"../internals/fails":85,"../internals/well-known-symbol":188}],50:[function(e,t,r){"use strict";var n=e("../internals/fails");t.exports=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){throw 1},1)})}},{"../internals/fails":85}],51:[function(e,t,r){function n(u){return function(e,t,r,n){c(t);var s=d(e),i=p(s),a=h(s.length),o=u?a-1:0,l=u?-1:1;if(r<2)for(;;){if(o in i){n=i[o],o+=l;break}if(o+=l,u?o<0:a<=o)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=o:o<a;o+=l)o in i&&(n=t(n,i[o],o,s));return n}}var c=e("../internals/a-function"),d=e("../internals/to-object"),p=e("../internals/indexed-object"),h=e("../internals/to-length");t.exports={left:n(!1),right:n(!0)}},{"../internals/a-function":32,"../internals/indexed-object":100,"../internals/to-length":172,"../internals/to-object":173}],52:[function(e,t,r){var s=Math.floor,i=function(e,t){var r=e.length,n=s(r/2);return r<8?a(e,t):o(i(e.slice(0,n),t),i(e.slice(n),t),t)},a=function(e,t){for(var r,n,s=e.length,i=1;i<s;){for(r=e[n=i];n&&0<t(e[n-1],r);)e[n]=e[--n];n!==i++&&(e[n]=r)}return e},o=function(e,t,r){for(var n=e.length,s=t.length,i=0,a=0,o=[];i<n||a<s;)i<n&&a<s?o.push(r(e[i],t[a])<=0?e[i++]:t[a++]):o.push(i<n?e[i++]:t[a++]);return o};t.exports=i},{}],53:[function(e,t,r){var n=e("../internals/is-object"),s=e("../internals/is-array"),i=e("../internals/well-known-symbol")("species");t.exports=function(e){var t;return s(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!s(t.prototype)?n(t)&&null===(t=t[i])&&(t=void 0):t=void 0),void 0===t?Array:t}},{"../internals/is-array":106,"../internals/is-object":109,"../internals/well-known-symbol":188}],54:[function(e,t,r){var n=e("../internals/array-species-constructor");t.exports=function(e,t){return new(n(e))(0===t?0:t)}},{"../internals/array-species-constructor":53}],55:[function(e,t,r){var s=e("../internals/an-object"),i=e("../internals/iterator-close");t.exports=function(t,e,r,n){try{return n?e(s(r)[0],r[1]):e(r)}catch(e){throw i(t),e}}},{"../internals/an-object":37,"../internals/iterator-close":114}],56:[function(e,t,r){var s=e("../internals/well-known-symbol")("iterator"),i=!1;try{var n=0,a={next:function(){return{done:!!n++}},return:function(){i=!0}};a[s]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var n={};n[s]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r}},{"../internals/well-known-symbol":188}],57:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],58:[function(e,t,r){var n=e("../internals/to-string-tag-support"),s=e("../internals/classof-raw"),i=e("../internals/well-known-symbol")("toStringTag"),a="Arguments"==s(function(){return arguments}());t.exports=n?s:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?s(t):"Object"==(n=s(t))&&"function"==typeof t.callee?"Arguments":n}},{"../internals/classof-raw":57,"../internals/to-string-tag-support":178,"../internals/well-known-symbol":188}],59:[function(e,t,r){"use strict";var u=e("../internals/object-define-property").f,c=e("../internals/object-create"),d=e("../internals/redefine-all"),p=e("../internals/function-bind-context"),h=e("../internals/an-instance"),f=e("../internals/iterate"),a=e("../internals/define-iterator"),o=e("../internals/set-species"),m=e("../internals/descriptors"),y=e("../internals/internal-metadata").fastKey,n=e("../internals/internal-state"),g=n.set,v=n.getterFor;t.exports={getConstructor:function(e,r,n,s){function i(e,t,r){var n,s,i=o(e),a=l(e,t);return a?a.value=r:(i.last=a={index:s=y(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=a),n&&(n.next=a),m?i.size++:e.size++,"F"!==s&&(i.index[s]=a)),e}var a=e(function(e,t){h(e,a,r),g(e,{type:r,index:c(null),first:void 0,last:void 0,size:0}),m||(e.size=0),null!=t&&f(t,e[s],{that:e,AS_ENTRIES:n})}),o=v(r),l=function(e,t){var r,n=o(e),s=y(t);if("F"!==s)return n.index[s];for(r=n.first;r;r=r.next)if(r.key==t)return r};return d(a.prototype,{clear:function(){for(var e=o(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,m?e.size=0:this.size=0},delete:function(e){var t=o(this),r=l(this,e);if(r){var n=r.next,s=r.previous;delete t.index[r.index],r.removed=!0,s&&(s.next=n),n&&(n.previous=s),t.first==r&&(t.first=n),t.last==r&&(t.last=s),m?t.size--:this.size--}return!!r},forEach:function(e,t){for(var r,n=o(this),s=p(e,1<arguments.length?t:void 0,3);r=r?r.next:n.first;)for(s(r.value,r.key,this);r&&r.removed;)r=r.previous},has:function(e){return!!l(this,e)}}),d(a.prototype,n?{get:function(e){var t=l(this,e);return t&&t.value},set:function(e,t){return i(this,0===e?0:e,t)}}:{add:function(e){return i(this,e=0===e?0:e,e)}}),m&&u(a.prototype,"size",{get:function(){return o(this).size}}),a},setStrong:function(e,t,r){var n=t+" Iterator",s=v(t),i=v(n);a(e,t,function(e,t){g(this,{type:n,target:e,state:s(e),kind:t,last:void 0})},function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:{value:e.target=void 0,done:!0}},r?"entries":"values",!r,!0),o(t)}}},{"../internals/an-instance":36,"../internals/define-iterator":68,"../internals/descriptors":70,"../internals/function-bind-context":88,"../internals/internal-metadata":103,"../internals/internal-state":104,"../internals/iterate":113,"../internals/object-create":126,"../internals/object-define-property":128,"../internals/redefine-all":144,"../internals/set-species":155}],60:[function(e,t,r){"use strict";function l(e){return e.frozen||(e.frozen=new b)}function n(e,t){return a(e.entries,function(e){return e[0]===t})}var u=e("../internals/redefine-all"),c=e("../internals/internal-metadata").getWeakData,d=e("../internals/an-object"),p=e("../internals/is-object"),h=e("../internals/an-instance"),f=e("../internals/iterate"),s=e("../internals/array-iteration"),m=e("../internals/has"),i=e("../internals/internal-state"),y=i.set,g=i.getterFor,a=s.find,o=s.findIndex,v=0,b=function(){this.entries=[]};b.prototype={get:function(e){var t=n(this,e);if(t)return t[1]},has:function(e){return!!n(this,e)},set:function(e,t){var r=n(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(t){var e=o(this.entries,function(e){return e[0]===t});return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(e,r,n,s){function i(e,t,r){var n=o(e),s=c(d(t),!0);return!0===s?l(n).set(t,r):s[n.id]=r,e}var a=e(function(e,t){h(e,a,r),y(e,{type:r,id:v++,frozen:void 0}),null!=t&&f(t,e[s],{that:e,AS_ENTRIES:n})}),o=g(r);return u(a.prototype,{delete:function(e){var t=o(this);if(!p(e))return!1;var r=c(e);return!0===r?l(t).delete(e):r&&m(r,t.id)&&delete r[t.id]},has:function(e){var t=o(this);if(!p(e))return!1;var r=c(e);return!0===r?l(t).has(e):r&&m(r,t.id)}}),u(a.prototype,n?{get:function(e){var t=o(this);if(p(e)){var r=c(e);return!0===r?l(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return i(this,e,t)}}:{add:function(e){return i(this,e,!0)}}),a}}},{"../internals/an-instance":36,"../internals/an-object":37,"../internals/array-iteration":47,"../internals/has":94,"../internals/internal-metadata":103,"../internals/internal-state":104,"../internals/is-object":109,"../internals/iterate":113,"../internals/redefine-all":144}],61:[function(e,t,r){"use strict";var y=e("../internals/export"),g=e("../internals/global"),v=e("../internals/is-forced"),b=e("../internals/redefine"),_=e("../internals/internal-metadata"),j=e("../internals/iterate"),T=e("../internals/an-instance"),S=e("../internals/is-object"),w=e("../internals/fails"),E=e("../internals/check-correctness-of-iteration"),k=e("../internals/set-to-string-tag"),x=e("../internals/inherit-if-required");t.exports=function(n,e,t){function r(e){var r=l[e];b(l,e,"add"==e?function(e){return r.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!S(e))&&r.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!S(e)?void 0:r.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!S(e))&&r.call(this,0===e?0:e)}:function(e,t){return r.call(this,0===e?0:e,t),this})}var s=-1!==n.indexOf("Map"),i=-1!==n.indexOf("Weak"),a=s?"set":"add",o=g[n],l=o&&o.prototype,u=o,c={};if(v(n,"function"!=typeof o||!(i||l.forEach&&!w(function(){(new o).entries().next()}))))u=t.getConstructor(e,n,s,a),_.enable();else if(v(n,!0)){var d=new u,p=d[a](i?{}:-0,1)!=d,h=w(function(){d.has(1)}),f=E(function(e){new o(e)}),m=!i&&w(function(){for(var e=new o,t=5;t--;)e[a](t,t);return!e.has(-0)});f||(((u=e(function(e,t){T(e,u,n);var r=x(new o,e,u);return null!=t&&j(t,r[a],{that:r,AS_ENTRIES:s}),r})).prototype=l).constructor=u),(h||m)&&(r("delete"),r("has"),s&&r("get")),(m||p)&&r(a),i&&l.clear&&delete l.clear}return c[n]=u,y({global:!0,forced:u!=o},c),k(u,n),i||t.setStrong(u,n,s),u}},{"../internals/an-instance":36,"../internals/check-correctness-of-iteration":56,"../internals/export":84,"../internals/fails":85,"../internals/global":93,"../internals/inherit-if-required":101,"../internals/internal-metadata":103,"../internals/is-forced":107,"../internals/is-object":109,"../internals/iterate":113,"../internals/redefine":145,"../internals/set-to-string-tag":156}],62:[function(e,t,r){var o=e("../internals/has"),l=e("../internals/own-keys"),u=e("../internals/object-get-own-property-descriptor"),c=e("../internals/object-define-property");t.exports=function(e,t){for(var r=l(t),n=c.f,s=u.f,i=0;i<r.length;i++){var a=r[i];o(e,a)||n(e,a,s(t,a))}}},{"../internals/has":94,"../internals/object-define-property":128,"../internals/object-get-own-property-descriptor":129,"../internals/own-keys":140}],63:[function(e,t,r){var n=e("../internals/fails");t.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},{"../internals/fails":85}],64:[function(e,t,r){"use strict";function s(){return this}var i=e("../internals/iterators-core").IteratorPrototype,a=e("../internals/object-create"),o=e("../internals/create-property-descriptor"),l=e("../internals/set-to-string-tag"),u=e("../internals/iterators");t.exports=function(e,t,r){var n=t+" Iterator";return e.prototype=a(i,{next:o(1,r)}),l(e,n,!1,!0),u[n]=s,e}},{"../internals/create-property-descriptor":66,"../internals/iterators":116,"../internals/iterators-core":115,"../internals/object-create":126,"../internals/set-to-string-tag":156}],65:[function(e,t,r){var n=e("../internals/descriptors"),s=e("../internals/object-define-property"),i=e("../internals/create-property-descriptor");t.exports=n?function(e,t,r){return s.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},{"../internals/create-property-descriptor":66,"../internals/descriptors":70,"../internals/object-define-property":128}],66:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],67:[function(e,t,r){"use strict";var s=e("../internals/to-property-key"),i=e("../internals/object-define-property"),a=e("../internals/create-property-descriptor");t.exports=function(e,t,r){var n=s(t);n in e?i.f(e,n,a(0,r)):e[n]=r}},{"../internals/create-property-descriptor":66,"../internals/object-define-property":128,"../internals/to-property-key":177}],68:[function(e,t,r){"use strict";function g(){return this}var v=e("../internals/export"),b=e("../internals/create-iterator-constructor"),_=e("../internals/object-get-prototype-of"),j=e("../internals/object-set-prototype-of"),T=e("../internals/set-to-string-tag"),S=e("../internals/create-non-enumerable-property"),w=e("../internals/redefine"),n=e("../internals/well-known-symbol"),E=e("../internals/is-pure"),k=e("../internals/iterators"),s=e("../internals/iterators-core"),x=s.IteratorPrototype,C=s.BUGGY_SAFARI_ITERATORS,A=n("iterator"),I="values";t.exports=function(e,t,r,n,s,i,a){b(r,t,n);function o(e){if(e===s&&m)return m;if(!C&&e in h)return h[e];switch(e){case"keys":case I:case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}}var l,u,c,d=t+" Iterator",p=!1,h=e.prototype,f=h[A]||h["@@iterator"]||s&&h[s],m=!C&&f||o(s),y="Array"==t&&h.entries||f;if(y&&(l=_(y.call(new e)),x!==Object.prototype&&l.next&&(E||_(l)===x||(j?j(l,x):"function"!=typeof l[A]&&S(l,A,g)),T(l,d,!0,!0),E&&(k[d]=g))),s==I&&f&&f.name!==I&&(p=!0,m=function(){return f.call(this)}),E&&!a||h[A]===m||S(h,A,m),k[t]=m,s)if(u={values:o(I),keys:i?m:o("keys"),entries:o("entries")},a)for(c in u)!C&&!p&&c in h||w(h,c,u[c]);else v({target:t,proto:!0,forced:C||p},u);return u}},{"../internals/create-iterator-constructor":64,"../internals/create-non-enumerable-property":65,"../internals/export":84,"../internals/is-pure":110,"../internals/iterators":116,"../internals/iterators-core":115,"../internals/object-get-prototype-of":133,"../internals/object-set-prototype-of":137,"../internals/redefine":145,"../internals/set-to-string-tag":156,"../internals/well-known-symbol":188}],69:[function(e,t,r){var n=e("../internals/path"),s=e("../internals/has"),i=e("../internals/well-known-symbol-wrapped"),a=e("../internals/object-define-property").f;t.exports=function(e){var t=n.Symbol||(n.Symbol={});s(t,e)||a(t,e,{value:i.f(e)})}},{"../internals/has":94,"../internals/object-define-property":128,"../internals/path":141,"../internals/well-known-symbol-wrapped":187}],70:[function(e,t,r){var n=e("../internals/fails");t.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":85}],71:[function(e,t,r){var n=e("../internals/global"),s=e("../internals/is-object"),i=n.document,a=s(i)&&s(i.createElement);t.exports=function(e){return a?i.createElement(e):{}}},{"../internals/global":93,"../internals/is-object":109}],72:[function(e,t,r){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],73:[function(e,t,r){var n=e("../internals/engine-user-agent").match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},{"../internals/engine-user-agent":80}],74:[function(e,t,r){t.exports="object"==typeof window},{}],75:[function(e,t,r){var n=e("../internals/engine-user-agent");t.exports=/MSIE|Trident/.test(n)},{"../internals/engine-user-agent":80}],76:[function(e,t,r){var n=e("../internals/engine-user-agent"),s=e("../internals/global");t.exports=/iphone|ipod|ipad/i.test(n)&&void 0!==s.Pebble},{"../internals/engine-user-agent":80,"../internals/global":93}],77:[function(e,t,r){var n=e("../internals/engine-user-agent");t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},{"../internals/engine-user-agent":80}],78:[function(e,t,r){var n=e("../internals/classof-raw"),s=e("../internals/global");t.exports="process"==n(s.process)},{"../internals/classof-raw":57,"../internals/global":93}],79:[function(e,t,r){var n=e("../internals/engine-user-agent");t.exports=/web0s(?!.*chrome)/i.test(n)},{"../internals/engine-user-agent":80}],80:[function(e,t,r){var n=e("../internals/get-built-in");t.exports=n("navigator","userAgent")||""},{"../internals/get-built-in":89}],81:[function(e,t,r){var n,s,i=e("../internals/global"),a=e("../internals/engine-user-agent"),o=i.process,l=i.Deno,u=o&&o.versions||l&&l.version,c=u&&u.v8;c?s=(n=c.split("."))[0]<4?1:n[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||74<=n[1])&&(n=a.match(/Chrome\/(\d+)/))&&(s=n[1]),t.exports=s&&+s},{"../internals/engine-user-agent":80,"../internals/global":93}],82:[function(e,t,r){var n=e("../internals/engine-user-agent").match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},{"../internals/engine-user-agent":80}],83:[function(e,t,r){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],84:[function(e,t,r){var c=e("../internals/global"),d=e("../internals/object-get-own-property-descriptor").f,p=e("../internals/create-non-enumerable-property"),h=e("../internals/redefine"),f=e("../internals/set-global"),m=e("../internals/copy-constructor-properties"),y=e("../internals/is-forced");t.exports=function(e,t){var r,n,s,i,a,o=e.target,l=e.global,u=e.stat;if(r=l?c:u?c[o]||f(o,{}):(c[o]||{}).prototype)for(n in t){if(i=t[n],s=e.noTargetGet?(a=d(r,n))&&a.value:r[n],!y(l?n:o+(u?".":"#")+n,e.forced)&&void 0!==s){if(typeof i==typeof s)continue;m(i,s)}(e.sham||s&&s.sham)&&p(i,"sham",!0),h(r,n,i,e)}}},{"../internals/copy-constructor-properties":62,"../internals/create-non-enumerable-property":65,"../internals/global":93,"../internals/is-forced":107,"../internals/object-get-own-property-descriptor":129,"../internals/redefine":145,"../internals/set-global":154}],85:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],86:[function(e,t,r){"use strict";e("../modules/es.regexp.exec");var u=e("../internals/redefine"),c=e("../internals/regexp-exec"),d=e("../internals/fails"),p=e("../internals/well-known-symbol"),h=e("../internals/create-non-enumerable-property"),f=p("species"),m=RegExp.prototype;t.exports=function(r,e,t,n){var s=p(r),a=!d(function(){var e={};return e[s]=function(){return 7},7!=""[r](e)}),i=a&&!d(function(){var e=!1,t=/a/;return"split"===r&&((t={constructor:{}}).constructor[f]=function(){return t},t.flags="",t[s]=/./[s]),t.exec=function(){return e=!0,null},t[s](""),!e});if(!a||!i||t){var o=/./[s],l=e(s,""[r],function(e,t,r,n,s){var i=t.exec;return i===c||i===m.exec?a&&!s?{done:!0,value:o.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}});u(String.prototype,r,l[0]),u(m,s,l[1])}n&&h(m[s],"sham",!0)}},{"../internals/create-non-enumerable-property":65,"../internals/fails":85,"../internals/redefine":145,"../internals/regexp-exec":147,"../internals/well-known-symbol":188,"../modules/es.regexp.exec":232}],87:[function(e,t,r){var n=e("../internals/fails");t.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":85}],88:[function(e,t,r){var i=e("../internals/a-function");t.exports=function(n,s,e){if(i(n),void 0===s)return n;switch(e){case 0:return function(){return n.call(s)};case 1:return function(e){return n.call(s,e)};case 2:return function(e,t){return n.call(s,e,t)};case 3:return function(e,t,r){return n.call(s,e,t,r)}}return function(){return n.apply(s,arguments)}}},{"../internals/a-function":32}],89:[function(e,t,r){var n=e("../internals/global");t.exports=function(e,t){return arguments.length<2?"function"==typeof(r=n[e])?r:void 0:n[e]&&n[e][t];var r}},{"../internals/global":93}],90:[function(e,t,r){var n=e("../internals/classof"),s=e("../internals/iterators"),i=e("../internals/well-known-symbol")("iterator");t.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||s[n(e)]}},{"../internals/classof":58,"../internals/iterators":116,"../internals/well-known-symbol":188}],91:[function(e,t,r){var n=e("../internals/an-object"),s=e("../internals/get-iterator-method");t.exports=function(e){var t=s(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},{"../internals/an-object":37,"../internals/get-iterator-method":90}],92:[function(e,t,r){var n=e("../internals/to-object"),p=Math.floor,s="".replace,h=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,f=/\$([$&'`]|\d{1,2})/g;t.exports=function(i,a,o,l,u,e){var c=o+i.length,d=l.length,t=f;return void 0!==u&&(u=n(u),t=h),s.call(e,t,function(e,t){var r;switch(t.charAt(0)){case"$":return"$";case"&":return i;case"`":return a.slice(0,o);case"'":return a.slice(c);case"<":r=u[t.slice(1,-1)];break;default:var n=+t;if(0==n)return e;if(d<n){var s=p(n/10);return 0===s?e:s<=d?void 0===l[s-1]?t.charAt(1):l[s-1]+t.charAt(1):e}r=l[n-1]}return void 0===r?"":r})}},{"../internals/to-object":173}],93:[function(e,r,t){(function(t){(function(){function e(e){return e&&e.Math==Math&&e}r.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],94:[function(e,t,r){var n=e("../internals/to-object"),s={}.hasOwnProperty;t.exports=Object.hasOwn||function(e,t){return s.call(n(e),t)}},{"../internals/to-object":173}],95:[function(e,t,r){t.exports={}},{}],96:[function(e,t,r){var n=e("../internals/global");t.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},{"../internals/global":93}],97:[function(e,t,r){var n=e("../internals/get-built-in");t.exports=n("document","documentElement")},{"../internals/get-built-in":89}],98:[function(e,t,r){var n=e("../internals/descriptors"),s=e("../internals/fails"),i=e("../internals/document-create-element");t.exports=!n&&!s(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":70,"../internals/document-create-element":71,"../internals/fails":85}],99:[function(e,t,r){var h=Math.abs,f=Math.pow,m=Math.floor,y=Math.log,g=Math.LN2;t.exports={pack:function(e,t,r){var n,s,i,a=new Array(r),o=8*r-t-1,l=(1<<o)-1,u=l>>1,c=23===t?f(2,-24)-f(2,-77):0,d=e<0||0===e&&1/e<0?1:0,p=0;for((e=h(e))!=e||e===1/0?(s=e!=e?1:0,n=l):(n=m(y(e)/g),e*(i=f(2,-n))<1&&(n--,i*=2),2<=(e+=1<=n+u?c/i:c*f(2,1-u))*i&&(n++,i/=2),l<=n+u?(s=0,n=l):1<=n+u?(s=(e*i-1)*f(2,t),n+=u):(s=e*f(2,u-1)*f(2,t),n=0));8<=t;a[p++]=255&s,s/=256,t-=8);for(n=n<<t|s,o+=t;0<o;a[p++]=255&n,n/=256,o-=8);return a[--p]|=128*d,a},unpack:function(e,t){var r,n=e.length,s=8*n-t-1,i=(1<<s)-1,a=i>>1,o=s-7,l=n-1,u=e[l--],c=127&u;for(u>>=7;0<o;c=256*c+e[l],l--,o-=8);for(r=c&(1<<-o)-1,c>>=-o,o+=t;0<o;r=256*r+e[l],l--,o-=8);if(0===c)c=1-a;else{if(c===i)return r?NaN:u?-1/0:1/0;r+=f(2,t),c-=a}return(u?-1:1)*r*f(2,c-t)}}},{}],100:[function(e,t,r){var n=e("../internals/fails"),s=e("../internals/classof-raw"),i="".split;t.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==s(e)?i.call(e,""):Object(e)}:Object},{"../internals/classof-raw":57,"../internals/fails":85}],101:[function(e,t,r){var i=e("../internals/is-object"),a=e("../internals/object-set-prototype-of");t.exports=function(e,t,r){var n,s;return a&&"function"==typeof(n=t.constructor)&&n!==r&&i(s=n.prototype)&&s!==r.prototype&&a(e,s),e}},{"../internals/is-object":109,"../internals/object-set-prototype-of":137}],102:[function(e,t,r){var n=e("../internals/shared-store"),s=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return s.call(e)}),t.exports=n.inspectSource},{"../internals/shared-store":158}],103:[function(e,t,r){function n(e){l(e,f,{value:{objectID:"O"+m++,weakData:{}}})}var a=e("../internals/export"),s=e("../internals/hidden-keys"),i=e("../internals/is-object"),o=e("../internals/has"),l=e("../internals/object-define-property").f,u=e("../internals/object-get-own-property-names"),c=e("../internals/object-get-own-property-names-external"),d=e("../internals/uid"),p=e("../internals/freezing"),h=!1,f=d("meta"),m=0,y=Object.isExtensible||function(){return!0},g=t.exports={enable:function(){g.enable=function(){},h=!0;var s=u.f,i=[].splice,e={};e[f]=1,s(e).length&&(u.f=function(e){for(var t=s(e),r=0,n=t.length;r<n;r++)if(t[r]===f){i.call(t,r,1);break}return t},a({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,f)){if(!y(e))return"F";if(!t)return"E";n(e)}return e[f].objectID},getWeakData:function(e,t){if(!o(e,f)){if(!y(e))return!0;if(!t)return!1;n(e)}return e[f].weakData},onFreeze:function(e){return p&&h&&y(e)&&!o(e,f)&&n(e),e}};s[f]=!0},{"../internals/export":84,"../internals/freezing":87,"../internals/has":94,"../internals/hidden-keys":95,"../internals/is-object":109,"../internals/object-define-property":128,"../internals/object-get-own-property-names":131,"../internals/object-get-own-property-names-external":130,"../internals/uid":185}],104:[function(e,t,r){var n,s,i,a=e("../internals/native-weak-map"),o=e("../internals/global"),l=e("../internals/is-object"),u=e("../internals/create-non-enumerable-property"),c=e("../internals/has"),d=e("../internals/shared-store"),p=e("../internals/shared-key"),h=e("../internals/hidden-keys"),f="Object already initialized",m=o.WeakMap;if(a||d.state){var y=d.state||(d.state=new m),g=y.get,v=y.has,b=y.set;n=function(e,t){if(v.call(y,e))throw new TypeError(f);return t.facade=e,b.call(y,e,t),t},s=function(e){return g.call(y,e)||{}},i=function(e){return v.call(y,e)}}else{var _=p("state");h[_]=!0,n=function(e,t){if(c(e,_))throw new TypeError(f);return t.facade=e,u(e,_,t),t},s=function(e){return c(e,_)?e[_]:{}},i=function(e){return c(e,_)}}t.exports={set:n,get:s,has:i,enforce:function(e){return i(e)?s(e):n(e,{})},getterFor:function(r){return function(e){var t;if(!l(e)||(t=s(e)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return t}}}},{"../internals/create-non-enumerable-property":65,"../internals/global":93,"../internals/has":94,"../internals/hidden-keys":95,"../internals/is-object":109,"../internals/native-weak-map":121,"../internals/shared-key":157,"../internals/shared-store":158}],105:[function(e,t,r){var n=e("../internals/well-known-symbol"),s=e("../internals/iterators"),i=n("iterator"),a=Array.prototype;t.exports=function(e){return void 0!==e&&(s.Array===e||a[i]===e)}},{"../internals/iterators":116,"../internals/well-known-symbol":188}],106:[function(e,t,r){var n=e("../internals/classof-raw");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"../internals/classof-raw":57}],107:[function(e,t,r){function n(e,t){var r=o[a(e)];return r==u||r!=l&&("function"==typeof t?s(t):!!t)}var s=e("../internals/fails"),i=/#|\.prototype\./,a=n.normalize=function(e){return String(e).replace(i,".").toLowerCase()},o=n.data={},l=n.NATIVE="N",u=n.POLYFILL="P";t.exports=n},{"../internals/fails":85}],108:[function(e,t,r){var n=e("../internals/is-object"),s=Math.floor;t.exports=function(e){return!n(e)&&isFinite(e)&&s(e)===e}},{"../internals/is-object":109}],109:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],110:[function(e,t,r){t.exports=!1},{}],111:[function(e,t,r){var n=e("../internals/is-object"),s=e("../internals/classof-raw"),i=e("../internals/well-known-symbol")("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==s(e))}},{"../internals/classof-raw":57,"../internals/is-object":109,"../internals/well-known-symbol":188}],112:[function(e,t,r){var n=e("../internals/get-built-in"),s=e("../internals/use-symbol-as-uid");t.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return"function"==typeof t&&Object(e)instanceof t}},{"../internals/get-built-in":89,"../internals/use-symbol-as-uid":186}],113:[function(e,t,r){function g(e,t){this.stopped=e,this.result=t}var v=e("../internals/an-object"),b=e("../internals/is-array-iterator-method"),_=e("../internals/to-length"),j=e("../internals/function-bind-context"),T=e("../internals/get-iterator-method"),S=e("../internals/iterator-close");t.exports=function(e,t,r){function n(e){return i&&S(i),new g(!0,e)}function s(e){return h?(v(e),m?y(e[0],e[1],n):y(e[0],e[1])):m?y(e,n):y(e)}var i,a,o,l,u,c,d,p=r&&r.that,h=!(!r||!r.AS_ENTRIES),f=!(!r||!r.IS_ITERATOR),m=!(!r||!r.INTERRUPTED),y=j(t,p,1+h+m);if(f)i=e;else{if("function"!=typeof(a=T(e)))throw TypeError("Target is not iterable");if(b(a)){for(o=0,l=_(e.length);o<l;o++)if((u=s(e[o]))&&u instanceof g)return u;return new g(!1)}i=a.call(e)}for(c=i.next;!(d=c.call(i)).done;){try{u=s(d.value)}catch(e){throw S(i),e}if("object"==typeof u&&u&&u instanceof g)return u}return new g(!1)}},{"../internals/an-object":37,"../internals/function-bind-context":88,"../internals/get-iterator-method":90,"../internals/is-array-iterator-method":105,"../internals/iterator-close":114,"../internals/to-length":172}],114:[function(e,t,r){var n=e("../internals/an-object");t.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},{"../internals/an-object":37}],115:[function(e,t,r){"use strict";var n,s,i,a=e("../internals/fails"),o=e("../internals/object-get-prototype-of"),l=e("../internals/create-non-enumerable-property"),u=e("../internals/has"),c=e("../internals/well-known-symbol"),d=e("../internals/is-pure"),p=c("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(s=o(o(i)))!==Object.prototype&&(n=s):h=!0);var f=null==n||a(function(){var e={};return n[p].call(e)!==e});f&&(n={}),d&&!f||u(n,p)||l(n,p,function(){return this}),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},{"../internals/create-non-enumerable-property":65,"../internals/fails":85,"../internals/has":94,"../internals/is-pure":110,"../internals/object-get-prototype-of":133,"../internals/well-known-symbol":188}],116:[function(e,t,r){arguments[4][95][0].apply(r,arguments)},{dup:95}],117:[function(e,t,r){var n,s,i,a,o,l,u,c,d=e("../internals/global"),p=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/task").set,f=e("../internals/engine-is-ios"),m=e("../internals/engine-is-ios-pebble"),y=e("../internals/engine-is-webos-webkit"),g=e("../internals/engine-is-node"),v=d.MutationObserver||d.WebKitMutationObserver,b=d.document,_=d.process,j=d.Promise,T=p(d,"queueMicrotask"),S=T&&T.value;S||(n=function(){var e,t;for(g&&(e=_.domain)&&e.exit();s;){t=s.fn,s=s.next;try{t()}catch(e){throw s?a():i=void 0,e}}i=void 0,e&&e.enter()},a=f||g||y||!v||!b?!m&&j&&j.resolve?((u=j.resolve(void 0)).constructor=j,c=u.then,function(){c.call(u,n)}):g?function(){_.nextTick(n)}:function(){h.call(d,n)}:(o=!0,l=b.createTextNode(""),new v(n).observe(l,{characterData:!0}),function(){l.data=o=!o})),t.exports=S||function(e){var t={fn:e,next:void 0};i&&(i.next=t),s||(s=t,a()),i=t}},{"../internals/engine-is-ios":77,"../internals/engine-is-ios-pebble":76,"../internals/engine-is-node":78,"../internals/engine-is-webos-webkit":79,"../internals/global":93,"../internals/object-get-own-property-descriptor":129,"../internals/task":166}],118:[function(e,t,r){var n=e("../internals/global");t.exports=n.Promise},{"../internals/global":93}],119:[function(e,t,r){var n=e("../internals/engine-v8-version"),s=e("../internals/fails");t.exports=!!Object.getOwnPropertySymbols&&!s(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41})},{"../internals/engine-v8-version":81,"../internals/fails":85}],120:[function(e,t,r){var n=e("../internals/fails"),s=e("../internals/well-known-symbol"),i=e("../internals/is-pure"),a=s("iterator");t.exports=!n(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),r=e.searchParams,n="";return e.pathname="c%20d",r.forEach(function(e,t){r.delete("b"),n+=t+e}),i&&!e.toJSON||!r.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==r.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!r[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":85,"../internals/is-pure":110,"../internals/well-known-symbol":188}],121:[function(e,t,r){var n=e("../internals/global"),s=e("../internals/inspect-source"),i=n.WeakMap;t.exports="function"==typeof i&&/native code/.test(s(i))},{"../internals/global":93,"../internals/inspect-source":102}],122:[function(e,t,r){"use strict";function n(e){var r,n;this.promise=new e(function(e,t){if(void 0!==r||void 0!==n)throw TypeError("Bad Promise constructor");r=e,n=t}),this.resolve=s(r),this.reject=s(n)}var s=e("../internals/a-function");t.exports.f=function(e){return new n(e)}},{"../internals/a-function":32}],123:[function(e,t,r){var n=e("../internals/global"),s=e("../internals/to-string"),i=e("../internals/string-trim").trim,a=e("../internals/whitespaces"),o=n.parseFloat,l=1/o(a+"-0")!=-1/0;t.exports=l?function(e){var t=i(s(e)),r=o(t);return 0===r&&"-"==t.charAt(0)?-0:r}:o},{"../internals/global":93,"../internals/string-trim":165,"../internals/to-string":179,"../internals/whitespaces":189}],124:[function(e,t,r){var n=e("../internals/global"),s=e("../internals/to-string"),i=e("../internals/string-trim").trim,a=e("../internals/whitespaces"),o=n.parseInt,l=/^[+-]?0[Xx]/,u=8!==o(a+"08")||22!==o(a+"0x16");t.exports=u?function(e,t){var r=i(s(e));return o(r,t>>>0||(l.test(r)?16:10))}:o},{"../internals/global":93,"../internals/string-trim":165,"../internals/to-string":179,"../internals/whitespaces":189}],125:[function(e,t,r){"use strict";var p=e("../internals/descriptors"),n=e("../internals/fails"),h=e("../internals/object-keys"),f=e("../internals/object-get-own-property-symbols"),m=e("../internals/object-property-is-enumerable"),y=e("../internals/to-object"),g=e("../internals/indexed-object"),s=Object.assign,i=Object.defineProperty;t.exports=!s||n(function(){if(p&&1!==s({b:1},s(i({},"a",{enumerable:!0,get:function(){i(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=s({},e)[r]||h(s({},t)).join("")!=n})?function(e,t){for(var r=y(e),n=arguments.length,s=1,i=f.f,a=m.f;s<n;)for(var o,l=g(arguments[s++]),u=i?h(l).concat(i(l)):h(l),c=u.length,d=0;d<c;)o=u[d++],p&&!a.call(l,o)||(r[o]=l[o]);return r}:s},{"../internals/descriptors":70,"../internals/fails":85,"../internals/indexed-object":100,"../internals/object-get-own-property-symbols":132,"../internals/object-keys":135,"../internals/object-property-is-enumerable":136,"../internals/to-object":173}],126:[function(e,t,r){function n(){}function s(e){return"<script>"+e+"</"+m+">"}function i(e){e.write(s("")),e.close();var t=e.parentWindow.Object;return e=null,t}var a,o=e("../internals/an-object"),l=e("../internals/object-define-properties"),u=e("../internals/enum-bug-keys"),c=e("../internals/hidden-keys"),d=e("../internals/html"),p=e("../internals/document-create-element"),h=e("../internals/shared-key"),f="prototype",m="script",y=h("IE_PROTO"),g=function(){try{a=new ActiveXObject("htmlfile")}catch(e){}g=document.domain&&a?i(a):function(){var e,t=p("iframe");if(t.style)return t.style.display="none",d.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(s("document.F=Object")),e.close(),e.F}()||i(a);for(var e=u.length;e--;)delete g[f][u[e]];return g()};c[y]=!0,t.exports=Object.create||function(e,t){var r;return null!==e?(n[f]=o(e),r=new n,n[f]=null,r[y]=e):r=g(),void 0===t?r:l(r,t)}},{"../internals/an-object":37,"../internals/document-create-element":71,"../internals/enum-bug-keys":83,"../internals/hidden-keys":95,"../internals/html":97,"../internals/object-define-properties":127,"../internals/shared-key":157}],127:[function(e,t,r){var n=e("../internals/descriptors"),a=e("../internals/object-define-property"),o=e("../internals/an-object"),l=e("../internals/object-keys");t.exports=n?Object.defineProperties:function(e,t){o(e);for(var r,n=l(t),s=n.length,i=0;i<s;)a.f(e,r=n[i++],t[r]);return e}},{"../internals/an-object":37,"../internals/descriptors":70,"../internals/object-define-property":128,"../internals/object-keys":135}],128:[function(e,t,r){var n=e("../internals/descriptors"),s=e("../internals/ie8-dom-define"),i=e("../internals/an-object"),a=e("../internals/to-property-key"),o=Object.defineProperty;r.f=n?o:function(e,t,r){if(i(e),t=a(t),i(r),s)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},{"../internals/an-object":37,"../internals/descriptors":70,"../internals/ie8-dom-define":98,"../internals/to-property-key":177}],129:[function(e,t,r){var n=e("../internals/descriptors"),s=e("../internals/object-property-is-enumerable"),i=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),o=e("../internals/to-property-key"),l=e("../internals/has"),u=e("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;r.f=n?c:function(e,t){if(e=a(e),t=o(t),u)try{return c(e,t)}catch(e){}if(l(e,t))return i(!s.f.call(e,t),e[t])}},{"../internals/create-property-descriptor":66,"../internals/descriptors":70,"../internals/has":94,"../internals/ie8-dom-define":98,"../internals/object-property-is-enumerable":136,"../internals/to-indexed-object":170,"../internals/to-property-key":177}],130:[function(e,t,r){var n=e("../internals/to-indexed-object"),s=e("../internals/object-get-own-property-names").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return s(e)}catch(e){return a.slice()}}(e):s(n(e))}},{"../internals/object-get-own-property-names":131,"../internals/to-indexed-object":170}],131:[function(e,t,r){var n=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,s)}},{"../internals/enum-bug-keys":83,"../internals/object-keys-internal":134}],132:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],133:[function(e,t,r){var n=e("../internals/has"),s=e("../internals/to-object"),i=e("../internals/shared-key"),a=e("../internals/correct-prototype-getter"),o=i("IE_PROTO"),l=Object.prototype;t.exports=a?Object.getPrototypeOf:function(e){return e=s(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},{"../internals/correct-prototype-getter":63,"../internals/has":94,"../internals/shared-key":157,"../internals/to-object":173}],134:[function(e,t,r){var a=e("../internals/has"),o=e("../internals/to-indexed-object"),l=e("../internals/array-includes").indexOf,u=e("../internals/hidden-keys");t.exports=function(e,t){var r,n=o(e),s=0,i=[];for(r in n)!a(u,r)&&a(n,r)&&i.push(r);for(;t.length>s;)a(n,r=t[s++])&&(~l(i,r)||i.push(r));return i}},{"../internals/array-includes":46,"../internals/has":94,"../internals/hidden-keys":95,"../internals/to-indexed-object":170}],135:[function(e,t,r){var n=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys");t.exports=Object.keys||function(e){return n(e,s)}},{"../internals/enum-bug-keys":83,"../internals/object-keys-internal":134}],136:[function(e,t,r){"use strict";var n={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,i=s&&!n.call({1:2},1);r.f=i?function(e){var t=s(this,e);return!!t&&t.enumerable}:n},{}],137:[function(e,t,r){var s=e("../internals/an-object"),i=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,e={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),n=e instanceof Array}catch(e){}return function(e,t){return s(e),i(t),n?r.call(e,t):e.__proto__=t,e}}():void 0)},{"../internals/a-possible-prototype":33,"../internals/an-object":37}],138:[function(e,t,r){"use strict";var n=e("../internals/to-string-tag-support"),s=e("../internals/classof");t.exports=n?{}.toString:function(){return"[object "+s(this)+"]"}},{"../internals/classof":58,"../internals/to-string-tag-support":178}],139:[function(e,t,r){var s=e("../internals/is-object");t.exports=function(e,t){var r,n;if("string"===t&&"function"==typeof(r=e.toString)&&!s(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!s(n=r.call(e)))return n;if("string"!==t&&"function"==typeof(r=e.toString)&&!s(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":109}],140:[function(e,t,r){var n=e("../internals/get-built-in"),s=e("../internals/object-get-own-property-names"),i=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object");t.exports=n("Reflect","ownKeys")||function(e){var t=s.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},{"../internals/an-object":37,"../internals/get-built-in":89,"../internals/object-get-own-property-names":131,"../internals/object-get-own-property-symbols":132}],141:[function(e,t,r){var n=e("../internals/global");t.exports=n},{"../internals/global":93}],142:[function(e,t,r){t.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},{}],143:[function(e,t,r){var n=e("../internals/an-object"),s=e("../internals/is-object"),i=e("../internals/new-promise-capability");t.exports=function(e,t){if(n(e),s(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},{"../internals/an-object":37,"../internals/is-object":109,"../internals/new-promise-capability":122}],144:[function(e,t,r){var s=e("../internals/redefine");t.exports=function(e,t,r){for(var n in t)s(e,n,t[n],r);return e}},{"../internals/redefine":145}],145:[function(e,t,r){var l=e("../internals/global"),u=e("../internals/create-non-enumerable-property"),c=e("../internals/has"),d=e("../internals/set-global"),n=e("../internals/inspect-source"),s=e("../internals/internal-state"),i=s.get,p=s.enforce,h=String(String).split("String");(t.exports=function(e,t,r,n){var s,i=!!n&&!!n.unsafe,a=!!n&&!!n.enumerable,o=!!n&&!!n.noTargetGet;"function"==typeof r&&("string"!=typeof t||c(r,"name")||u(r,"name",t),(s=p(r)).source||(s.source=h.join("string"==typeof t?t:""))),e!==l?(i?!o&&e[t]&&(a=!0):delete e[t],a?e[t]=r:u(e,t,r)):a?e[t]=r:d(t,r)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||n(this)})},{"../internals/create-non-enumerable-property":65,"../internals/global":93,"../internals/has":94,"../internals/inspect-source":102,"../internals/internal-state":104,"../internals/set-global":154}],146:[function(e,t,r){var s=e("./classof-raw"),i=e("./regexp-exec");t.exports=function(e,t){var r=e.exec;if("function"==typeof r){var n=r.call(e,t);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==s(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},{"./classof-raw":57,"./regexp-exec":147}],147:[function(e,t,r){"use strict";var n,s,v=e("../internals/to-string"),b=e("../internals/regexp-flags"),i=e("../internals/regexp-sticky-helpers"),a=e("../internals/shared"),_=e("../internals/object-create"),j=e("../internals/internal-state").get,o=e("../internals/regexp-unsupported-dot-all"),l=e("../internals/regexp-unsupported-ncg"),T=RegExp.prototype.exec,S=a("native-string-replace",String.prototype.replace),w=T,E=(n=/a/,s=/b*/g,T.call(n,"a"),T.call(s,"a"),0!==n.lastIndex||0!==s.lastIndex),k=i.UNSUPPORTED_Y||i.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(E||x||k||o||l)&&(w=function(e){var t,r,n,s,i,a,o,l=this,u=j(l),c=v(e),d=u.raw;if(d)return d.lastIndex=l.lastIndex,t=w.call(d,c),l.lastIndex=d.lastIndex,t;var p=u.groups,h=k&&l.sticky,f=b.call(l),m=l.source,y=0,g=c;if(h&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),g=c.slice(l.lastIndex),0<l.lastIndex&&(!l.multiline||l.multiline&&"\n"!==c.charAt(l.lastIndex-1))&&(m="(?: "+m+")",g=" "+g,y++),r=new RegExp("^(?:"+m+")",f)),x&&(r=new RegExp("^"+m+"$(?!\\s)",f)),E&&(n=l.lastIndex),s=T.call(h?r:l,g),h?s?(s.input=s.input.slice(y),s[0]=s[0].slice(y),s.index=l.lastIndex,l.lastIndex+=s[0].length):l.lastIndex=0:E&&s&&(l.lastIndex=l.global?s.index+s[0].length:n),x&&s&&1<s.length&&S.call(s[0],r,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(s[i]=void 0)}),s&&p)for(s.groups=a=_(null),i=0;i<p.length;i++)a[(o=p[i])[0]]=s[o[1]];return s}),t.exports=w},{"../internals/internal-state":104,"../internals/object-create":126,"../internals/regexp-flags":148,"../internals/regexp-sticky-helpers":149,"../internals/regexp-unsupported-dot-all":150,"../internals/regexp-unsupported-ncg":151,"../internals/shared":159,"../internals/to-string":179}],148:[function(e,t,r){"use strict";var n=e("../internals/an-object");t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"../internals/an-object":37}],149:[function(e,t,r){function n(e,t){return RegExp(e,t)}var s=e("../internals/fails");r.UNSUPPORTED_Y=s(function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),r.BROKEN_CARET=s(function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},{"../internals/fails":85}],150:[function(e,t,r){var n=e("./fails");t.exports=n(function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})},{"./fails":85}],151:[function(e,t,r){var n=e("./fails");t.exports=n(function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})},{"./fails":85}],152:[function(e,t,r){t.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},{}],153:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],154:[function(e,t,r){var n=e("../internals/global");t.exports=function(t,r){try{Object.defineProperty(n,t,{value:r,configurable:!0,writable:!0})}catch(e){n[t]=r}return r}},{"../internals/global":93}],155:[function(e,t,r){"use strict";var n=e("../internals/get-built-in"),s=e("../internals/object-define-property"),i=e("../internals/well-known-symbol"),a=e("../internals/descriptors"),o=i("species");t.exports=function(e){var t=n(e),r=s.f;a&&t&&!t[o]&&r(t,o,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":70,"../internals/get-built-in":89,"../internals/object-define-property":128,"../internals/well-known-symbol":188}],156:[function(e,t,r){var n=e("../internals/object-define-property").f,s=e("../internals/has"),i=e("../internals/well-known-symbol")("toStringTag");t.exports=function(e,t,r){e&&!s(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"../internals/has":94,"../internals/object-define-property":128,"../internals/well-known-symbol":188}],157:[function(e,t,r){var n=e("../internals/shared"),s=e("../internals/uid"),i=n("keys");t.exports=function(e){return i[e]||(i[e]=s(e))}},{"../internals/shared":159,"../internals/uid":185}],158:[function(e,t,r){var n=e("../internals/global"),s=e("../internals/set-global"),i="__core-js_shared__",a=n[i]||s(i,{});t.exports=a},{"../internals/global":93,"../internals/set-global":154}],159:[function(e,t,r){var n=e("../internals/is-pure"),s=e("../internals/shared-store");(t.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.16.1",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":110,"../internals/shared-store":158}],160:[function(e,t,r){var s=e("../internals/an-object"),i=e("../internals/a-function"),a=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var r,n=s(e).constructor;return void 0===n||null==(r=s(n)[a])?t:i(r)}},{"../internals/a-function":32,"../internals/an-object":37,"../internals/well-known-symbol":188}],161:[function(e,t,r){function n(o){return function(e,t){var r,n,s=u(c(e)),i=l(t),a=s.length;return i<0||a<=i?o?"":void 0:(r=s.charCodeAt(i))<55296||56319<r||i+1===a||(n=s.charCodeAt(i+1))<56320||57343<n?o?s.charAt(i):r:o?s.slice(i,i+2):n-56320+(r-55296<<10)+65536}}var l=e("../internals/to-integer"),u=e("../internals/to-string"),c=e("../internals/require-object-coercible");t.exports={codeAt:n(!1),charAt:n(!0)}},{"../internals/require-object-coercible":152,"../internals/to-integer":171,"../internals/to-string":179}],162:[function(e,t,r){"use strict";function g(e){return e+22+75*(e<26)}function v(e,t,r){var n=0;for(e=r?j(e/700):e>>1,e+=j(e/t);455<e;n+=36)e=j(e/35);return j(n+36*e/(e+38))}function i(e){var t,r,n=[],s=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(55296<=s&&s<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&s)<<10)+(1023&i)+65536):(t.push(s),r--)}else t.push(s)}return t}(e)).length,i=128,a=0,o=72;for(t=0;t<e.length;t++)(r=e[t])<128&&n.push(T(r));var l=n.length,u=l;for(l&&n.push("-");u<s;){var c=b;for(t=0;t<e.length;t++)i<=(r=e[t])&&r<c&&(c=r);var d=u+1;if(c-i>j((b-a)/d))throw RangeError(_);for(a+=(c-i)*d,i=c,t=0;t<e.length;t++){if((r=e[t])<i&&++a>b)throw RangeError(_);if(r==i){for(var p=a,h=36;;h+=36){var f=h<=o?1:o+26<=h?26:h-o;if(p<f)break;var m=p-f,y=36-f;n.push(T(g(f+m%y))),p=j(m/y)}n.push(T(g(p))),o=v(a,d,u==l),a=0,++u}}++a,++i}return n.join("")}var b=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,_="Overflow: input needs wider integers to process",j=Math.floor,T=String.fromCharCode;t.exports=function(e){var t,r,n=[],s=e.toLowerCase().replace(o,".").split(".");for(t=0;t<s.length;t++)r=s[t],n.push(a.test(r)?"xn--"+i(r):r);return n.join(".")}},{}],163:[function(e,t,r){"use strict";var s=e("../internals/to-integer"),i=e("../internals/to-string"),a=e("../internals/require-object-coercible");t.exports=function(e){var t=i(a(this)),r="",n=s(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;0<n;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r}},{"../internals/require-object-coercible":152,"../internals/to-integer":171,"../internals/to-string":179}],164:[function(e,t,r){var n=e("../internals/fails"),s=e("../internals/whitespaces");t.exports=function(e){return n(function(){return!!s[e]()||""!=""[e]()||s[e].name!==e})}},{"../internals/fails":85,"../internals/whitespaces":189}],165:[function(e,t,r){function n(r){return function(e){var t=i(s(e));return 1&r&&(t=t.replace(o,"")),2&r&&(t=t.replace(l,"")),t}}var s=e("../internals/require-object-coercible"),i=e("../internals/to-string"),a="["+e("../internals/whitespaces")+"]",o=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$");t.exports={start:n(1),end:n(2),trim:n(3)}},{"../internals/require-object-coercible":152,"../internals/to-string":179,"../internals/whitespaces":189}],166:[function(e,t,r){var n,s,i,a,o=e("../internals/global"),l=e("../internals/fails"),u=e("../internals/function-bind-context"),c=e("../internals/html"),d=e("../internals/document-create-element"),p=e("../internals/engine-is-ios"),h=e("../internals/engine-is-node"),f=o.setImmediate,m=o.clearImmediate,y=o.process,g=o.MessageChannel,v=o.Dispatch,b=0,_={},j="onreadystatechange";try{n=o.location}catch(e){}function T(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}}function S(e){return function(){T(e)}}function w(e){T(e.data)}function E(e){o.postMessage(String(e),n.protocol+"//"+n.host)}f&&m||(f=function(e){for(var t=[],r=arguments.length,n=1;n<r;)t.push(arguments[n++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},s(b),b},m=function(e){delete _[e]},h?s=function(e){y.nextTick(S(e))}:v&&v.now?s=function(e){v.now(S(e))}:g&&!p?(a=(i=new g).port2,i.port1.onmessage=w,s=u(a.postMessage,a,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&n&&"file:"!==n.protocol&&!l(E)?(s=E,o.addEventListener("message",w,!1)):s=j in d("script")?function(e){c.appendChild(d("script"))[j]=function(){c.removeChild(this),T(e)}}:function(e){setTimeout(S(e),0)}),t.exports={set:f,clear:m}},{"../internals/document-create-element":71,"../internals/engine-is-ios":77,"../internals/engine-is-node":78,"../internals/fails":85,"../internals/function-bind-context":88,"../internals/global":93,"../internals/html":97}],167:[function(e,t,r){var n=e("../internals/classof-raw");t.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},{"../internals/classof-raw":57}],168:[function(e,t,r){var n=e("../internals/to-integer"),s=Math.max,i=Math.min;t.exports=function(e,t){var r=n(e);return r<0?s(r+t,0):i(r,t)}},{"../internals/to-integer":171}],169:[function(e,t,r){var n=e("../internals/to-integer"),s=e("../internals/to-length");t.exports=function(e){if(void 0===e)return 0;var t=n(e),r=s(t);if(t!==r)throw RangeError("Wrong length or index");return r}},{"../internals/to-integer":171,"../internals/to-length":172}],170:[function(e,t,r){var n=e("../internals/indexed-object"),s=e("../internals/require-object-coercible");t.exports=function(e){return n(s(e))}},{"../internals/indexed-object":100,"../internals/require-object-coercible":152}],171:[function(e,t,r){var n=Math.ceil,s=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?s:n)(e)}},{}],172:[function(e,t,r){var n=e("../internals/to-integer"),s=Math.min;t.exports=function(e){return 0<e?s(n(e),9007199254740991):0}},{"../internals/to-integer":171}],173:[function(e,t,r){var n=e("../internals/require-object-coercible");t.exports=function(e){return Object(n(e))}},{"../internals/require-object-coercible":152}],174:[function(e,t,r){var n=e("../internals/to-positive-integer");t.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},{"../internals/to-positive-integer":175}],175:[function(e,t,r){var n=e("../internals/to-integer");t.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},{"../internals/to-integer":171}],176:[function(e,t,r){var s=e("../internals/is-object"),i=e("../internals/is-symbol"),a=e("../internals/ordinary-to-primitive"),o=e("../internals/well-known-symbol")("toPrimitive");t.exports=function(e,t){if(!s(e)||i(e))return e;var r,n=e[o];if(void 0===n)return void 0===t&&(t="number"),a(e,t);if(void 0===t&&(t="default"),r=n.call(e,t),!s(r)||i(r))return r;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":109,"../internals/is-symbol":112,"../internals/ordinary-to-primitive":139,"../internals/well-known-symbol":188}],177:[function(e,t,r){var n=e("../internals/to-primitive"),s=e("../internals/is-symbol");t.exports=function(e){var t=n(e,"string");return s(t)?t:String(t)}},{"../internals/is-symbol":112,"../internals/to-primitive":176}],178:[function(e,t,r){var n={};n[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports="[object z]"===String(n)},{"../internals/well-known-symbol":188}],179:[function(e,t,r){var n=e("../internals/is-symbol");t.exports=function(e){if(n(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},{"../internals/is-symbol":112}],180:[function(e,t,r){"use strict";function f(e,t){for(var r=0,n=t.length,s=new($(e))(n);r<n;)s[r]=t[r++];return s}function n(e,t){B(e,t,{get:function(){return M(this)[t]}})}function m(e){var t;return e instanceof V||"ArrayBuffer"==(t=w(e))||"SharedArrayBuffer"==t}function s(e,t){return Q(e)&&!k(t)&&t in e&&h(+t)&&0<=t}function i(e,t){return t=T(t),s(e,t)?p(2,e[t]):F(e,t)}function a(e,t,r){return t=T(t),!(s(e,t)&&E(r)&&S(r,"value"))||S(r,"get")||S(r,"set")||r.configurable||S(r,"writable")&&!r.writable||S(r,"enumerable")&&!r.enumerable?B(e,t,r):(e[t]=r.value,e)}var l=e("../internals/export"),u=e("../internals/global"),o=e("../internals/descriptors"),y=e("../internals/typed-array-constructors-require-wrappers"),c=e("../internals/array-buffer-view-core"),d=e("../internals/array-buffer"),g=e("../internals/an-instance"),p=e("../internals/create-property-descriptor"),v=e("../internals/create-non-enumerable-property"),h=e("../internals/is-integer"),b=e("../internals/to-length"),_=e("../internals/to-index"),j=e("../internals/to-offset"),T=e("../internals/to-property-key"),S=e("../internals/has"),w=e("../internals/classof"),E=e("../internals/is-object"),k=e("../internals/is-symbol"),x=e("../internals/object-create"),C=e("../internals/object-set-prototype-of"),A=e("../internals/object-get-own-property-names").f,I=e("../internals/typed-array-from"),P=e("../internals/array-iteration").forEach,L=e("../internals/set-species"),O=e("../internals/object-define-property"),R=e("../internals/object-get-own-property-descriptor"),D=e("../internals/internal-state"),U=e("../internals/inherit-if-required"),M=D.get,N=D.set,B=O.f,F=R.f,H=Math.round,q=u.RangeError,V=d.ArrayBuffer,G=d.DataView,z=c.NATIVE_ARRAY_BUFFER_VIEWS,W=c.TYPED_ARRAY_CONSTRUCTOR,Y=c.TYPED_ARRAY_TAG,X=c.TypedArray,K=c.TypedArrayPrototype,$=c.aTypedArrayConstructor,Q=c.isTypedArray,J="BYTES_PER_ELEMENT",Z="Wrong length";o?(z||(R.f=i,O.f=a,n(K,"buffer"),n(K,"byteOffset"),n(K,"byteLength"),n(K,"length")),l({target:"Object",stat:!0,forced:!z},{getOwnPropertyDescriptor:i,defineProperty:a}),t.exports=function(e,t,i){function c(e,s){B(e,s,{get:function(){return e=s,(t=M(this)).view[r](e*d+t.byteOffset,!0);var e,t},set:function(e){return t=s,r=e,n=M(this),i&&(r=(r=H(r))<0?0:255<r?255:255&r),void n.view[a](t*d+n.byteOffset,r,!0);var t,r,n},enumerable:!0})}var d=e.match(/\d+$/)[0]/8,p=e+(i?"Clamped":"")+"Array",r="get"+e,a="set"+e,s=u[p],h=s,n=h&&h.prototype,o={};z?y&&(h=t(function(e,t,r,n){return g(e,h,p),U(E(t)?m(t)?void 0!==n?new s(t,j(r,d),n):void 0!==r?new s(t,j(r,d)):new s(t):Q(t)?f(h,t):I.call(h,t):new s(_(t)),e,h)}),C&&C(h,X),P(A(s),function(e){e in h||v(h,e,s[e])}),h.prototype=n):(h=t(function(e,t,r,n){g(e,h,p);var s,i,a,o=0,l=0;if(E(t)){if(!m(t))return Q(t)?f(h,t):I.call(h,t);s=t,l=j(r,d);var u=t.byteLength;if(void 0===n){if(u%d)throw q(Z);if((i=u-l)<0)throw q(Z)}else if(u<(i=b(n)*d)+l)throw q(Z);a=i/d}else a=_(t),s=new V(i=a*d);for(N(e,{buffer:s,byteOffset:l,byteLength:i,length:a,view:new G(s)});o<a;)c(e,o++)}),C&&C(h,X),n=h.prototype=x(K)),n.constructor!==h&&v(n,"constructor",h),v(n,W,h),Y&&v(n,Y,p),o[p]=h,l({global:!0,forced:h!=s,sham:!z},o),J in h||v(h,J,d),J in n||v(n,J,d),L(p)}):t.exports=function(){}},{"../internals/an-instance":36,"../internals/array-buffer":40,"../internals/array-buffer-view-core":39,"../internals/array-iteration":47,"../internals/classof":58,"../internals/create-non-enumerable-property":65,"../internals/create-property-descriptor":66,"../internals/descriptors":70,"../internals/export":84,"../internals/global":93,"../internals/has":94,"../internals/inherit-if-required":101,"../internals/internal-state":104,"../internals/is-integer":108,"../internals/is-object":109,"../internals/is-symbol":112,"../internals/object-create":126,"../internals/object-define-property":128,"../internals/object-get-own-property-descriptor":129,"../internals/object-get-own-property-names":131,"../internals/object-set-prototype-of":137,"../internals/set-species":155,"../internals/to-index":169,"../internals/to-length":172,"../internals/to-offset":174,"../internals/to-property-key":177,"../internals/typed-array-constructors-require-wrappers":181,"../internals/typed-array-from":183}],181:[function(e,t,r){var n=e("../internals/global"),s=e("../internals/fails"),i=e("../internals/check-correctness-of-iteration"),a=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,o=n.ArrayBuffer,l=n.Int8Array;t.exports=!a||!s(function(){l(1)})||!s(function(){new l(-1)})||!i(function(e){new l,new l(null),new l(1.5),new l(e)},!0)||s(function(){return 1!==new l(new o(2),1,void 0).length})},{"../internals/array-buffer-view-core":39,"../internals/check-correctness-of-iteration":56,"../internals/fails":85,"../internals/global":93}],182:[function(e,t,r){var n=e("../internals/array-from-constructor-and-list"),s=e("../internals/typed-array-species-constructor");t.exports=function(e,t){return n(s(e),t)}},{"../internals/array-from-constructor-and-list":44,"../internals/typed-array-species-constructor":184}],183:[function(e,t,r){var f=e("../internals/to-object"),m=e("../internals/to-length"),y=e("../internals/get-iterator-method"),g=e("../internals/is-array-iterator-method"),v=e("../internals/function-bind-context"),b=e("../internals/array-buffer-view-core").aTypedArrayConstructor;t.exports=function(e,t,r){var n,s,i,a,o,l,u=f(e),c=arguments.length,d=1<c?t:void 0,p=void 0!==d,h=y(u);if(null!=h&&!g(h))for(l=(o=h.call(u)).next,u=[];!(a=l.call(o)).done;)u.push(a.value);for(p&&2<c&&(d=v(d,r,2)),s=m(u.length),i=new(b(this))(s),n=0;n<s;n++)i[n]=p?d(u[n],n):u[n];return i}},{"../internals/array-buffer-view-core":39,"../internals/function-bind-context":88,"../internals/get-iterator-method":90,"../internals/is-array-iterator-method":105,"../internals/to-length":172,"../internals/to-object":173}],184:[function(e,t,r){var n=e("../internals/array-buffer-view-core"),s=e("../internals/species-constructor"),i=n.TYPED_ARRAY_CONSTRUCTOR,a=n.aTypedArrayConstructor;t.exports=function(e){return a(s(e,e[i]))}},{"../internals/array-buffer-view-core":39,"../internals/species-constructor":160}],185:[function(e,t,r){var n=0,s=Math.random();t.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+s).toString(36)}},{}],186:[function(e,t,r){var n=e("../internals/native-symbol");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":119}],187:[function(e,t,r){var n=e("../internals/well-known-symbol");r.f=n},{"../internals/well-known-symbol":188}],188:[function(e,t,r){var n=e("../internals/global"),s=e("../internals/shared"),i=e("../internals/has"),a=e("../internals/uid"),o=e("../internals/native-symbol"),l=e("../internals/use-symbol-as-uid"),u=s("wks"),c=n.Symbol,d=l?c:c&&c.withoutSetter||a;t.exports=function(e){return i(u,e)&&(o||"string"==typeof u[e])||(o&&i(c,e)?u[e]=c[e]:u[e]=d("Symbol."+e)),u[e]}},{"../internals/global":93,"../internals/has":94,"../internals/native-symbol":119,"../internals/shared":159,"../internals/uid":185,"../internals/use-symbol-as-uid":186}],189:[function(e,t,r){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},{}],190:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/global"),i=e("../internals/array-buffer"),a=e("../internals/set-species"),o="ArrayBuffer",l=i[o];n({global:!0,forced:s[o]!==l},{ArrayBuffer:l}),a(o)},{"../internals/array-buffer":40,"../internals/export":84,"../internals/global":93,"../internals/set-species":155}],191:[function(e,t,r){var n=e("../internals/export"),s=e("../internals/array-buffer-view-core");n({target:"ArrayBuffer",stat:!0,forced:!s.NATIVE_ARRAY_BUFFER_VIEWS},{isView:s.isView})},{"../internals/array-buffer-view-core":39,"../internals/export":84}],192:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/fails"),i=e("../internals/array-buffer"),u=e("../internals/an-object"),c=e("../internals/to-absolute-index"),d=e("../internals/to-length"),p=e("../internals/species-constructor"),h=i.ArrayBuffer,f=i.DataView,m=h.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:s(function(){return!new h(2).slice(1,void 0).byteLength})},{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(u(this),e);for(var r=u(this).byteLength,n=c(e,r),s=c(void 0===t?r:t,r),i=new(p(this,h))(d(s-n)),a=new f(this),o=new f(i),l=0;n<s;)o.setUint8(l++,a.getUint8(n++));return i}})},{"../internals/an-object":37,"../internals/array-buffer":40,"../internals/export":84,"../internals/fails":85,"../internals/species-constructor":160,"../internals/to-absolute-index":168,"../internals/to-length":172}],193:[function(e,t,r){"use strict";function u(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:i(e)}var n=e("../internals/export"),s=e("../internals/fails"),i=e("../internals/is-array"),a=e("../internals/is-object"),c=e("../internals/to-object"),d=e("../internals/to-length"),p=e("../internals/create-property"),h=e("../internals/array-species-create"),o=e("../internals/array-method-has-species-support"),l=e("../internals/well-known-symbol"),f=e("../internals/engine-v8-version"),m=l("isConcatSpreadable"),y=9007199254740991,g="Maximum allowed index exceeded",v=51<=f||!s(function(){var e=[];return e[m]=!1,e.concat()[0]!==e}),b=o("concat");n({target:"Array",proto:!0,forced:!v||!b},{concat:function(e){var t,r,n,s,i,a=c(this),o=h(a,0),l=0;for(t=-1,n=arguments.length;t<n;t++)if(u(i=-1===t?a:arguments[t])){if(s=d(i.length),y<l+s)throw TypeError(g);for(r=0;r<s;r++,l++)r in i&&p(o,l,i[r])}else{if(y<=l)throw TypeError(g);p(o,l++,i)}return o.length=l,o}})},{"../internals/array-method-has-species-support":49,"../internals/array-species-create":54,"../internals/create-property":67,"../internals/engine-v8-version":81,"../internals/export":84,"../internals/fails":85,"../internals/is-array":106,"../internals/is-object":109,"../internals/to-length":172,"../internals/to-object":173,"../internals/well-known-symbol":188}],194:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/array-iteration").every;n({target:"Array",proto:!0,forced:!e("../internals/array-method-is-strict")("every")},{every:function(e,t){return s(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":47,"../internals/array-method-is-strict":50,"../internals/export":84}],195:[function(e,t,r){var n=e("../internals/export"),s=e("../internals/array-fill"),i=e("../internals/add-to-unscopables");n({target:"Array",proto:!0},{fill:s}),i("fill")},{"../internals/add-to-unscopables":34,"../internals/array-fill":42,"../internals/export":84}],196:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/array-iteration").filter;n({target:"Array",proto:!0,forced:!e("../internals/array-method-has-species-support")("filter")},{filter:function(e,t){return s(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":47,"../internals/array-method-has-species-support":49,"../internals/export":84}],197:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/array-iteration").findIndex,i=e("../internals/add-to-unscopables"),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),n({target:"Array",proto:!0,forced:o},{findIndex:function(e,t){return s(this,e,1<arguments.length?t:void 0)}}),i(a)},{"../internals/add-to-unscopables":34,"../internals/array-iteration":47,"../internals/export":84}],198:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/array-iteration").find,i=e("../internals/add-to-unscopables"),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),n({target:"Array",proto:!0,forced:a},{find:function(e,t){return s(this,e,1<arguments.length?t:void 0)}}),i("find")},{"../internals/add-to-unscopables":34,"../internals/array-iteration":47,"../internals/export":84}],199:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/array-for-each");n({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},{"../internals/array-for-each":43,"../internals/export":84}],200:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/array-includes").indexOf,i=e("../internals/array-method-is-strict"),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0,l=i("indexOf");n({target:"Array",proto:!0,forced:o||!l},{indexOf:function(e,t){return o?a.apply(this,arguments)||0:s(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-includes":46,"../internals/array-method-is-strict":50,"../internals/export":84}],201:[function(e,t,r){"use strict";var n=e("../internals/to-indexed-object"),s=e("../internals/add-to-unscopables"),i=e("../internals/iterators"),a=e("../internals/internal-state"),o=e("../internals/define-iterator"),l="Array Iterator",u=a.set,c=a.getterFor(l);t.exports=o(Array,"Array",function(e,t){u(this,{type:l,target:n(e),index:0,kind:t})},function(){var e=c(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?{value:e.target=void 0,done:!0}:"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}},"values"),i.Arguments=i.Array,s("keys"),s("values"),s("entries")},{"../internals/add-to-unscopables":34,"../internals/define-iterator":68,"../internals/internal-state":104,"../internals/iterators":116,"../internals/to-indexed-object":170}],202:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/indexed-object"),i=e("../internals/to-indexed-object"),a=e("../internals/array-method-is-strict"),o=[].join,l=s!=Object,u=a("join",",");n({target:"Array",proto:!0,forced:l||!u},{join:function(e){return o.call(i(this),void 0===e?",":e)}})},{"../internals/array-method-is-strict":50,"../internals/export":84,"../internals/indexed-object":100,"../internals/to-indexed-object":170}],203:[function(e,t,r){var n=e("../internals/export"),s=e("../internals/array-last-index-of");n({target:"Array",proto:!0,forced:s!==[].lastIndexOf},{lastIndexOf:s})},{"../internals/array-last-index-of":48,"../internals/export":84}],204:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/array-iteration").map;n({target:"Array",proto:!0,forced:!e("../internals/array-method-has-species-support")("map")},{map:function(e,t){return s(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":47,"../internals/array-method-has-species-support":49,"../internals/export":84}],205:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/array-reduce").right,i=e("../internals/array-method-is-strict"),a=e("../internals/engine-v8-version"),o=e("../internals/engine-is-node");n({target:"Array",proto:!0,forced:!i("reduceRight")||!o&&79<a&&a<83},{reduceRight:function(e,t){return s(this,e,arguments.length,1<arguments.length?t:void 0)}})},{"../internals/array-method-is-strict":50,"../internals/array-reduce":51,"../internals/engine-is-node":78,"../internals/engine-v8-version":81,"../internals/export":84}],206:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/array-reduce").left,i=e("../internals/array-method-is-strict"),a=e("../internals/engine-v8-version"),o=e("../internals/engine-is-node");n({target:"Array",proto:!0,forced:!i("reduce")||!o&&79<a&&a<83},{reduce:function(e,t){return s(this,e,arguments.length,1<arguments.length?t:void 0)}})},{"../internals/array-method-is-strict":50,"../internals/array-reduce":51,"../internals/engine-is-node":78,"../internals/engine-v8-version":81,"../internals/export":84}],207:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/is-array"),i=[].reverse,a=[1,2];n({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return s(this)&&(this.length=this.length),i.call(this)}})},{"../internals/export":84,"../internals/is-array":106}],208:[function(e,t,r){"use strict";var n=e("../internals/export"),u=e("../internals/is-object"),c=e("../internals/is-array"),d=e("../internals/to-absolute-index"),p=e("../internals/to-length"),h=e("../internals/to-indexed-object"),f=e("../internals/create-property"),s=e("../internals/well-known-symbol"),i=e("../internals/array-method-has-species-support")("slice"),m=s("species"),y=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!i},{slice:function(e,t){var r,n,s,i=h(this),a=p(i.length),o=d(e,a),l=d(void 0===t?a:t,a);if(c(i)&&("function"!=typeof(r=i.constructor)||r!==Array&&!c(r.prototype)?u(r)&&null===(r=r[m])&&(r=void 0):r=void 0,r===Array||void 0===r))return y.call(i,o,l);for(n=new(void 0===r?Array:r)(g(l-o,0)),s=0;o<l;o++,s++)o in i&&f(n,s,i[o]);return n.length=s,n}})},{"../internals/array-method-has-species-support":49,"../internals/create-property":67,"../internals/export":84,"../internals/is-array":106,"../internals/is-object":109,"../internals/to-absolute-index":168,"../internals/to-indexed-object":170,"../internals/to-length":172,"../internals/well-known-symbol":188}],209:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/array-iteration").some;n({target:"Array",proto:!0,forced:!e("../internals/array-method-is-strict")("some")},{some:function(e,t){return s(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":47,"../internals/array-method-is-strict":50,"../internals/export":84}],210:[function(e,t,r){"use strict";var n=e("../internals/export"),o=e("../internals/a-function"),l=e("../internals/to-object"),u=e("../internals/to-length"),c=e("../internals/to-string"),s=e("../internals/fails"),d=e("../internals/array-sort"),i=e("../internals/array-method-is-strict"),a=e("../internals/engine-ff-version"),p=e("../internals/engine-is-ie-or-edge"),h=e("../internals/engine-v8-version"),f=e("../internals/engine-webkit-version"),m=[],y=m.sort,g=s(function(){m.sort(void 0)}),v=s(function(){m.sort(null)}),b=i("sort"),_=!s(function(){if(h)return h<70;if(!(a&&3<a)){if(p)return!0;if(f)return f<603;var e,t,r,n,s="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)m.push({k:t+n,v:r})}for(m.sort(function(e,t){return t.v-e.v}),n=0;n<m.length;n++)t=m[n].k.charAt(0),s.charAt(s.length-1)!==t&&(s+=t);return"DGBEFHACIJK"!==s}});n({target:"Array",proto:!0,forced:g||!v||!b||!_},{sort:function(e){void 0!==e&&o(e);var t=l(this);if(_)return void 0===e?y.call(t):y.call(t,e);var r,n,s,i=[],a=u(t.length);for(n=0;n<a;n++)n in t&&i.push(t[n]);for(r=(i=d(i,(s=e,function(e,t){return void 0===t?-1:void 0===e?1:void 0!==s?+s(e,t)||0:c(e)>c(t)?1:-1}))).length,n=0;n<r;)t[n]=i[n++];for(;n<a;)delete t[n++];return t}})},{"../internals/a-function":32,"../internals/array-method-is-strict":50,"../internals/array-sort":52,"../internals/engine-ff-version":73,"../internals/engine-is-ie-or-edge":75,"../internals/engine-v8-version":81,"../internals/engine-webkit-version":82,"../internals/export":84,"../internals/fails":85,"../internals/to-length":172,"../internals/to-object":173,"../internals/to-string":179}],211:[function(e,t,r){"use strict";var n=e("../internals/export"),p=e("../internals/to-absolute-index"),h=e("../internals/to-integer"),f=e("../internals/to-length"),m=e("../internals/to-object"),y=e("../internals/array-species-create"),g=e("../internals/create-property"),s=e("../internals/array-method-has-species-support")("splice"),v=Math.max,b=Math.min;n({target:"Array",proto:!0,forced:!s},{splice:function(e,t){var r,n,s,i,a,o,l=m(this),u=f(l.length),c=p(e,u),d=arguments.length;if(0===d?r=n=0:n=1===d?(r=0,u-c):(r=d-2,b(v(h(t),0),u-c)),9007199254740991<u+r-n)throw TypeError("Maximum allowed length exceeded");for(s=y(l,n),i=0;i<n;i++)(a=c+i)in l&&g(s,i,l[a]);if(r<(s.length=n)){for(i=c;i<u-n;i++)o=i+r,(a=i+n)in l?l[o]=l[a]:delete l[o];for(i=u;u-n+r<i;i--)delete l[i-1]}else if(n<r)for(i=u-n;c<i;i--)o=i+r-1,(a=i+n-1)in l?l[o]=l[a]:delete l[o];for(i=0;i<r;i++)l[i+c]=arguments[i+2];return l.length=u-n+r,s}})},{"../internals/array-method-has-species-support":49,"../internals/array-species-create":54,"../internals/create-property":67,"../internals/export":84,"../internals/to-absolute-index":168,"../internals/to-integer":171,"../internals/to-length":172,"../internals/to-object":173}],212:[function(e,t,r){var n=e("../internals/export"),s=e("../internals/array-buffer");n({global:!0,forced:!e("../internals/array-buffer-native")},{DataView:s.DataView})},{"../internals/array-buffer":40,"../internals/array-buffer-native":38,"../internals/export":84}],213:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/fails"),i=e("../internals/to-object"),a=e("../internals/to-primitive");n({target:"Date",proto:!0,forced:s(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(){var e=i(this),t=a(e,"number");return"number"!=typeof t||isFinite(t)?e.toISOString():null}})},{"../internals/export":84,"../internals/fails":85,"../internals/to-object":173,"../internals/to-primitive":176}],214:[function(e,t,r){var n=e("../internals/descriptors"),s=e("../internals/object-define-property").f,i=Function.prototype,a=i.toString,o=/^\s*function ([^ (]*)/;!n||"name"in i||s(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(e){return""}}})},{"../internals/descriptors":70,"../internals/object-define-property":128}],215:[function(e,t,r){"use strict";var n=e("../internals/collection"),s=e("../internals/collection-strong");t.exports=n("Map",function(t){return function(e){return t(this,arguments.length?e:void 0)}},s)},{"../internals/collection":61,"../internals/collection-strong":59}],216:[function(e,t,r){"use strict";function n(e){if(d(e))throw TypeError("Cannot convert a Symbol value to a number");var t,r,n,s,i,a,o,l,u=p(e,"number");if("string"==typeof u&&2<u.length)if(43===(t=(u=v(u)).charCodeAt(0))||45===t){if(88===(r=u.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+u}for(a=(i=u.slice(2)).length,o=0;o<a;o++)if((l=i.charCodeAt(o))<48||s<l)return NaN;return parseInt(i,n)}return+u}var s=e("../internals/descriptors"),i=e("../internals/global"),a=e("../internals/is-forced"),o=e("../internals/redefine"),l=e("../internals/has"),u=e("../internals/classof-raw"),c=e("../internals/inherit-if-required"),d=e("../internals/is-symbol"),p=e("../internals/to-primitive"),h=e("../internals/fails"),f=e("../internals/object-create"),m=e("../internals/object-get-own-property-names").f,y=e("../internals/object-get-own-property-descriptor").f,g=e("../internals/object-define-property").f,v=e("../internals/string-trim").trim,b="Number",_=i[b],j=_.prototype,T=u(f(j))==b;if(a(b,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var S,w=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof w&&(T?h(function(){j.valueOf.call(r)}):u(r)!=b)?c(new _(n(t)),r,w):n(t)},E=s?m(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),k=0;E.length>k;k++)l(_,S=E[k])&&!l(w,S)&&g(w,S,y(_,S));(w.prototype=j).constructor=w,o(i,b,w)}},{"../internals/classof-raw":57,"../internals/descriptors":70,"../internals/fails":85,"../internals/global":93,"../internals/has":94,"../internals/inherit-if-required":101,"../internals/is-forced":107,"../internals/is-symbol":112,"../internals/object-create":126,"../internals/object-define-property":128,"../internals/object-get-own-property-descriptor":129,"../internals/object-get-own-property-names":131,"../internals/redefine":145,"../internals/string-trim":165,"../internals/to-primitive":176}],217:[function(e,t,r){"use strict";function c(e,t,r){for(var n=-1,s=r;++n<6;)s+=t*e[n],e[n]=s%1e7,s=a(s/1e7)}function d(e,t){for(var r=6,n=0;0<=--r;)n+=e[r],e[r]=a(n/t),n=n%t*1e7}function p(e){for(var t=6,r="";0<=--t;)if(""!==r||0===t||0!==e[t]){var n=String(e[t]);r=""===r?n:r+m.call("0",7-n.length)+n}return r}var n=e("../internals/export"),h=e("../internals/to-integer"),f=e("../internals/this-number-value"),m=e("../internals/string-repeat"),s=e("../internals/fails"),i=1..toFixed,a=Math.floor,y=function(e,t,r){return 0===t?r:t%2==1?y(e,t-1,r*e):y(e*e,t/2,r)};n({target:"Number",proto:!0,forced:i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s(function(){i.call({})})},{toFixed:function(e){var t,r,n,s,i=f(this),a=h(e),o=[0,0,0,0,0,0],l="",u="0";if(a<0||20<a)throw RangeError("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||1e21<=i)return String(i);if(i<0&&(l="-",i=-i),1e-21<i)if(r=(t=function(e){for(var t=0,r=e;4096<=r;)t+=12,r/=4096;for(;2<=r;)t+=1,r/=2;return t}(i*y(2,69,1))-69)<0?i*y(2,-t,1):i/y(2,t,1),r*=4503599627370496,0<(t=52-t)){for(c(o,0,r),n=a;7<=n;)c(o,1e7,0),n-=7;for(c(o,y(10,n,1),0),n=t-1;23<=n;)d(o,1<<23),n-=23;d(o,1<<n),c(o,1,1),d(o,2),u=p(o)}else c(o,0,r),c(o,1<<-t,0),u=p(o)+m.call("0",a);return u=0<a?l+((s=u.length)<=a?"0."+m.call("0",a-s)+u:u.slice(0,s-a)+"."+u.slice(s-a)):l+u}})},{"../internals/export":84,"../internals/fails":85,"../internals/string-repeat":163,"../internals/this-number-value":167,"../internals/to-integer":171}],218:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/fails"),i=e("../internals/this-number-value"),a=1..toPrecision;n({target:"Number",proto:!0,forced:s(function(){return"1"!==a.call(1,void 0)})||!s(function(){a.call({})})},{toPrecision:function(e){return void 0===e?a.call(i(this)):a.call(i(this),e)}})},{"../internals/export":84,"../internals/fails":85,"../internals/this-number-value":167}],219:[function(e,t,r){var n=e("../internals/export"),s=e("../internals/object-assign");n({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},{"../internals/export":84,"../internals/object-assign":125}],220:[function(e,t,r){var n=e("../internals/export"),s=e("../internals/freezing"),i=e("../internals/fails"),a=e("../internals/is-object"),o=e("../internals/internal-metadata").onFreeze,l=Object.freeze;n({target:"Object",stat:!0,forced:i(function(){l(1)}),sham:!s},{freeze:function(e){return l&&a(e)?l(o(e)):e}})},{"../internals/export":84,"../internals/fails":85,"../internals/freezing":87,"../internals/internal-metadata":103,"../internals/is-object":109}],221:[function(e,t,r){var n=e("../internals/export"),s=e("../internals/fails"),i=e("../internals/to-indexed-object"),a=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/descriptors"),l=s(function(){a(1)});n({target:"Object",stat:!0,forced:!o||l,sham:!o},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},{"../internals/descriptors":70,"../internals/export":84,"../internals/fails":85,"../internals/object-get-own-property-descriptor":129,"../internals/to-indexed-object":170}],222:[function(e,t,r){var n=e("../internals/export"),s=e("../internals/fails"),i=e("../internals/object-get-own-property-names-external").f;n({target:"Object",stat:!0,forced:s(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:i})},{"../internals/export":84,"../internals/fails":85,"../internals/object-get-own-property-names-external":130}],223:[function(e,t,r){var n=e("../internals/export"),s=e("../internals/fails"),i=e("../internals/to-object"),a=e("../internals/object-get-prototype-of"),o=e("../internals/correct-prototype-getter");n({target:"Object",stat:!0,forced:s(function(){a(1)}),sham:!o},{getPrototypeOf:function(e){return a(i(e))}})},{"../internals/correct-prototype-getter":63,"../internals/export":84,"../internals/fails":85,"../internals/object-get-prototype-of":133,"../internals/to-object":173}],224:[function(e,t,r){var n=e("../internals/export"),s=e("../internals/to-object"),i=e("../internals/object-keys");n({target:"Object",stat:!0,forced:e("../internals/fails")(function(){i(1)})},{keys:function(e){return i(s(e))}})},{"../internals/export":84,"../internals/fails":85,"../internals/object-keys":135,"../internals/to-object":173}],225:[function(e,t,r){e("../internals/export")({target:"Object",stat:!0},{setPrototypeOf:e("../internals/object-set-prototype-of")})},{"../internals/export":84,"../internals/object-set-prototype-of":137}],226:[function(e,t,r){var n=e("../internals/to-string-tag-support"),s=e("../internals/redefine"),i=e("../internals/object-to-string");n||s(Object.prototype,"toString",i,{unsafe:!0})},{"../internals/object-to-string":138,"../internals/redefine":145,"../internals/to-string-tag-support":178}],227:[function(e,t,r){var n=e("../internals/export"),s=e("../internals/number-parse-float");n({global:!0,forced:parseFloat!=s},{parseFloat:s})},{"../internals/export":84,"../internals/number-parse-float":123}],228:[function(e,t,r){var n=e("../internals/export"),s=e("../internals/number-parse-int");n({global:!0,forced:parseInt!=s},{parseInt:s})},{"../internals/export":84,"../internals/number-parse-int":124}],229:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/is-pure"),i=e("../internals/native-promise-constructor"),a=e("../internals/fails"),o=e("../internals/get-built-in"),l=e("../internals/species-constructor"),u=e("../internals/promise-resolve"),c=e("../internals/redefine");if(n({target:"Promise",proto:!0,real:!0,forced:!!i&&a(function(){i.prototype.finally.call({then:function(){}},function(){})})},{finally:function(t){var r=l(this,o("Promise")),e="function"==typeof t;return this.then(e?function(e){return u(r,t()).then(function(){return e})}:t,e?function(e){return u(r,t()).then(function(){throw e})}:t)}}),!s&&"function"==typeof i){var d=o("Promise").prototype.finally;i.prototype.finally!==d&&c(i.prototype,"finally",d,{unsafe:!0})}},{"../internals/export":84,"../internals/fails":85,"../internals/get-built-in":89,"../internals/is-pure":110,"../internals/native-promise-constructor":118,"../internals/promise-resolve":143,"../internals/redefine":145,"../internals/species-constructor":160}],230:[function(e,t,r){"use strict";function f(e){var t;return!(!T(e)||"function"!=typeof(t=e.then))&&t}function s(d,p){if(!d.notified){d.notified=!0;var h=d.reactions;I(function(){for(var e=d.value,t=1==d.state,r=0;h.length>r;){var n,s,i,a=h[r++],o=t?a.ok:a.fail,l=a.resolve,u=a.reject,c=a.domain;try{o?(t||(2===d.rejection&&le(d),d.rejection=1),!0===o?n=e:(c&&c.enter(),n=o(e),c&&(c.exit(),i=!0)),n===a.promise?u(K("Promise-chain cycle")):(s=f(n))?s.call(n,l,u):l(n)):u(e)}catch(e){c&&!i&&c.exit(),u(e)}}d.reactions=[],d.notified=!1,p&&!d.rejection&&ae(d)})}}function i(e,t,r){var n,s;ee?((n=$.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),h.dispatchEvent(n)):n={promise:t,reason:r},!te&&(s=h["on"+e])?s(n):e===re&&L("Unhandled promise rejection",r)}function a(t,r,n){return function(e){t(r,e,n)}}function o(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,s(e,!0))}var n,l,u,c,d=e("../internals/export"),p=e("../internals/is-pure"),h=e("../internals/global"),m=e("../internals/get-built-in"),y=e("../internals/native-promise-constructor"),g=e("../internals/redefine"),v=e("../internals/redefine-all"),b=e("../internals/object-set-prototype-of"),_=e("../internals/set-to-string-tag"),j=e("../internals/set-species"),T=e("../internals/is-object"),S=e("../internals/a-function"),w=e("../internals/an-instance"),E=e("../internals/inspect-source"),k=e("../internals/iterate"),x=e("../internals/check-correctness-of-iteration"),C=e("../internals/species-constructor"),A=e("../internals/task").set,I=e("../internals/microtask"),P=e("../internals/promise-resolve"),L=e("../internals/host-report-errors"),O=e("../internals/new-promise-capability"),R=e("../internals/perform"),D=e("../internals/internal-state"),U=e("../internals/is-forced"),M=e("../internals/well-known-symbol"),N=e("../internals/engine-is-browser"),B=e("../internals/engine-is-node"),F=e("../internals/engine-v8-version"),H=M("species"),q="Promise",V=D.get,G=D.set,z=D.getterFor(q),W=y&&y.prototype,Y=y,X=W,K=h.TypeError,$=h.document,Q=h.process,J=O.f,Z=J,ee=!!($&&$.createEvent&&h.dispatchEvent),te="function"==typeof PromiseRejectionEvent,re="unhandledrejection",ne=!1,se=U(q,function(){var e=E(Y),t=e!==String(Y);if(!t&&66===F)return!0;if(p&&!X.finally)return!0;if(51<=F&&/native code/.test(e))return!1;function r(e){e(function(){},function(){})}var n=new Y(function(e){e(1)});return(n.constructor={})[H]=r,!(ne=n.then(function(){})instanceof r)||!t&&N&&!te}),ie=se||!x(function(e){Y.all(e).catch(function(){})}),ae=function(n){A.call(h,function(){var e,t=n.facade,r=n.value;if(oe(n)&&(e=R(function(){B?Q.emit("unhandledRejection",r,t):i(re,t,r)}),n.rejection=B||oe(n)?2:1,e.error))throw e.value})},oe=function(e){return 1!==e.rejection&&!e.parent},le=function(t){A.call(h,function(){var e=t.facade;B?Q.emit("rejectionHandled",e):i("rejectionhandled",e,t.value)})},ue=function(r,e,t){if(!r.done){r.done=!0,t&&(r=t);try{if(r.facade===e)throw K("Promise can't be resolved itself");var n=f(e);n?I(function(){var t={done:!1};try{n.call(e,a(ue,t,r),a(o,t,r))}catch(e){o(t,e,r)}}):(r.value=e,r.state=1,s(r,!1))}catch(e){o({done:!1},e,r)}}};if(se&&(X=(Y=function(e){w(this,Y,q),S(e),n.call(this);var t=V(this);try{e(a(ue,t),a(o,t))}catch(e){o(t,e)}}).prototype,(n=function(){G(this,{type:q,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=v(X,{then:function(e,t){var r=z(this),n=J(C(this,Y));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=B?Q.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&s(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),l=function(){var e=new n,t=V(e);this.promise=e,this.resolve=a(ue,t),this.reject=a(o,t)},O.f=J=function(e){return e===Y||e===u?new l(e):Z(e)},!p&&"function"==typeof y&&W!==Object.prototype)){c=W.then,ne||(g(W,"then",function(e,t){var r=this;return new Y(function(e,t){c.call(r,e,t)}).then(e,t)},{unsafe:!0}),g(W,"catch",X.catch,{unsafe:!0}));try{delete W.constructor}catch(e){}b&&b(W,X)}d({global:!0,wrap:!0,forced:se},{Promise:Y}),_(Y,q,!1,!0),j(q),u=m(q),d({target:q,stat:!0,forced:se},{reject:function(e){var t=J(this);return t.reject.call(void 0,e),t.promise}}),d({target:q,stat:!0,forced:p||se},{resolve:function(e){return P(p&&this===u?Y:this,e)}}),d({target:q,stat:!0,forced:ie},{all:function(e){var o=this,t=J(o),l=t.resolve,u=t.reject,r=R(function(){var n=S(o.resolve),s=[],i=0,a=1;k(e,function(e){var t=i++,r=!1;s.push(void 0),a++,n.call(o,e).then(function(e){r||(r=!0,s[t]=e,--a||l(s))},u)}),--a||l(s)});return r.error&&u(r.value),t.promise},race:function(e){var r=this,n=J(r),s=n.reject,t=R(function(){var t=S(r.resolve);k(e,function(e){t.call(r,e).then(n.resolve,s)})});return t.error&&s(t.value),n.promise}})},{"../internals/a-function":32,"../internals/an-instance":36,"../internals/check-correctness-of-iteration":56,"../internals/engine-is-browser":74,"../internals/engine-is-node":78,"../internals/engine-v8-version":81,"../internals/export":84,"../internals/get-built-in":89,"../internals/global":93,"../internals/host-report-errors":96,"../internals/inspect-source":102,"../internals/internal-state":104,"../internals/is-forced":107,"../internals/is-object":109,"../internals/is-pure":110,"../internals/iterate":113,"../internals/microtask":117,"../internals/native-promise-constructor":118,"../internals/new-promise-capability":122,"../internals/object-set-prototype-of":137,"../internals/perform":142,"../internals/promise-resolve":143,"../internals/redefine":145,"../internals/redefine-all":144,"../internals/set-species":155,"../internals/set-to-string-tag":156,"../internals/species-constructor":160,"../internals/task":166,"../internals/well-known-symbol":188}],231:[function(e,t,r){var n=e("../internals/descriptors"),s=e("../internals/global"),i=e("../internals/is-forced"),h=e("../internals/inherit-if-required"),f=e("../internals/create-non-enumerable-property"),a=e("../internals/object-define-property").f,o=e("../internals/object-get-own-property-names").f,m=e("../internals/is-regexp"),y=e("../internals/to-string"),g=e("../internals/regexp-flags"),l=e("../internals/regexp-sticky-helpers"),u=e("../internals/redefine"),c=e("../internals/fails"),v=e("../internals/has"),b=e("../internals/internal-state").enforce,d=e("../internals/set-species"),p=e("../internals/well-known-symbol"),_=e("../internals/regexp-unsupported-dot-all"),j=e("../internals/regexp-unsupported-ncg"),T=p("match"),S=s.RegExp,w=S.prototype,E=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,k=/a/g,x=/a/g,C=new S(k)!==k,A=l.UNSUPPORTED_Y,I=n&&(!C||A||_||j||c(function(){return x[T]=!1,S(k)!=k||S(x)==x||"/a/i"!=S(k,"i")}));if(i("RegExp",I)){function P(t){t in L||a(L,t,{configurable:!0,get:function(){return S[t]},set:function(e){S[t]=e}})}for(var L=function(e,t){var r,n,s,i,a,o,l=this instanceof L,u=m(e),c=void 0===t,d=[],p=e;if(!l&&u&&c&&e.constructor===L)return e;if((u||e instanceof L)&&(e=e.source,c&&(t="flags"in p?p.flags:g.call(p))),e=void 0===e?"":y(e),t=void 0===t?"":y(t),p=e,_&&"dotAll"in k&&(n=!!t&&-1<t.indexOf("s"))&&(t=t.replace(/s/g,"")),r=t,A&&"sticky"in k&&(s=!!t&&-1<t.indexOf("y"))&&(t=t.replace(/y/g,"")),j&&(e=(i=function(e){for(var t,r=e.length,n=0,s="",i=[],a={},o=!1,l=!1,u=0,c="";n<=r;n++){if("\\"===(t=e.charAt(n)))t+=e.charAt(++n);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:E.test(e.slice(n+1))&&(n+=2,l=!0),s+=t,u++;continue;case">"===t&&l:if(""===c||v(a,c))throw new SyntaxError("Invalid capture group name");a[c]=!0,i.push([c,u]),l=!1,c="";continue}l?c+=t:s+=t}return[s,i]}(e))[0],d=i[1]),a=h(S(e,t),l?this:w,L),(n||s||d.length)&&(o=b(a),n&&(o.dotAll=!0,o.raw=L(function(e){for(var t,r=e.length,n=0,s="",i=!1;n<=r;n++)"\\"!==(t=e.charAt(n))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),s+=t):s+="[\\s\\S]":s+=t+e.charAt(++n);return s}(e),r)),s&&(o.sticky=!0),d.length&&(o.groups=d)),e!==p)try{f(a,"source",""===p?"(?:)":p)}catch(e){}return a},O=o(S),R=0;O.length>R;)P(O[R++]);(w.constructor=L).prototype=w,u(s,"RegExp",L)}d("RegExp")},{"../internals/create-non-enumerable-property":65,"../internals/descriptors":70,"../internals/fails":85,"../internals/global":93,"../internals/has":94,"../internals/inherit-if-required":101,"../internals/internal-state":104,"../internals/is-forced":107,"../internals/is-regexp":111,"../internals/object-define-property":128,"../internals/object-get-own-property-names":131,"../internals/redefine":145,"../internals/regexp-flags":148,"../internals/regexp-sticky-helpers":149,"../internals/regexp-unsupported-dot-all":150,"../internals/regexp-unsupported-ncg":151,"../internals/set-species":155,"../internals/to-string":179,"../internals/well-known-symbol":188}],232:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/regexp-exec");n({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},{"../internals/export":84,"../internals/regexp-exec":147}],233:[function(e,t,r){var n=e("../internals/descriptors"),s=e("../internals/object-define-property"),i=e("../internals/regexp-flags"),a=e("../internals/fails");n&&a(function(){return"sy"!==Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get.call({dotAll:!0,sticky:!0})})&&s.f(RegExp.prototype,"flags",{configurable:!0,get:i})},{"../internals/descriptors":70,"../internals/fails":85,"../internals/object-define-property":128,"../internals/regexp-flags":148}],234:[function(e,t,r){"use strict";var n=e("../internals/redefine"),s=e("../internals/an-object"),i=e("../internals/to-string"),a=e("../internals/fails"),o=e("../internals/regexp-flags"),l="toString",u=RegExp.prototype,c=u[l],d=a(function(){return"/a/b"!=c.call({source:"a",flags:"b"})}),p=c.name!=l;(d||p)&&n(RegExp.prototype,l,function(){var e=s(this),t=i(e.source),r=e.flags;return"/"+t+"/"+i(void 0===r&&e instanceof RegExp&&!("flags"in u)?o.call(e):r)},{unsafe:!0})},{"../internals/an-object":37,"../internals/fails":85,"../internals/redefine":145,"../internals/regexp-flags":148,"../internals/to-string":179}],235:[function(e,t,r){"use strict";var s=e("../internals/string-multibyte").charAt,n=e("../internals/to-string"),i=e("../internals/internal-state"),a=e("../internals/define-iterator"),o="String Iterator",l=i.set,u=i.getterFor(o);a(String,"String",function(e){l(this,{type:o,string:n(e),index:0})},function(){var e,t=u(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=s(r,n),t.index+=e.length,{value:e,done:!1})})},{"../internals/define-iterator":68,"../internals/internal-state":104,"../internals/string-multibyte":161,"../internals/to-string":179}],236:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),d=e("../internals/an-object"),p=e("../internals/to-length"),h=e("../internals/to-string"),s=e("../internals/require-object-coercible"),f=e("../internals/advance-string-index"),m=e("../internals/regexp-exec-abstract");n("match",function(n,u,c){return[function(e){var t=s(this),r=null==e?void 0:e[n];return void 0!==r?r.call(e,t):new RegExp(e)[n](h(t))},function(e){var t=d(this),r=h(e),n=c(u,t,r);if(n.done)return n.value;if(!t.global)return m(t,r);for(var s,i=t.unicode,a=[],o=t.lastIndex=0;null!==(s=m(t,r));){var l=h(s[0]);""===(a[o]=l)&&(t.lastIndex=f(r,p(t.lastIndex),i)),o++}return 0===o?null:a}]})},{"../internals/advance-string-index":35,"../internals/an-object":37,"../internals/fix-regexp-well-known-symbol-logic":86,"../internals/regexp-exec-abstract":146,"../internals/require-object-coercible":152,"../internals/to-length":172,"../internals/to-string":179}],237:[function(e,t,r){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":84,"../internals/string-repeat":163}],238:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),s=e("../internals/fails"),w=e("../internals/an-object"),E=e("../internals/to-integer"),k=e("../internals/to-length"),x=e("../internals/to-string"),i=e("../internals/require-object-coercible"),C=e("../internals/advance-string-index"),A=e("../internals/get-substitution"),I=e("../internals/regexp-exec-abstract"),a=e("../internals/well-known-symbol")("replace"),P=Math.max,L=Math.min,o="$0"==="a".replace(/./,"$0"),l=!!/./[a]&&""===/./[a]("a","$0");n("replace",function(e,j,T){var S=l?"$":"$0";return[function(e,t){var r=i(this),n=null==e?void 0:e[a];return void 0!==n?n.call(e,r,t):j.call(x(r),e,t)},function(e,t){var r=w(this),n=x(e);if("string"==typeof t&&-1===t.indexOf(S)&&-1===t.indexOf("$<")){var s=T(j,r,n,t);if(s.done)return s.value}var i="function"==typeof t;i||(t=x(t));var a=r.global;if(a){var o=r.unicode;r.lastIndex=0}for(var l=[];;){var u=I(r,n);if(null===u)break;if(l.push(u),!a)break;""===x(u[0])&&(r.lastIndex=C(n,k(r.lastIndex),o))}for(var c,d="",p=0,h=0;h<l.length;h++){u=l[h];for(var f=x(u[0]),m=P(L(E(u.index),n.length),0),y=[],g=1;g<u.length;g++)y.push(void 0===(c=u[g])?c:String(c));var v=u.groups;if(i){var b=[f].concat(y,m,n);void 0!==v&&b.push(v);var _=x(t.apply(void 0,b))}else _=A(f,n,m,y,v,t);p<=m&&(d+=n.slice(p,m)+_,p=m+f.length)}return d+n.slice(p)}]},!!s(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!o||l)},{"../internals/advance-string-index":35,"../internals/an-object":37,"../internals/fails":85,"../internals/fix-regexp-well-known-symbol-logic":86,"../internals/get-substitution":92,"../internals/regexp-exec-abstract":146,"../internals/require-object-coercible":152,"../internals/to-integer":171,"../internals/to-length":172,"../internals/to-string":179,"../internals/well-known-symbol":188}],239:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),l=e("../internals/an-object"),s=e("../internals/require-object-coercible"),u=e("../internals/same-value"),c=e("../internals/to-string"),d=e("../internals/regexp-exec-abstract");n("search",function(n,a,o){return[function(e){var t=s(this),r=null==e?void 0:e[n];return void 0!==r?r.call(e,t):new RegExp(e)[n](c(t))},function(e){var t=l(this),r=c(e),n=o(a,t,r);if(n.done)return n.value;var s=t.lastIndex;u(s,0)||(t.lastIndex=0);var i=d(t,r);return u(t.lastIndex,s)||(t.lastIndex=s),null===i?-1:i.index}]})},{"../internals/an-object":37,"../internals/fix-regexp-well-known-symbol-logic":86,"../internals/regexp-exec-abstract":146,"../internals/require-object-coercible":152,"../internals/same-value":153,"../internals/to-string":179}],240:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),d=e("../internals/is-regexp"),b=e("../internals/an-object"),p=e("../internals/require-object-coercible"),_=e("../internals/species-constructor"),j=e("../internals/advance-string-index"),T=e("../internals/to-length"),S=e("../internals/to-string"),w=e("../internals/regexp-exec-abstract"),h=e("../internals/regexp-exec"),s=e("../internals/regexp-sticky-helpers"),i=e("../internals/fails"),E=s.UNSUPPORTED_Y,f=[].push,k=Math.min;n("split",function(s,y,g){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,t){var r=S(p(this)),n=void 0===t?4294967295:t>>>0;if(0==n)return[];if(void 0===e)return[r];if(!d(e))return y.call(r,e,n);for(var s,i,a,o=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,c=new RegExp(e.source,l+"g");(s=h.call(c,r))&&!(u<(i=c.lastIndex)&&(o.push(r.slice(u,s.index)),1<s.length&&s.index<r.length&&f.apply(o,s.slice(1)),a=s[0].length,u=i,o.length>=n));)c.lastIndex===s.index&&c.lastIndex++;return u===r.length?!a&&c.test("")||o.push(""):o.push(r.slice(u)),o.length>n?o.slice(0,n):o}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:y.call(this,e,t)}:y,[function(e,t){var r=p(this),n=null==e?void 0:e[s];return void 0!==n?n.call(e,r,t):v.call(S(r),e,t)},function(e,t){var r=b(this),n=S(e),s=g(v,r,n,t,v!==y);if(s.done)return s.value;var i=_(r,RegExp),a=r.unicode,o=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(E?"g":"y"),l=new i(E?"^(?:"+r.source+")":r,o),u=void 0===t?4294967295:t>>>0;if(0==u)return[];if(0===n.length)return null===w(l,n)?[n]:[];for(var c=0,d=0,p=[];d<n.length;){l.lastIndex=E?0:d;var h,f=w(l,E?n.slice(d):n);if(null===f||(h=k(T(l.lastIndex+(E?d:0)),n.length))===c)d=j(n,d,a);else{if(p.push(n.slice(c,d)),p.length===u)return p;for(var m=1;m<=f.length-1;m++)if(p.push(f[m]),p.length===u)return p;d=c=h}}return p.push(n.slice(c)),p}]},!!i(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}),E)},{"../internals/advance-string-index":35,"../internals/an-object":37,"../internals/fails":85,"../internals/fix-regexp-well-known-symbol-logic":86,"../internals/is-regexp":111,"../internals/regexp-exec":147,"../internals/regexp-exec-abstract":146,"../internals/regexp-sticky-helpers":149,"../internals/require-object-coercible":152,"../internals/species-constructor":160,"../internals/to-length":172,"../internals/to-string":179}],241:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/string-trim").trim;n({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return s(this)}})},{"../internals/export":84,"../internals/string-trim":165,"../internals/string-trim-forced":164}],242:[function(e,t,r){"use strict";var n=e("../internals/export"),s=e("../internals/descriptors"),i=e("../internals/global"),a=e("../internals/has"),o=e("../internals/is-object"),l=e("../internals/object-define-property").f,u=e("../internals/copy-constructor-properties"),c=i.Symbol;if(s&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var d={},p=function(e){var t=arguments.length<1||void 0===e?void 0:String(e),r=this instanceof p?new c(t):void 0===t?c():c(t);return""===t&&(d[r]=!0),r};u(p,c);var h=p.prototype=c.prototype;h.constructor=p;var f=h.toString,m="Symbol(test)"==String(c("test")),y=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=f.call(e);if(a(d,e))return"";var r=m?t.slice(7,-1):t.replace(y,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},{"../internals/copy-constructor-properties":62,"../internals/descriptors":70,"../internals/export":84,"../internals/global":93,"../internals/has":94,"../internals/is-object":109,"../internals/object-define-property":128}],243:[function(e,t,r){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":69}],244:[function(e,t,r){"use strict";function s(e,t){var r=ne[e]=w(Q[W]);return X(r,{type:z,tag:e,description:t}),d||(r.description=t),r}function n(t,e){v(t);var r=_(e),n=E(r).concat(he(r));return V(n,function(e){d&&!pe.call(r,e)||de(t,e,r[e])}),t}function i(e,t){var r=_(e),n=j(t);if(r!==$||!f(ne,n)||f(se,n)){var s=Z(r,n);return!s||!f(ne,n)||f(r,G)&&r[G][n]||(s.enumerable=!0),s}}function a(e){var t=te(_(e)),r=[];return V(t,function(e){f(ne,e)||f(U,e)||r.push(e)}),r}var o=e("../internals/export"),l=e("../internals/global"),u=e("../internals/get-built-in"),c=e("../internals/is-pure"),d=e("../internals/descriptors"),p=e("../internals/native-symbol"),h=e("../internals/fails"),f=e("../internals/has"),m=e("../internals/is-array"),y=e("../internals/is-object"),g=e("../internals/is-symbol"),v=e("../internals/an-object"),b=e("../internals/to-object"),_=e("../internals/to-indexed-object"),j=e("../internals/to-property-key"),T=e("../internals/to-string"),S=e("../internals/create-property-descriptor"),w=e("../internals/object-create"),E=e("../internals/object-keys"),k=e("../internals/object-get-own-property-names"),x=e("../internals/object-get-own-property-names-external"),C=e("../internals/object-get-own-property-symbols"),A=e("../internals/object-get-own-property-descriptor"),I=e("../internals/object-define-property"),P=e("../internals/object-property-is-enumerable"),L=e("../internals/create-non-enumerable-property"),O=e("../internals/redefine"),R=e("../internals/shared"),D=e("../internals/shared-key"),U=e("../internals/hidden-keys"),M=e("../internals/uid"),N=e("../internals/well-known-symbol"),B=e("../internals/well-known-symbol-wrapped"),F=e("../internals/define-well-known-symbol"),H=e("../internals/set-to-string-tag"),q=e("../internals/internal-state"),V=e("../internals/array-iteration").forEach,G=D("hidden"),z="Symbol",W="prototype",Y=N("toPrimitive"),X=q.set,K=q.getterFor(z),$=Object[W],Q=l.Symbol,J=u("JSON","stringify"),Z=A.f,ee=I.f,te=x.f,re=P.f,ne=R("symbols"),se=R("op-symbols"),ie=R("string-to-symbol-registry"),ae=R("symbol-to-string-registry"),oe=R("wks"),le=l.QObject,ue=!le||!le[W]||!le[W].findChild,ce=d&&h(function(){return 7!=w(ee({},"a",{get:function(){return ee(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=Z($,t);n&&delete $[t],ee(e,t,r),n&&e!==$&&ee($,t,n)}:ee,de=function(e,t,r){e===$&&de(se,t,r),v(e);var n=j(t);return v(r),f(ne,n)?(r.enumerable?(f(e,G)&&e[G][n]&&(e[G][n]=!1),r=w(r,{enumerable:S(0,!1)})):(f(e,G)||ee(e,G,S(1,{})),e[G][n]=!0),ce(e,n,r)):ee(e,n,r)},pe=function(e){var t=j(e),r=re.call(this,t);return!(this===$&&f(ne,t)&&!f(se,t))&&(!(r||!f(this,t)||!f(ne,t)||f(this,G)&&this[G][t])||r)},he=function(e){var t=e===$,r=te(t?se:_(e)),n=[];return V(r,function(e){!f(ne,e)||t&&!f($,e)||n.push(ne[e])}),n};p||(O((Q=function(e){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==e?T(e):void 0,r=M(t),n=function(e){this===$&&n.call(se,e),f(this,G)&&f(this[G],r)&&(this[G][r]=!1),ce(this,r,S(1,e))};return d&&ue&&ce($,r,{configurable:!0,set:n}),s(r,t)})[W],"toString",function(){return K(this).tag}),O(Q,"withoutSetter",function(e){return s(M(e),e)}),P.f=pe,I.f=de,A.f=i,k.f=x.f=a,C.f=he,B.f=function(e){return s(N(e),e)},d&&(ee(Q[W],"description",{configurable:!0,get:function(){return K(this).description}}),c||O($,"propertyIsEnumerable",pe,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Q}),V(E(oe),function(e){F(e)}),o({target:z,stat:!0,forced:!p},{for:function(e){var t=T(e);if(f(ie,t))return ie[t];var r=Q(t);return ie[t]=r,ae[r]=t,r},keyFor:function(e){if(!g(e))throw TypeError(e+" is not a symbol");if(f(ae,e))return ae[e]},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),o({target:"Object",stat:!0,forced:!p,sham:!d},{create:function(e,t){return void 0===t?w(e):n(w(e),t)},defineProperty:de,defineProperties:n,getOwnPropertyDescriptor:i}),o({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:a,getOwnPropertySymbols:he}),o({target:"Object",stat:!0,forced:h(function(){C.f(1)})},{getOwnPropertySymbols:function(e){return C.f(b(e))}}),J&&o({target:"JSON",stat:!0,forced:!p||h(function(){var e=Q();return"[null]"!=J([e])||"{}"!=J({a:e})||"{}"!=J(Object(e))})},{stringify:function(e,t,r){for(var n,s=[e],i=1;i<arguments.length;)s.push(arguments[i++]);if((y(n=t)||void 0!==e)&&!g(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!g(t))return t}),s[1]=t,J.apply(null,s)}});Q[W][Y]||L(Q[W],Y,Q[W].valueOf),H(Q,z),U[G]=!0},{"../internals/an-object":37,"../internals/array-iteration":47,"../internals/create-non-enumerable-property":65,"../internals/create-property-descriptor":66,"../internals/define-well-known-symbol":69,"../internals/descriptors":70,"../internals/export":84,"../internals/fails":85,"../internals/get-built-in":89,"../internals/global":93,"../internals/has":94,"../internals/hidden-keys":95,"../internals/internal-state":104,"../internals/is-array":106,"../internals/is-object":109,"../internals/is-pure":110,"../internals/is-symbol":112,"../internals/native-symbol":119,"../internals/object-create":126,"../internals/object-define-property":128,"../internals/object-get-own-property-descriptor":129,"../internals/object-get-own-property-names":131,"../internals/object-get-own-property-names-external":130,"../internals/object-get-own-property-symbols":132,"../internals/object-keys":135,"../internals/object-property-is-enumerable":136,"../internals/redefine":145,"../internals/set-to-string-tag":156,"../internals/shared":159,"../internals/shared-key":157,"../internals/to-indexed-object":170,"../internals/to-object":173,"../internals/to-property-key":177,"../internals/to-string":179,"../internals/uid":185,"../internals/well-known-symbol":188,"../internals/well-known-symbol-wrapped":187}],245:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-copy-within"),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",function(e,t,r){return s.call(i(this),e,t,2<arguments.length?r:void 0)})},{"../internals/array-buffer-view-core":39,"../internals/array-copy-within":41}],246:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-iteration").every,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",function(e,t){return s(i(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":39,"../internals/array-iteration":47}],247:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-fill"),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",function(e){return s.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":39,"../internals/array-fill":42}],248:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-iteration").filter,i=e("../internals/typed-array-from-species-and-list"),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",function(e,t){var r=s(a(this),e,1<arguments.length?t:void 0);return i(this,r)})},{"../internals/array-buffer-view-core":39,"../internals/array-iteration":47,"../internals/typed-array-from-species-and-list":182}],249:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-iteration").findIndex,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",function(e,t){return s(i(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":39,"../internals/array-iteration":47}],250:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-iteration").find,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",function(e,t){return s(i(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":39,"../internals/array-iteration":47}],251:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-iteration").forEach,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",function(e,t){s(i(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":39,"../internals/array-iteration":47}],252:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-includes").includes,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",function(e,t){return s(i(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":39,"../internals/array-includes":46}],253:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-includes").indexOf,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",function(e,t){return s(i(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":39,"../internals/array-includes":46}],254:[function(e,t,r){e("../internals/typed-array-constructor")("Int32",function(n){return function(e,t,r){return n(this,e,t,r)}})},{"../internals/typed-array-constructor":180}],255:[function(e,t,r){e("../internals/typed-array-constructor")("Int8",function(n){return function(e,t,r){return n(this,e,t,r)}})},{"../internals/typed-array-constructor":180}],256:[function(e,t,r){"use strict";function n(){return u.call(p(this))}var s=e("../internals/global"),i=e("../internals/array-buffer-view-core"),a=e("../modules/es.array.iterator"),o=e("../internals/well-known-symbol")("iterator"),l=s.Uint8Array,u=a.values,c=a.keys,d=a.entries,p=i.aTypedArray,h=i.exportTypedArrayMethod,f=l&&l.prototype[o],m=!!f&&("values"==f.name||null==f.name);h("entries",function(){return d.call(p(this))}),h("keys",function(){return c.call(p(this))}),h("values",n,!m),h(o,n,!m)},{"../internals/array-buffer-view-core":39,"../internals/global":93,"../internals/well-known-symbol":188,"../modules/es.array.iterator":201}],257:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=n.aTypedArray,i=n.exportTypedArrayMethod,a=[].join;i("join",function(e){return a.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":39}],258:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-last-index-of"),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",function(e){return s.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":39,"../internals/array-last-index-of":48}],259:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-iteration").map,i=e("../internals/typed-array-species-constructor"),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("map",function(e,t){return s(a(this),e,1<arguments.length?t:void 0,function(e,t){return new(i(e))(t)})})},{"../internals/array-buffer-view-core":39,"../internals/array-iteration":47,"../internals/typed-array-species-constructor":184}],260:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-reduce").right,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",function(e,t){return s(i(this),e,arguments.length,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":39,"../internals/array-reduce":51}],261:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-reduce").left,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",function(e,t){return s(i(this),e,arguments.length,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":39,"../internals/array-reduce":51}],262:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=n.aTypedArray,i=n.exportTypedArrayMethod,a=Math.floor;i("reverse",function(){for(var e,t=s(this).length,r=a(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this})},{"../internals/array-buffer-view-core":39}],263:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),o=e("../internals/to-length"),l=e("../internals/to-offset"),u=e("../internals/to-object"),s=e("../internals/fails"),c=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",function(e,t){c(this);var r=l(1<arguments.length?t:void 0,1),n=this.length,s=u(e),i=o(s.length),a=0;if(n<i+r)throw RangeError("Wrong length");for(;a<i;)this[r+a]=s[a++]},s(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":39,"../internals/fails":85,"../internals/to-length":172,"../internals/to-object":173,"../internals/to-offset":174}],264:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),o=e("../internals/typed-array-species-constructor"),s=e("../internals/fails"),l=n.aTypedArray,i=n.exportTypedArrayMethod,u=[].slice;i("slice",function(e,t){for(var r=u.call(l(this),e,t),n=o(this),s=0,i=r.length,a=new n(i);s<i;)a[s]=r[s++];return a},s(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":39,"../internals/fails":85,"../internals/typed-array-species-constructor":184}],265:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/array-iteration").some,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",function(e,t){return s(i(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":39,"../internals/array-iteration":47}],266:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),s=e("../internals/global"),i=e("../internals/fails"),a=e("../internals/a-function"),o=e("../internals/to-length"),l=e("../internals/array-sort"),u=e("../internals/engine-ff-version"),c=e("../internals/engine-is-ie-or-edge"),d=e("../internals/engine-v8-version"),p=e("../internals/engine-webkit-version"),h=n.aTypedArray,f=n.exportTypedArrayMethod,m=s.Uint16Array,y=m&&m.prototype.sort,g=!!y&&!i(function(){var e=new m(2);e.sort(null),e.sort({})}),v=!!y&&!i(function(){if(d)return d<74;if(u)return u<67;if(c)return!0;if(p)return p<602;var e,t,r=new m(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(r.sort(function(e,t){return(e/4|0)-(t/4|0)}),e=0;e<516;e++)if(r[e]!==n[e])return!0});f("sort",function(e){if(void 0!==e&&a(e),v)return y.call(this,e);h(this);var t,r,n=o(this.length),s=Array(n);for(t=0;t<n;t++)s[t]=this[t];for(s=l(this,(r=e,function(e,t){return void 0!==r?+r(e,t)||0:t!=t?-1:e!=e?1:0===e&&0===t?0<1/e&&1/t<0?1:-1:t<e})),t=0;t<n;t++)this[t]=s[t];return this},!v||g)},{"../internals/a-function":32,"../internals/array-buffer-view-core":39,"../internals/array-sort":52,"../internals/engine-ff-version":73,"../internals/engine-is-ie-or-edge":75,"../internals/engine-v8-version":81,"../internals/engine-webkit-version":82,"../internals/fails":85,"../internals/global":93,"../internals/to-length":172}],267:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/to-length"),a=e("../internals/to-absolute-index"),o=e("../internals/typed-array-species-constructor"),l=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",function(e,t){var r=l(this),n=r.length,s=a(e,n);return new(o(r))(r.buffer,r.byteOffset+s*r.BYTES_PER_ELEMENT,i((void 0===t?n:a(t,n))-s))})},{"../internals/array-buffer-view-core":39,"../internals/to-absolute-index":168,"../internals/to-length":172,"../internals/typed-array-species-constructor":184}],268:[function(e,t,r){"use strict";var n=e("../internals/global"),s=e("../internals/array-buffer-view-core"),i=e("../internals/fails"),a=n.Int8Array,o=s.aTypedArray,l=s.exportTypedArrayMethod,u=[].toLocaleString,c=[].slice,d=!!a&&i(function(){u.call(new a(1))});l("toLocaleString",function(){return u.apply(d?c.call(o(this)):o(this),arguments)},i(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!i(function(){a.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":39,"../internals/fails":85,"../internals/global":93}],269:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core").exportTypedArrayMethod,s=e("../internals/fails"),i=e("../internals/global").Uint8Array,a=i&&i.prototype||{},o=[].toString,l=[].join;s(function(){o.call({})})&&(o=function(){return l.call(this)}),n("toString",o,a.toString!=o)},{"../internals/array-buffer-view-core":39,"../internals/fails":85,"../internals/global":93}],270:[function(e,t,r){e("../internals/typed-array-constructor")("Uint16",function(n){return function(e,t,r){return n(this,e,t,r)}})},{"../internals/typed-array-constructor":180}],271:[function(e,t,r){e("../internals/typed-array-constructor")("Uint32",function(n){return function(e,t,r){return n(this,e,t,r)}})},{"../internals/typed-array-constructor":180}],272:[function(e,t,r){e("../internals/typed-array-constructor")("Uint8",function(n){return function(e,t,r){return n(this,e,t,r)}})},{"../internals/typed-array-constructor":180}],273:[function(e,t,r){e("../internals/typed-array-constructor")("Uint8",function(n){return function(e,t,r){return n(this,e,t,r)}},!0)},{"../internals/typed-array-constructor":180}],274:[function(e,t,r){"use strict";function n(t){return function(e){return t(this,arguments.length?e:void 0)}}var s,i=e("../internals/global"),a=e("../internals/redefine-all"),o=e("../internals/internal-metadata"),l=e("../internals/collection"),u=e("../internals/collection-weak"),c=e("../internals/is-object"),d=e("../internals/internal-state").enforce,p=e("../internals/native-weak-map"),h=!i.ActiveXObject&&"ActiveXObject"in i,f=Object.isExtensible,m=t.exports=l("WeakMap",n,u);if(p&&h){s=u.getConstructor(n,"WeakMap",!0),o.enable();var y=m.prototype,g=y.delete,v=y.has,b=y.get,_=y.set;a(y,{delete:function(e){if(!c(e)||f(e))return g.call(this,e);var t=d(this);return t.frozen||(t.frozen=new s),g.call(this,e)||t.frozen.delete(e)},has:function(e){if(!c(e)||f(e))return v.call(this,e);var t=d(this);return t.frozen||(t.frozen=new s),v.call(this,e)||t.frozen.has(e)},get:function(e){if(!c(e)||f(e))return b.call(this,e);var t=d(this);return t.frozen||(t.frozen=new s),v.call(this,e)?b.call(this,e):t.frozen.get(e)},set:function(e,t){if(c(e)&&!f(e)){var r=d(this);r.frozen||(r.frozen=new s),v.call(this,e)?_.call(this,e,t):r.frozen.set(e,t)}else _.call(this,e,t);return this}})}},{"../internals/collection":61,"../internals/collection-weak":60,"../internals/global":93,"../internals/internal-metadata":103,"../internals/internal-state":104,"../internals/is-object":109,"../internals/native-weak-map":121,"../internals/redefine-all":144}],275:[function(e,t,r){var n=e("../internals/global"),s=e("../internals/dom-iterables"),i=e("../internals/array-for-each"),a=e("../internals/create-non-enumerable-property");for(var o in s){var l=n[o],u=l&&l.prototype;if(u&&u.forEach!==i)try{a(u,"forEach",i)}catch(e){u.forEach=i}}},{"../internals/array-for-each":43,"../internals/create-non-enumerable-property":65,"../internals/dom-iterables":72,"../internals/global":93}],276:[function(e,t,r){var n=e("../internals/global"),s=e("../internals/dom-iterables"),i=e("../modules/es.array.iterator"),a=e("../internals/create-non-enumerable-property"),o=e("../internals/well-known-symbol"),l=o("iterator"),u=o("toStringTag"),c=i.values;for(var d in s){var p=n[d],h=p&&p.prototype;if(h){if(h[l]!==c)try{a(h,l,c)}catch(e){h[l]=c}if(h[u]||a(h,u,d),s[d])for(var f in i)if(h[f]!==i[f])try{a(h,f,i[f])}catch(e){h[f]=i[f]}}}},{"../internals/create-non-enumerable-property":65,"../internals/dom-iterables":72,"../internals/global":93,"../internals/well-known-symbol":188,"../modules/es.array.iterator":201}],277:[function(e,t,r){var n=e("../internals/export"),s=e("../internals/global"),i=e("../internals/task");n({global:!0,bind:!0,enumerable:!0,forced:!s.setImmediate||!s.clearImmediate},{setImmediate:i.set,clearImmediate:i.clear})},{"../internals/export":84,"../internals/global":93,"../internals/task":166}],278:[function(e,t,r){"use strict";e("../modules/es.array.iterator");function s(t){try{return decodeURIComponent(t)}catch(e){return t}}function a(e){var t,r=e.replace(F," "),n=4;try{return decodeURIComponent(r)}catch(e){for(;n;)r=r.replace((t=n--,H[t-1]||(H[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))),s);return r}}function n(e){return V[e]}function i(e){return encodeURIComponent(e).replace(q,n)}function p(e,t){if(t)for(var r,n,s=t.split("&"),i=0;i<s.length;)(r=s[i++]).length&&(n=r.split("="),e.push({key:a(n.shift()),value:a(n.join("="))}))}function h(e){this.entries.length=0,p(this.entries,e)}function u(e,t){if(e<t)throw TypeError("Not enough arguments")}var o=e("../internals/export"),l=e("../internals/get-built-in"),c=e("../internals/native-url"),d=e("../internals/redefine"),f=e("../internals/redefine-all"),m=e("../internals/set-to-string-tag"),y=e("../internals/create-iterator-constructor"),g=e("../internals/internal-state"),v=e("../internals/an-instance"),b=e("../internals/has"),_=e("../internals/function-bind-context"),j=e("../internals/classof"),T=e("../internals/an-object"),S=e("../internals/is-object"),w=e("../internals/to-string"),E=e("../internals/object-create"),k=e("../internals/create-property-descriptor"),x=e("../internals/get-iterator"),C=e("../internals/get-iterator-method"),A=e("../internals/well-known-symbol"),I=l("fetch"),P=l("Request"),L=P&&P.prototype,O=l("Headers"),R=A("iterator"),D="URLSearchParams",U=D+"Iterator",M=g.set,N=g.getterFor(D),B=g.getterFor(U),F=/\+/g,H=Array(4),q=/[!'()~]|%20/g,V={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},G=y(function(e,t){M(this,{type:U,iterator:x(N(e).entries),kind:t})},"Iterator",function(){var e=B(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),z=function(e){v(this,z,D);var t,r,n,s,i,a,o,l,u,c=0<arguments.length?e:void 0,d=[];if(M(this,{type:D,entries:d,updateURL:function(){},updateSearchParams:h}),void 0!==c)if(S(c))if("function"==typeof(t=C(c)))for(n=(r=t.call(c)).next;!(s=n.call(r)).done;){if((o=(a=(i=x(T(s.value))).next).call(i)).done||(l=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:w(o.value),value:w(l.value)})}else for(u in c)b(c,u)&&d.push({key:u,value:w(c[u])});else p(d,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:w(c))},W=z.prototype;if(f(W,{append:function(e,t){u(arguments.length,2);var r=N(this);r.entries.push({key:w(e),value:w(t)}),r.updateURL()},delete:function(e){u(arguments.length,1);for(var t=N(this),r=t.entries,n=w(e),s=0;s<r.length;)r[s].key===n?r.splice(s,1):s++;t.updateURL()},get:function(e){u(arguments.length,1);for(var t=N(this).entries,r=w(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){u(arguments.length,1);for(var t=N(this).entries,r=w(e),n=[],s=0;s<t.length;s++)t[s].key===r&&n.push(t[s].value);return n},has:function(e){u(arguments.length,1);for(var t=N(this).entries,r=w(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){u(arguments.length,1);for(var r,n=N(this),s=n.entries,i=!1,a=w(e),o=w(t),l=0;l<s.length;l++)(r=s[l]).key===a&&(i?s.splice(l--,1):(i=!0,r.value=o));i||s.push({key:a,value:o}),n.updateURL()},sort:function(){var e,t,r,n=N(this),s=n.entries,i=s.slice();for(r=s.length=0;r<i.length;r++){for(e=i[r],t=0;t<r;t++)if(s[t].key>e.key){s.splice(t,0,e);break}t===r&&s.push(e)}n.updateURL()},forEach:function(e,t){for(var r,n=N(this).entries,s=_(e,1<arguments.length?t:void 0,3),i=0;i<n.length;)s((r=n[i++]).value,r.key,this)},keys:function(){return new G(this,"keys")},values:function(){return new G(this,"values")},entries:function(){return new G(this,"entries")}},{enumerable:!0}),d(W,R,W.entries),d(W,"toString",function(){for(var e,t=N(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(i(e.key)+"="+i(e.value));return r.join("&")},{enumerable:!0}),m(z,D),o({global:!0,forced:!c},{URLSearchParams:z}),!c&&"function"==typeof O){var Y=function(e){if(S(e)){var t,r=e.body;if(j(r)===D)return(t=e.headers?new O(e.headers):new O).has("content-type")||t.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(e,{body:k(0,String(r)),headers:k(0,t)})}return e};if("function"==typeof I&&o({global:!0,enumerable:!0,forced:!0},{fetch:function(e,t){return I(e,1<arguments.length?Y(t):{})}}),"function"==typeof P){var X=function(e,t){return v(this,X,"Request"),new P(e,1<arguments.length?Y(t):{})};(L.constructor=X).prototype=L,o({global:!0,forced:!0},{Request:X})}}t.exports={URLSearchParams:z,getState:N}},{"../internals/an-instance":36,"../internals/an-object":37,"../internals/classof":58,"../internals/create-iterator-constructor":64,"../internals/create-property-descriptor":66,"../internals/export":84,"../internals/function-bind-context":88,"../internals/get-built-in":89,"../internals/get-iterator":91,"../internals/get-iterator-method":90,"../internals/has":94,"../internals/internal-state":104,"../internals/is-object":109,"../internals/native-url":120,"../internals/object-create":126,"../internals/redefine":145,"../internals/redefine-all":144,"../internals/set-to-string-tag":156,"../internals/to-string":179,"../internals/well-known-symbol":188,"../modules/es.array.iterator":201}],279:[function(e,t,r){"use strict";e("../modules/es.string.iterator");function _(e,t){var r,n,s;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return M;if(!(r=Q(t.slice(1,-1))))return M;e.host=r}else if(se(e)){if(t=y(t),W.test(t))return M;if(null===(r=$(t)))return M;e.host=r}else{if(Y.test(t))return M;for(r="",n=x(t),s=0;s<n.length;s++)r+=re(n[s],J);e.host=r}}function c(e){var t,r,n,s;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=R(e/256);return t.join(".")}if("object"!=typeof e)return e;for(t="",n=function(e){for(var t=null,r=1,n=null,s=0,i=0;i<8;i++)0!==e[i]?(r<s&&(t=n,r=s),n=null,s=0):(null===n&&(n=i),++s);return r<s&&(t=n,r=s),t}(e),r=0;r<8;r++)s&&0===e[r]||(s=s&&!1,n===r?(t+=r?":":"::",s=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}function j(e){return""!=e.username||""!=e.password}function s(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme}function T(e,t){var r;return 2==e.length&&B.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)}function S(e){var t;return 1<e.length&&T(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)}function w(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&T(t[0],!0)||t.pop()}function d(e,t,r,n){var s,i,a,o,l,u,c=r||ie,d=0,p="",h=!1,f=!1,m=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(X,"")),t=t.replace(K,""),s=x(t);d<=s.length;){switch(i=s[d],c){case ie:if(!i||!B.test(i)){if(r)return U;c=oe;continue}p+=i.toLowerCase(),c=ae;break;case ae:if(i&&(F.test(i)||"+"==i||"-"==i||"."==i))p+=i.toLowerCase();else{if(":"!=i){if(r)return U;p="",c=oe,d=0;continue}if(r&&(se(e)!=k(ne,p)||"file"==p&&(j(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,r)return void(se(e)&&ne[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?c=ve:se(e)&&n&&n.scheme==e.scheme?c=le:se(e)?c=pe:"/"==s[d+1]?(c=ue,d++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Se)}break;case oe:if(!n||n.cannotBeABaseURL&&"#"!=i)return U;if(n.cannotBeABaseURL&&"#"==i){e.scheme=n.scheme,e.path=n.path.slice(),e.query=n.query,e.fragment="",e.cannotBeABaseURL=!0,c=Ee;break}c="file"==n.scheme?ve:ce;continue;case le:if("/"!=i||"/"!=s[d+1]){c=ce;continue}c=he,d++;break;case ue:if("/"==i){c=fe;break}c=Te;continue;case ce:if(e.scheme=n.scheme,i==E)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query;else if("/"==i||"\\"==i&&se(e))c=de;else if("?"==i)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query="",c=we;else{if("#"!=i){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.path.pop(),c=Te;continue}e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query,e.fragment="",c=Ee}break;case de:if(!se(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,c=Te;continue}c=fe}else c=he;break;case pe:if(c=he,"/"!=i||"/"!=p.charAt(d+1))continue;d++;break;case he:if("/"==i||"\\"==i)break;c=fe;continue;case fe:if("@"==i){h&&(p="%40"+p),h=!0,a=x(p);for(var y=0;y<a.length;y++){var g=a[y];if(":"!=g||m){var v=re(g,te);m?e.password+=v:e.username+=v}else m=!0}p=""}else if(i==E||"/"==i||"?"==i||"#"==i||"\\"==i&&se(e)){if(h&&""==p)return"Invalid authority";d-=x(p).length+1,p="",c=me}else p+=i;break;case me:case ye:if(r&&"file"==e.scheme){c=_e;continue}if(":"!=i||f){if(i==E||"/"==i||"?"==i||"#"==i||"\\"==i&&se(e)){if(se(e)&&""==p)return M;if(r&&""==p&&(j(e)||null!==e.port))return;if(o=_(e,p))return o;if(p="",c=je,r)return;continue}"["==i?f=!0:"]"==i&&(f=!1),p+=i}else{if(""==p)return M;if(o=_(e,p))return o;if(p="",c=ge,r==ye)return}break;case ge:if(!H.test(i)){if(i==E||"/"==i||"?"==i||"#"==i||"\\"==i&&se(e)||r){if(""!=p){var b=parseInt(p,10);if(65535<b)return N;e.port=se(e)&&b===ne[e.scheme]?null:b,p=""}if(r)return;c=je;continue}return N}p+=i;break;case ve:if(e.scheme="file","/"==i||"\\"==i)c=be;else{if(!n||"file"!=n.scheme){c=Te;continue}if(i==E)e.host=n.host,e.path=n.path.slice(),e.query=n.query;else if("?"==i)e.host=n.host,e.path=n.path.slice(),e.query="",c=we;else{if("#"!=i){S(s.slice(d).join(""))||(e.host=n.host,e.path=n.path.slice(),w(e)),c=Te;continue}e.host=n.host,e.path=n.path.slice(),e.query=n.query,e.fragment="",c=Ee}}break;case be:if("/"==i||"\\"==i){c=_e;break}n&&"file"==n.scheme&&!S(s.slice(d).join(""))&&(T(n.path[0],!0)?e.path.push(n.path[0]):e.host=n.host),c=Te;continue;case _e:if(i==E||"/"==i||"\\"==i||"?"==i||"#"==i){if(!r&&T(p))c=Te;else if(""==p){if(e.host="",r)return;c=je}else{if(o=_(e,p))return o;if("localhost"==e.host&&(e.host=""),r)return;p="",c=je}continue}p+=i;break;case je:if(se(e)){if(c=Te,"/"!=i&&"\\"!=i)continue}else if(r||"?"!=i)if(r||"#"!=i){if(i!=E&&(c=Te,"/"!=i))continue}else e.fragment="",c=Ee;else e.query="",c=we;break;case Te:if(i==E||"/"==i||"\\"==i&&se(e)||!r&&("?"==i||"#"==i)){if(".."===(u=(u=p).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(w(e),"/"==i||"\\"==i&&se(e)||e.path.push("")):"."===(l=p)||"%2e"===l.toLowerCase()?"/"==i||"\\"==i&&se(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&T(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(i==E||"?"==i||"#"==i))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==i?(e.query="",c=we):"#"==i&&(e.fragment="",c=Ee)}else p+=re(i,ee);break;case Se:"?"==i?(e.query="",c=we):"#"==i?(e.fragment="",c=Ee):i!=E&&(e.path[0]+=re(i,J));break;case we:r||"#"!=i?i!=E&&("'"==i&&se(e)?e.query+="%27":e.query+="#"==i?"%23":re(i,J)):(e.fragment="",c=Ee);break;case Ee:i!=E&&(e.fragment+=re(i,Z))}d++}}function n(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}}var E,i=e("../internals/export"),p=e("../internals/descriptors"),a=e("../internals/native-url"),o=e("../internals/global"),l=e("../internals/object-define-properties"),u=e("../internals/redefine"),h=e("../internals/an-instance"),k=e("../internals/has"),f=e("../internals/object-assign"),x=e("../internals/array-from"),m=e("../internals/string-multibyte").codeAt,y=e("../internals/string-punycode-to-ascii"),g=e("../internals/to-string"),v=e("../internals/set-to-string-tag"),b=e("../modules/web.url-search-params"),C=e("../internals/internal-state"),A=o.URL,I=b.URLSearchParams,P=b.getState,L=C.set,O=C.getterFor("URL"),R=Math.floor,D=Math.pow,U="Invalid scheme",M="Invalid host",N="Invalid port",B=/[A-Za-z]/,F=/[\d+-.A-Za-z]/,H=/\d/,q=/^0x/i,V=/^[0-7]+$/,G=/^\d+$/,z=/^[\dA-Fa-f]+$/,W=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Y=/[\0\t\n\r #/:<>?@[\\\]^|]/,X=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,K=/[\t\n\r]/g,$=function(e){var t,r,n,s,i,a,o,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),4<(t=l.length))return e;for(r=[],n=0;n<t;n++){if(""==(s=l[n]))return e;if(i=10,1<s.length&&"0"==s.charAt(0)&&(i=q.test(s)?16:8,s=s.slice(8==i?1:2)),""===s)a=0;else{if(!(10==i?G:8==i?V:z).test(s))return e;a=parseInt(s,i)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=D(256,5-t))return null}else if(255<a)return null;for(o=r.pop(),n=0;n<r.length;n++)o+=r[n]*D(256,3-n);return o},Q=function(e){function t(){return e.charAt(p)}var r,n,s,i,a,o,l,u=[0,0,0,0,0,0,0,0],c=0,d=null,p=0;if(":"==t()){if(":"!=e.charAt(1))return;p+=2,d=++c}for(;t();){if(8==c)return;if(":"!=t()){for(r=n=0;n<4&&z.test(t());)r=16*r+parseInt(t(),16),p++,n++;if("."==t()){if(0==n)return;if(p-=n,6<c)return;for(s=0;t();){if(i=null,0<s){if(!("."==t()&&s<4))return;p++}if(!H.test(t()))return;for(;H.test(t());){if(a=parseInt(t(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(255<i)return;p++}u[c]=256*u[c]+i,2!=++s&&4!=s||c++}if(4!=s)return;break}if(":"==t()){if(p++,!t())return}else if(t())return;u[c++]=r}else{if(null!==d)return;p++,d=++c}}if(null!==d)for(o=c-d,c=7;0!=c&&0<o;)l=u[c],u[c--]=u[d+o-1],u[d+--o]=l;else if(8!=c)return;return u},J={},Z=f({},J,{" ":1,'"':1,"<":1,">":1,"`":1}),ee=f({},Z,{"#":1,"?":1,"{":1,"}":1}),te=f({},ee,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),re=function(e,t){var r=m(e,0);return 32<r&&r<127&&!k(t,e)?e:encodeURIComponent(e)},ne={ftp:21,file:null,http:80,https:443,ws:80,wss:443},se=function(e){return k(ne,e.scheme)},ie={},ae={},oe={},le={},ue={},ce={},de={},pe={},he={},fe={},me={},ye={},ge={},ve={},be={},_e={},je={},Te={},Se={},we={},Ee={},ke=function(e,t){var r,n,s=h(this,ke,"URL"),i=1<arguments.length?t:void 0,a=g(e),o=L(s,{type:"URL"});if(void 0!==i)if(i instanceof ke)r=O(i);else if(n=d(r={},g(i)))throw TypeError(n);if(n=d(o,a,null,r))throw TypeError(n);var l=o.searchParams=new I,u=P(l);u.updateSearchParams(o.query),u.updateURL=function(){o.query=String(l)||null},p||(s.href=Ce.call(s),s.origin=Ae.call(s),s.protocol=Ie.call(s),s.username=Pe.call(s),s.password=Le.call(s),s.host=Oe.call(s),s.hostname=Re.call(s),s.port=De.call(s),s.pathname=Ue.call(s),s.search=Me.call(s),s.searchParams=Ne.call(s),s.hash=Be.call(s))},xe=ke.prototype,Ce=function(){var e=O(this),t=e.scheme,r=e.username,n=e.password,s=e.host,i=e.port,a=e.path,o=e.query,l=e.fragment,u=t+":";return null!==s?(u+="//",j(e)&&(u+=r+(n?":"+n:"")+"@"),u+=c(s),null!==i&&(u+=":"+i)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==o&&(u+="?"+o),null!==l&&(u+="#"+l),u},Ae=function(){var e=O(this),t=e.scheme,r=e.port;if("blob"==t)try{return new ke(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&se(e)?t+"://"+c(e.host)+(null!==r?":"+r:""):"null"},Ie=function(){return O(this).scheme+":"},Pe=function(){return O(this).username},Le=function(){return O(this).password},Oe=function(){var e=O(this),t=e.host,r=e.port;return null===t?"":null===r?c(t):c(t)+":"+r},Re=function(){var e=O(this).host;return null===e?"":c(e)},De=function(){var e=O(this).port;return null===e?"":String(e)},Ue=function(){var e=O(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Me=function(){var e=O(this).query;return e?"?"+e:""},Ne=function(){return O(this).searchParams},Be=function(){var e=O(this).fragment;return e?"#"+e:""};if(p&&l(xe,{href:n(Ce,function(e){var t=O(this),r=g(e),n=d(t,r);if(n)throw TypeError(n);P(t.searchParams).updateSearchParams(t.query)}),origin:n(Ae),protocol:n(Ie,function(e){var t=O(this);d(t,g(e)+":",ie)}),username:n(Pe,function(e){var t=O(this),r=x(g(e));if(!s(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=re(r[n],te)}}),password:n(Le,function(e){var t=O(this),r=x(g(e));if(!s(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=re(r[n],te)}}),host:n(Oe,function(e){var t=O(this);t.cannotBeABaseURL||d(t,g(e),me)}),hostname:n(Re,function(e){var t=O(this);t.cannotBeABaseURL||d(t,g(e),ye)}),port:n(De,function(e){var t=O(this);s(t)||(""==(e=g(e))?t.port=null:d(t,e,ge))}),pathname:n(Ue,function(e){var t=O(this);t.cannotBeABaseURL||(t.path=[],d(t,g(e),je))}),search:n(Me,function(e){var t=O(this);""==(e=g(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",d(t,e,we)),P(t.searchParams).updateSearchParams(t.query)}),searchParams:n(Ne),hash:n(Be,function(e){var t=O(this);""!=(e=g(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",d(t,e,Ee)):t.fragment=null})}),u(xe,"toJSON",function(){return Ce.call(this)},{enumerable:!0}),u(xe,"toString",function(){return Ce.call(this)},{enumerable:!0}),A){var Fe=A.createObjectURL,He=A.revokeObjectURL;Fe&&u(ke,"createObjectURL",function(e){return Fe.apply(A,arguments)}),He&&u(ke,"revokeObjectURL",function(e){return He.apply(A,arguments)})}v(ke,"URL"),i({global:!0,forced:!a,sham:!p},{URL:ke})},{"../internals/an-instance":36,"../internals/array-from":45,"../internals/descriptors":70,"../internals/export":84,"../internals/global":93,"../internals/has":94,"../internals/internal-state":104,"../internals/native-url":120,"../internals/object-assign":125,"../internals/object-define-properties":127,"../internals/redefine":145,"../internals/set-to-string-tag":156,"../internals/string-multibyte":161,"../internals/string-punycode-to-ascii":162,"../internals/to-string":179,"../modules/es.string.iterator":235,"../modules/web.url-search-params":278}],280:[function(e,t,r){"use strict";e("../internals/export")({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},{"../internals/export":84}],281:[function(G,r,n){(function(q,V){(function(){var e,t,H=G("@babel/runtime/helpers/typeof");G("core-js/modules/es.object.to-string.js"),G("core-js/modules/es.array.iterator.js"),G("core-js/modules/es.array-buffer.slice.js"),G("core-js/modules/es.typed-array.uint8-clamped-array.js"),G("core-js/modules/es.typed-array.copy-within.js"),G("core-js/modules/es.typed-array.every.js"),G("core-js/modules/es.typed-array.fill.js"),G("core-js/modules/es.typed-array.filter.js"),G("core-js/modules/es.typed-array.find.js"),G("core-js/modules/es.typed-array.find-index.js"),G("core-js/modules/es.typed-array.for-each.js"),G("core-js/modules/es.typed-array.includes.js"),G("core-js/modules/es.typed-array.index-of.js"),G("core-js/modules/es.typed-array.iterator.js"),G("core-js/modules/es.typed-array.join.js"),G("core-js/modules/es.typed-array.last-index-of.js"),G("core-js/modules/es.typed-array.map.js"),G("core-js/modules/es.typed-array.reduce.js"),G("core-js/modules/es.typed-array.reduce-right.js"),G("core-js/modules/es.typed-array.reverse.js"),G("core-js/modules/es.typed-array.set.js"),G("core-js/modules/es.typed-array.slice.js"),G("core-js/modules/es.typed-array.some.js"),G("core-js/modules/es.typed-array.sort.js"),G("core-js/modules/es.typed-array.subarray.js"),G("core-js/modules/es.typed-array.to-locale-string.js"),G("core-js/modules/es.typed-array.to-string.js"),G("core-js/modules/es.regexp.to-string.js"),G("core-js/modules/es.promise.js"),G("core-js/modules/es.promise.finally.js"),e=this,t=function(){"use strict";function l(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,t=void 0,s=void 0,a=function(e,t){p[n]=e,p[n+1]=t,2===(n+=2)&&(s?s(h):v())};var e="undefined"!=typeof window?window:void 0,i=e||{},o=i.MutationObserver||i.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof q&&"[object process]"==={}.toString.call(q),c="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var e=setTimeout;return function(){return e(h,1)}}var p=new Array(1e3);function h(){for(var e=0;e<n;e+=2){(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0}n=0}var f,m,y,g,v=void 0;function b(e,t){var r=this,n=new this.constructor(T);void 0===n[j]&&U(n);var s=r._state;if(s){var i=arguments[s-1];a(function(){return R(s,n,i,r._result)})}else L(r,n,e,t);return n}function _(e){if(e&&"object"===H(e)&&e.constructor===this)return e;var t=new this(T);return C(t,e),t}v=u?function(){return q.nextTick(h)}:o?(m=0,y=new o(h),g=document.createTextNode(""),y.observe(g,{characterData:!0}),function(){g.data=m=++m%2}):c?((f=new MessageChannel).port1.onmessage=h,function(){return f.port2.postMessage(0)}):void 0===e&&"function"==typeof G?function(){try{var e=Function("return this")().require("vertx");return"undefined"!=typeof(t=e.runOnLoop||e.runOnContext)?function(){t(h)}:d()}catch(e){return d()}}():d();var j=Math.random().toString(36).substring(2);function T(){}var S=void 0,w=1,E=2;function k(e,n,s){a(function(t){var r=!1,e=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(s,n,function(e){r||(r=!0,n!==e?C(t,e):I(t,e))},function(e){r||(r=!0,P(t,e))},t._label);!r&&e&&(r=!0,P(t,e))},e)}function x(e,t,r){var n,s;t.constructor===e.constructor&&r===b&&t.constructor.resolve===_?(n=e,(s=t)._state===w?I(n,s._result):s._state===E?P(n,s._result):L(s,void 0,function(e){return C(n,e)},function(e){return P(n,e)})):void 0===r?I(e,t):l(r)?k(e,t,r):I(e,t)}function C(t,e){if(t===e)P(t,new TypeError("You cannot resolve a promise with itself"));else if(s=H(n=e),null===n||"object"!==s&&"function"!==s)I(t,e);else{var r=void 0;try{r=e.then}catch(e){return void P(t,e)}x(t,e,r)}var n,s}function A(e){e._onerror&&e._onerror(e._result),O(e)}function I(e,t){e._state===S&&(e._result=t,e._state=w,0!==e._subscribers.length&&a(O,e))}function P(e,t){e._state===S&&(e._state=E,e._result=t,a(A,e))}function L(e,t,r,n){var s=e._subscribers,i=s.length;e._onerror=null,s[i]=t,s[i+w]=r,s[i+E]=n,0===i&&e._state&&a(O,e)}function O(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,s=void 0,i=e._result,a=0;a<t.length;a+=3)n=t[a],s=t[a+r],n?R(r,n,s,i):s(i);e._subscribers.length=0}}function R(e,t,r,n){var s=l(r),i=void 0,a=void 0,o=!0;if(s){try{i=r(n)}catch(e){o=!1,a=e}if(t===i)return void P(t,new TypeError("A promises callback cannot return that same promise."))}else i=n;t._state!==S||(s&&o?C(t,i):!1===o?P(t,a):e===w?I(t,i):e===E&&P(t,i))}var D=0;function U(e){e[j]=D++,e._state=void 0,e._result=void 0,e._subscribers=[]}var M=(N.prototype._enumerate=function(e){for(var t=0;this._state===S&&t<e.length;t++)this._eachEntry(e[t],t)},N.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===_){var s=void 0,i=void 0,a=!1;try{s=t.then}catch(e){a=!0,i=e}if(s===b&&t._state!==S)this._settledAt(t._state,e,t._result);else if("function"!=typeof s)this._remaining--,this._result[e]=t;else if(r===B){var o=new r(T);a?P(o,i):x(o,t,s),this._willSettleAt(o,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},N.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===S&&(this._remaining--,e===E?P(n,r):this._result[t]=r),0===this._remaining&&I(n,this._result)},N.prototype._willSettleAt=function(e,t){var r=this;L(e,void 0,function(e){return r._settledAt(w,t,e)},function(e){return r._settledAt(E,t,e)})},N);function N(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[j]||U(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&I(this.promise,this._result))):P(this.promise,new Error("Array Methods must be provided an Array"))}var B=(F.prototype.catch=function(e){return this.then(null,e)},F.prototype.finally=function(t){var r=this.constructor;return l(t)?this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):this.then(t,t)},F);function F(e){this[j]=D++,this._result=this._state=void 0,this._subscribers=[],T!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof F?function(t,e){try{e(function(e){C(t,e)},function(e){P(t,e)})}catch(e){P(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return B.prototype.then=b,B.all=function(e){return new M(this,e).promise},B.race=function(s){var i=this;return r(s)?new i(function(e,t){for(var r=s.length,n=0;n<r;n++)i.resolve(s[n]).then(e,t)}):new i(function(e,t){return t(new TypeError("You must pass an array to race."))})},B.resolve=_,B.reject=function(e){var t=new this(T);return P(t,e),t},B._setScheduler=function(e){s=e},B._setAsap=function(e){a=e},B._asap=a,B.polyfill=function(){var e=void 0;if("undefined"!=typeof V)e=V;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=B},B.Promise=B},"object"===("undefined"==typeof n?"undefined":H(n))&&"undefined"!=typeof r?r.exports=t():e.ES6Promise=t()}).call(this)}).call(this,G("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@babel/runtime/helpers/typeof":2,_process:29,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.promise.finally.js":229,"core-js/modules/es.promise.js":230,"core-js/modules/es.regexp.to-string.js":234,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-clamped-array.js":273}],282:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.array.join.js");var l=Array.prototype.slice,u=Object.prototype.toString;t.exports=function(t){var r=this;if("function"!=typeof r||"[object Function]"!==u.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n,s=l.call(arguments,1),e=Math.max(0,r.length-s.length),i=[],a=0;a<e;a++)i.push("$"+a);if(n=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof n){var e=r.apply(this,s.concat(l.call(arguments)));return Object(e)===e?e:this}return r.apply(t,s.concat(l.call(arguments)))}),r.prototype){var o=function(){};o.prototype=r.prototype,n.prototype=new o,o.prototype=null}return n}},{"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.join.js":202,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.object.to-string.js":226}],283:[function(e,t,r){"use strict";var n=e("./implementation");t.exports=Function.prototype.bind||n},{"./implementation":282}],284:[function(s,i,e){(function(n){(function(){var e,t="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},r=s("min-document");e="undefined"!=typeof document?document:(e=t["__GLOBAL_DOCUMENT_CACHE@4"])||(t["__GLOBAL_DOCUMENT_CACHE@4"]=r),i.exports=e}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":28}],285:[function(e,r,t){(function(t){(function(){var e;e="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},r.exports=e}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],286:[function(e,t,r){e("core-js/modules/es.object.to-string.js"),t.exports=function(e){if(!e)return!1;var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},{"core-js/modules/es.object.to-string.js":226}],287:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/typeof");e("core-js/modules/es.object.assign.js"),e("core-js/modules/es.object.set-prototype-of.js"),e("core-js/modules/es.array.index-of.js"),e("core-js/modules/es.array.splice.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.regexp.constructor.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/es.string.split.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.parse-float.js"),e("core-js/modules/es.parse-int.js"),e("core-js/modules/es.string.match.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.typed-array.uint32-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js"),e("core-js/modules/es.array.map.js");function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+n(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==n(t)&&"function"!=typeof t?e:t}var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=(a.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},a.prototype.off=function(e,t){if(!this.listeners[e])return!1;var r=this.listeners[e].indexOf(t);return this.listeners[e].splice(r,1),-1<r},a.prototype.trigger=function(e,t){var r=this.listeners[e],n=void 0,s=void 0,i=void 0;if(r)if(2===arguments.length)for(s=r.length,n=0;n<s;++n)r[n].call(this,t);else for(i=Array.prototype.slice.call(arguments,1),s=r.length,n=0;n<s;++n)r[n].apply(this,i)},a.prototype.dispose=function(){this.listeners={}},a.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},a);function a(){d(this,a),this.listeners={}}var o,f=(s(l,o=i),l.prototype.push=function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},l);function l(){d(this,l);var e=p(this,o.call(this));return e.buffer="",e}function c(e){for(var t=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},n=t.length,s=void 0;n--;)""!==t[n]&&((s=/([^=]*)=(.*)/.exec(t[n]).slice(1))[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),r[s[0]]=s[1]);return r}var u,m=(s(y,u=i),y.prototype.push=function(e){var t=void 0,r=void 0;if(0!==(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===e[0]){for(var n=0;n<this.customParsers.length;n++)if(this.customParsers[n].call(this,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return r={type:"tag",tagType:"inf"},t[1]&&(r.duration=parseFloat(t[1])),t[2]&&(r.title=t[2]),void this.trigger("data",r);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"targetduration"},t[1]&&(r.duration=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"totalduration"},t[1]&&(r.duration=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"version"},t[1]&&(r.version=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",tagType:"media-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return r={type:"tag",tagType:"playlist-type"},t[1]&&(r.playlistType=t[1]),void this.trigger("data",r);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"byterange"},t[1]&&(r.length=parseInt(t[1],10)),t[2]&&(r.offset=parseInt(t[2],10)),void this.trigger("data",r);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return r={type:"tag",tagType:"allow-cache"},t[1]&&(r.allowed=!/NO/.test(t[1])),void this.trigger("data",r);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(r={type:"tag",tagType:"map"},t[1]){var s=c(t[1]);if(s.URI&&(r.uri=s.URI),s.BYTERANGE){var i=s.BYTERANGE.split("@"),a=i[0],o=i[1];r.byterange={},a&&(r.byterange.length=parseInt(a,10)),o&&(r.byterange.offset=parseInt(o,10))}}this.trigger("data",r)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(r={type:"tag",tagType:"stream-inf"},t[1]){if(r.attributes=c(t[1]),r.attributes.RESOLUTION){var l=r.attributes.RESOLUTION.split("x"),u={};l[0]&&(u.width=parseInt(l[0],10)),l[1]&&(u.height=parseInt(l[1],10)),r.attributes.RESOLUTION=u}r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))}this.trigger("data",r)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return r={type:"tag",tagType:"media"},t[1]&&(r.attributes=c(t[1])),void this.trigger("data",r);if(t=/^#EXT-X-ENDLIST/.exec(e))this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return r={type:"tag",tagType:"program-date-time"},t[1]&&(r.dateTimeString=t[1],r.dateTimeObject=new Date(t[1])),void this.trigger("data",r);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return r={type:"tag",tagType:"key"},t[1]&&(r.attributes=c(t[1]),r.attributes.IV&&("0x"===r.attributes.IV.substring(0,2).toLowerCase()&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),void this.trigger("data",r);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return r={type:"tag",tagType:"start"},t[1]&&(r.attributes=c(t[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),void this.trigger("data",r);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return r={type:"tag",tagType:"cue-out-cont"},t[1]?r.data=t[1]:r.data="",void this.trigger("data",r);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return r={type:"tag",tagType:"cue-out"},t[1]?r.data=t[1]:r.data="",void this.trigger("data",r);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return r={type:"tag",tagType:"cue-in"},t[1]?r.data=t[1]:r.data="",void this.trigger("data",r);this.trigger("data",{type:"tag",data:e.slice(4)})}}}else this.trigger("data",{type:"comment",text:e.slice(1)})}else this.trigger("data",{type:"uri",uri:e})},y.prototype.addParser=function(e){var t=this,r=e.expression,n=e.customType,s=e.dataParser,i=e.segment;"function"!=typeof s&&(s=function(e){return e}),this.customParsers.push(function(e){if(r.exec(e))return t.trigger("data",{type:"custom",data:s(e),customType:n,segment:i}),!0})},y);function y(){d(this,y);var e=p(this,u.call(this));return e.customParsers=[],e}var g,v=(s(b,g=i),b.prototype.push=function(e){this.lineStream.push(e)},b.prototype.end=function(){this.lineStream.push("\n")},b.prototype.addParser=function(e){this.parseStream.addParser(e)},b);function b(){d(this,b);var e=p(this,g.call(this));e.lineStream=new f,e.parseStream=new m,e.lineStream.pipe(e.parseStream);var s=e,i=[],a={},o=void 0,l=void 0,u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(t){var r=void 0,n=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&((a.byterange=e).length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&((a.byterange=e).offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<t.duration&&(a.duration=t.duration),0===t.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key:function(){t.attributes?"NONE"!==t.attributes.METHOD?t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},"undefined"!=typeof t.attributes.IV&&(l.iv=t.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):l=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,c=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){o={},t.uri&&(o.uri=t.uri),t.byterange&&(o.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes?(a.attributes||(a.attributes={}),h(a.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var e=this.manifest.mediaGroups[t.attributes.TYPE];e[t.attributes["GROUP-ID"]]=e[t.attributes["GROUP-ID"]]||{},r=e[t.attributes["GROUP-ID"]],(n={default:/yes/i.test(t.attributes.DEFAULT)}).default?n.autoselect=!0:n.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(n.language=t.attributes.LANGUAGE),t.attributes.URI&&(n.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(n.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(n.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(n.forced=/yes/i.test(t.attributes.FORCED)),r[t.attributes.NAME]=n}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time":function(){"undefined"==typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),a.dateTimeString=t.dateTimeString,a.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=t.data},"cue-out-cont":function(){a.cueOutCont=t.data},"cue-in":function(){a.cueIn=t.data}}[t.tagType]||function(){}).call(s)},uri:function(){a.uri=t.uri,i.push(a),!this.manifest.targetDuration||"duration"in a||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),l&&(a.key=l),a.timeline=c,o&&(a.map=o),a={}},comment:function(){},custom:function(){t.segment?(a.custom=a.custom||{},a.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(s)}),e}r.LineStream=f,r.ParseStream=m,r.Parser=v},{"@babel/runtime/helpers/typeof":2,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.index-of.js":200,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.array.splice.js":211,"core-js/modules/es.object.assign.js":219,"core-js/modules/es.object.set-prototype-of.js":225,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.parse-float.js":227,"core-js/modules/es.parse-int.js":228,"core-js/modules/es.regexp.constructor.js":231,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.regexp.to-string.js":234,"core-js/modules/es.string.match.js":236,"core-js/modules/es.string.replace.js":238,"core-js/modules/es.string.split.js":240,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint32-array.js":271}],288:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/typeof");function s(e){return e&&"object"===n(e)&&"default"in e?e.default:e}e("core-js/modules/es.array.reduce.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.array.filter.js"),e("core-js/modules/es.symbol.js"),e("core-js/modules/es.symbol.description.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.symbol.iterator.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.string.iterator.js"),e("core-js/modules/web.dom-collections.iterator.js"),e("core-js/modules/es.array.for-each.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.split.js"),e("core-js/modules/es.parse-int.js"),e("core-js/modules/es.array.index-of.js"),e("core-js/modules/es.array.join.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.string.trim.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.parse-float.js"),e("core-js/modules/es.function.name.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js");function c(e){return e.reduce(function(e,t){var r,n,s,i,a,o=t.attributes.role&&t.attributes.role.value||"main",l=t.attributes.lang||"",u="main";return l&&(u=t.attributes.lang+" ("+o+")"),e[u]&&e[u].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth||(e[u]={language:l,autoselect:!0,default:"main"===o,playlists:[(s=(r=t).attributes,i=r.segments,a={attributes:((n={NAME:s.id,BANDWIDTH:s.bandwidth,CODECS:s.codecs})["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(s.type||"static"),timeline:s.periodIndex,resolvedUri:"",targetDuration:s.duration,segments:i,mediaSequence:i.length?i[0].number:1},s.contentProtection&&(a.contentProtection=s.contentProtection),a)],uri:""}),e},{})}function d(e){return e.reduce(function(e,t){var r,n,s,i,a=t.attributes.lang||"text";return e[a]||(e[a]={language:a,default:!1,autoselect:!1,playlists:[(s=(r=t).attributes,"undefined"==typeof(i=r.segments)&&(i=[{uri:s.baseUrl,timeline:s.periodIndex,resolvedUri:s.baseUrl||"",duration:s.sourceDuration,number:0}],s.duration=s.sourceDuration),{attributes:((n={NAME:s.id,BANDWIDTH:s.bandwidth})["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(s.type||"static"),timeline:s.periodIndex,resolvedUri:s.baseUrl||"",targetDuration:s.duration,segments:i,mediaSequence:i.length?i[0].number:1})],uri:""}),e},{})}function p(e){var t,r=e.attributes,n=e.segments,s={attributes:((t={NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth})["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:n,mediaSequence:n.length?n[0].number:1};return r.contentProtection&&(s.contentProtection=r.contentProtection),s}function i(e){return!!e&&"object"===("undefined"==typeof e?"undefined":x(e))}function y(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(t,r){return Object.keys(r).forEach(function(e){Array.isArray(t[e])&&Array.isArray(r[e])?t[e]=t[e].concat(r[e]):i(t[e])&&i(r[e])?t[e]=y(t[e],r[e]):t[e]=r[e]}),t},{})}function h(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=E.buildAbsoluteURL(k.location.href,e)),E.buildAbsoluteURL(e,t))}function f(e){var t=e.baseUrl,r=void 0===t?"":t,n=e.source,s=void 0===n?"":n,i=e.range,a=void 0===i?"":i,o={uri:s,resolvedUri:h(r||"",s)};if(a){var l=a.split("-"),u=parseInt(l[0],10),c=parseInt(l[1],10);o.byterange={length:c-u,offset:u}}return o}function u(e,t){for(var r,n,s,i,a,o,l,u,c,d,p,h,f=e.type,m=void 0===f?"static":f,y=e.minimumUpdatePeriod,g=void 0===y?0:y,v=e.media,b=void 0===v?"":v,_=e.sourceDuration,j=e.timescale,T=void 0===j?1:j,S=e.startNumber,w=void 0===S?1:S,E=e.periodIndex,k=[],x=-1,C=0;C<t.length;C++){var A=t[C],I=A.d,P=A.r||0,L=A.t||0;x<0&&(x=L),L&&x<L&&(x=L);var O=void 0;if(P<0){var R=C+1;O=R===t.length?"dynamic"===m&&0<g&&0<b.indexOf("$Number$")?(n=x,s=I,void 0,i=(r=e).NOW,a=r.clientOffset,o=r.availabilityStartTime,l=r.timescale,u=void 0===l?1:l,c=r.start,d=void 0===c?0:c,p=r.minimumUpdatePeriod,h=(i+a)/1e3+(void 0===p?0:p)-(o+d),Math.ceil((h*u-n)/s)):(_*T-x)/I:(t[R].t-x)/I}else O=P+1;for(var D=w+k.length+O,U=w+k.length;U<D;)k.push({number:U,duration:I/T,time:x,timeline:E}),x+=I,U++}return k}function g(e){return e.reduce(function(e,t){return e.concat(t)},[])}function a(e){if(!e.length)return[];for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t}function m(e){var o,t=e.type,r=void 0===t?"static":t,n=e.duration,s=e.timescale,i=void 0===s?1:s,a=e.sourceDuration,l=C[r](e),u=function(e,t){for(var r=[],n=e;n<t;n++)r.push(n);return r}(l.start,l.end).map((o=e,function(e,t){var r=o.duration,n=o.timescale,s=void 0===n?1:n,i=o.periodIndex,a=o.startNumber;return{number:(void 0===a?1:a)+e,duration:r/s,timeline:i,time:t*r}}));if("static"===r){var c=u.length-1;u[c].duration=a-n/i*c}return u}function l(e,t){return e.replace(A,(i=t,function(e,t,r,n){if("$$"===e)return"$";if("undefined"==typeof i[t])return e;var s=""+i[t];return"RepresentationID"===t?s:(n=r?parseInt(n,10):1)<=s.length?s:new Array(n-s.length+1).join("0")+s}));var i}function v(r,e){var t,n,s={RepresentationID:r.id,Bandwidth:r.bandwidth||0},i=r.initialization,a=void 0===i?{sourceURL:"",range:""}:i,o=f({baseUrl:r.baseUrl,source:l(a.sourceURL,s),range:a.range});return(n=e,(t=r).duration||n?t.duration?m(t):u(t,n):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]).map(function(e){s.Number=e.number,s.Time=e.time;var t=l(r.media||"",s);return{uri:t,timeline:e.timeline,duration:e.duration,resolvedUri:h(r.baseUrl||"",t),map:o,number:e.number}})}function b(l,e){var t=l.duration,r=l.segmentUrls,n=void 0===r?[]:r;if(!t&&!e||t&&e)throw new Error(R);var s=n.map(function(e){return r=e,n=(t=l).baseUrl,s=t.initialization,a=f({baseUrl:n,source:(i=void 0===s?{}:s).sourceURL,range:i.range}),(o=f({baseUrl:n,source:r.media,range:r.mediaRange})).map=a,o;var t,r,n,s,i,a,o}),i=void 0;return t&&(i=m(l)),e&&(i=u(l,e)),i.map(function(e,t){if(s[t]){var r=s[t];return r.timeline=e.timeline,r.duration=e.duration,r.number=e.number,r}}).filter(function(e){return e})}function _(e){var t=e.baseUrl,r=e.initialization,n=void 0===r?{}:r,s=e.sourceDuration,i=e.timescale,a=void 0===i?1:i,o=e.indexRange,l=void 0===o?"":o,u=e.duration;if(!t)throw new Error(O);var c=f({baseUrl:t,source:n.sourceURL,range:n.range}),d=f({baseUrl:t,source:t,range:l});if(d.map=c,u){var p=m(e);p.length&&(d.duration=p[0].duration,d.timeline=p[0].timeline)}else s&&(d.duration=s/a,d.timeline=0);return d.number=0,[d]}function o(e){var t=e.attributes,r=e.segmentInfo,n=void 0,s=void 0;if(r.template?(s=v,n=y(t,r.template)):r.base?(s=_,n=y(t,r.base)):r.list&&(s=b,n=y(t,r.list)),!s)return{attributes:t};var i=s(n,r.timeline);if(n.duration){var a=n.duration,o=n.timescale,l=void 0===o?1:o;n.duration=a/l}else i.length?n.duration=i.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):n.duration=0;return{attributes:n,segments:i}}function j(e,t){return a(e.childNodes).filter(function(e){return e.tagName===t})}function T(e){return e.textContent.trim()}function S(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var r=t.slice(1),n=r[0],s=r[1],i=r[2],a=r[3],o=r[4],l=r[5];return 31536e3*parseFloat(n||0)+2592e3*parseFloat(s||0)+86400*parseFloat(i||0)+3600*parseFloat(a||0)+60*parseFloat(o||0)+parseFloat(l||0)}function w(e){return e&&e.attributes?a(e.attributes).reduce(function(e,t){var r=U[t.name]||U.DEFAULT;return e[t.name]=r(t.value),e},{}):{}}var E=s(e("url-toolkit")),k=s(e("global/window")),x="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},C={static:function(e){var t=e.duration,r=e.timescale,n=void 0===r?1:r,s=e.sourceDuration;return{start:0,end:Math.ceil(s/(t/n))}},dynamic:function(e){var t=e.NOW,r=e.clientOffset,n=e.availabilityStartTime,s=e.timescale,i=void 0===s?1:s,a=e.duration,o=e.start,l=void 0===o?0:o,u=e.minimumUpdatePeriod,c=void 0===u?0:u,d=e.timeShiftBufferDepth,p=void 0===d?1/0:d,h=(t+r)/1e3,f=n+l,m=h+c-f,y=Math.ceil(m*i/a),g=Math.floor((h-f-p)*i/a),v=Math.floor((h-f)*i/a);return{start:Math.max(0,g),end:Math.min(y,v)}}},A=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,I="INVALID_NUMBER_OF_PERIOD",P="DASH_EMPTY_MANIFEST",L="DASH_INVALID_XML",O="NO_BASE_URL",R="SEGMENT_TIME_UNSPECIFIED",D="UNSUPPORTED_UTC_TIMING_SCHEME",U={mediaPresentationDuration:function(e){return S(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return S(e)},timeShiftBufferDepth:function(e){return S(e)},start:function(e){return S(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?S(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}};function M(e,r){return r.length?g(e.map(function(t){return r.map(function(e){return h(t,T(e))})})):e}function N(e){var t=j(e,"SegmentTemplate")[0],r=j(e,"SegmentList")[0],n=r&&j(r,"SegmentURL").map(function(e){return y({tag:"SegmentURL"},w(e))}),s=j(e,"SegmentBase")[0],i=r||t,a=i&&j(i,"SegmentTimeline")[0],o=r||s||t,l=o&&j(o,"Initialization")[0],u=t&&w(t);u&&l?u.initialization=l&&w(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var c={template:u,timeline:a&&j(a,"S").map(function(e){return w(e)}),list:r&&y(w(r),{segmentUrls:n,initialization:w(l)}),base:s&&y(w(s),{initialization:w(l)})};return Object.keys(c).forEach(function(e){c[e]||delete c[e]}),c}function B(e){return e.reduce(function(e,t){var r=w(t),n=V[r.schemeIdUri];if(n){e[n]={attributes:r};var s=j(t,"cenc:pssh")[0];if(s){var i=T(s),a=i&&function(e){for(var t=k.atob(e),r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}(i);e[n].pssh=a}}return e},{})}function F(h,f,m){return function(e){var t=w(e),r=M(f,j(e,"BaseURL")),n=j(e,"Role")[0],s={role:w(n)},i=y(h,t,s),a=B(j(e,"ContentProtection"));Object.keys(a).length&&(i=y(i,{contentProtection:a}));var o,l,u,c=N(e),d=j(e,"Representation"),p=y(m,c);return g(d.map((o=i,l=r,u=p,function(e){var t=j(e,"BaseURL"),r=M(l,t),n=y(o,w(e)),s=N(e);return r.map(function(e){return{segmentInfo:y(u,s),attributes:y(n,{baseUrl:e})}})})))}}function H(e,t){var r=1<arguments.length&&void 0!==t?t:{},n=r.manifestUri,s=void 0===n?"":n,i=r.NOW,a=void 0===i?Date.now():i,o=r.clientOffset,l=void 0===o?0:o,u=j(e,"Period");if(1!==u.length)throw new Error(I);var c,d,p=w(e),h=M([s],j(e,"BaseURL"));return p.sourceDuration=p.mediaPresentationDuration||0,p.NOW=a,p.clientOffset=l,g(u.map((c=p,d=h,function(e,t){var r=M(d,j(e,"BaseURL")),n=w(e),s=y(c,n,{periodIndex:t}),i=j(e,"AdaptationSet"),a=N(e);return g(i.map(F(s,r,a)))})))}function q(e){if(""===e)throw new Error(P);var t=(new k.DOMParser).parseFromString(e,"application/xml"),r=t&&"MPD"===t.documentElement.tagName?t.documentElement:null;if(!r||r&&0<r.getElementsByTagName("parsererror").length)throw new Error(L);return r}var V={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};r.VERSION="0.6.1",r.parse=function(e,t){return function(e){var t;if(!e.length)return{};var r=e[0].attributes,n=r.sourceDuration,s=r.minimumUpdatePeriod,i=void 0===s?0:s,a=e.filter(function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType}).map(p),o=e.filter(function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType}),l=e.filter(function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType}),u={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((t={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:n,playlists:a,minimumUpdatePeriod:1e3*i};return o.length&&(u.mediaGroups.AUDIO.audio=c(o)),l.length&&(u.mediaGroups.SUBTITLES.subs=d(l)),u}(H(q(e),t).map(o))},r.parseUTCTiming=function(e){return function(e){var t=j(e,"UTCTiming")[0];if(!t)return null;var r=w(t);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(D)}return r}(q(e))}},{"@babel/runtime/helpers/typeof":2,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.filter.js":196,"core-js/modules/es.array.for-each.js":199,"core-js/modules/es.array.index-of.js":200,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.join.js":202,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.reduce.js":206,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.function.name.js":214,"core-js/modules/es.object.keys.js":224,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.parse-float.js":227,"core-js/modules/es.parse-int.js":228,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.string.iterator.js":235,"core-js/modules/es.string.replace.js":238,"core-js/modules/es.string.split.js":240,"core-js/modules/es.string.trim.js":241,"core-js/modules/es.symbol.description.js":242,"core-js/modules/es.symbol.iterator.js":243,"core-js/modules/es.symbol.js":244,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272,"core-js/modules/web.dom-collections.for-each.js":275,"core-js/modules/web.dom-collections.iterator.js":276,"global/window":285,"url-toolkit":321}],289:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js");var n,s=e("../utils/stream.js");(n=function(){var o=new Uint8Array,l=0;n.prototype.init.call(this),this.setTimestamp=function(e){l=e},this.parseId3TagSize=function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+r:10+r},this.parseAdtsSize=function(e,t){var r=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|r},this.push=function(e){var t,r,n,s,i=0,a=0;for(o.length?(s=o.length,(o=new Uint8Array(e.byteLength+s)).set(o.subarray(0,s)),o.set(e,s)):o=e;3<=o.length-a;)if(o[a]!=="I".charCodeAt(0)||o[a+1]!=="D".charCodeAt(0)||o[a+2]!=="3".charCodeAt(0))if(!0&o[a]&&240==(240&o[a+1])){if(o.length-a<7)break;if((i=this.parseAdtsSize(o,a))>o.length)break;n={type:"audio",data:o.subarray(a,a+i),pts:l,dts:l},this.trigger("data",n),a+=i}else a++;else{if(o.length-a<10)break;if((i=this.parseId3TagSize(o,a))>o.length)break;r={type:"timed-metadata",data:o.subarray(a,a+i)},this.trigger("data",r),a+=i}t=o.length-a,o=0<t?o.subarray(a):new Uint8Array}}).prototype=new s,t.exports=n},{"../utils/stream.js":311,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272}],290:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js");function o(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];t.exports={parseId3TagSize:function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+r:10+r},parseAdtsSize:function(e,t){var r=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|r},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return n[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,r,n;t=10,64&e[5]&&(t+=4,t+=o(e.subarray(10,14)));do{if((r=o(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+r+10);for(var s=0;s<n.byteLength;s++)if(0===n[s]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(e,t,r){var n,s="";for(n=t;n<r;n++)s+="%"+("00"+e[n].toString(16)).slice(-2);return s}(n,0,s)))break;var i=n.subarray(s+1),a=(1&i[3])<<30|i[4]<<22|i[5]<<14|i[6]<<6|i[7]>>>2;return a*=4,a+=3&i[7]}}t+=10,t+=r}while(t<e.byteLength);return null}}},{"core-js/modules/es.array.slice.js":208,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.regexp.to-string.js":234}],291:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js");var n,s=e("../utils/stream.js"),c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(n=function(){var u;n.prototype.init.call(this),this.push=function(e){var t,r,n,s,i,a,o=0,l=0;if("audio"===e.type)for(u?(s=u,(u=new Uint8Array(s.byteLength+e.data.byteLength)).set(s),u.set(e.data,s.byteLength)):u=e.data;o+5<u.length;)if(255===u[o]&&240==(246&u[o+1])){if(r=2*(1&~u[o+1]),t=(3&u[o+3])<<11|u[o+4]<<3|(224&u[o+5])>>5,a=9e4*(i=1024*(1+(3&u[o+6])))/c[(60&u[o+2])>>>2],n=o+t,u.byteLength<n)return;if(this.trigger("data",{pts:e.pts+l*a,dts:e.dts+l*a,sampleCount:i,audioobjecttype:1+(u[o+2]>>>6&3),channelcount:(1&u[o+2])<<2|(192&u[o+3])>>>6,samplerate:c[(60&u[o+2])>>>2],samplingfrequencyindex:(60&u[o+2])>>>2,samplesize:16,data:u.subarray(o+7+r,n)}),u.byteLength===n)return void(u=void 0);l++,u=u.subarray(n)}else o++},this.flush=function(){this.trigger("done")}}).prototype=new s,t.exports=n},{"../utils/stream.js":311,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272}],292:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js");var l,u,_,n=e("../utils/stream.js"),j=e("../utils/exp-golomb.js");(u=function(){var r,n,s=0;u.prototype.init.call(this),this.push=function(e){var t;for(n=n?((t=new Uint8Array(n.byteLength+e.data.byteLength)).set(n),t.set(e.data,n.byteLength),t):e.data;s<n.byteLength-3;s++)if(1===n[s+2]){r=s+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}for(s+3!==r-2&&this.trigger("data",n.subarray(s+3,r-2));1!==n[++r]&&r<n.length;);s=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}this.trigger("data",n.subarray(s+3,r-2)),s=r-2,r+=3;break;default:r+=3}n=n.subarray(s),r-=s,s=0},this.flush=function(){n&&3<n.byteLength&&this.trigger("data",n.subarray(s+3)),n=null,s=0,this.trigger("done")}}).prototype=new n,_={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(l=function(){var r,n,s,i,a,o,b,t=new u;l.prototype.init.call(this),(r=this).push=function(e){"video"===e.type&&(n=e.trackId,s=e.pts,i=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:n,pts:s,dts:i,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=a(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=a(e.subarray(1)),t.config=o(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}r.trigger("data",t)}),t.on("done",function(){r.trigger("done")}),this.flush=function(){t.flush()},b=function(e,t){var r,n=8,s=8;for(r=0;r<e;r++)0!==s&&(s=(n+t.readExpGolomb()+256)%256),n=0===s?n:s},a=function(e){for(var t,r,n=e.byteLength,s=[],i=1;i<n-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(s.push(i+2),i+=2):i++;if(0===s.length)return e;t=n-s.length,r=new Uint8Array(t);var a=0;for(i=0;i<t;a++,i++)a===s[0]&&(a++,s.shift()),r[i]=e[a];return r},o=function(e){var t,r,n,s,i,a,o,l,u,c,d,p,h,f=0,m=0,y=0,g=0,v=1;if(r=(t=new j(e)).readUnsignedByte(),s=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),_[r]&&(3===(i=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==i?8:12,h=0;h<d;h++)t.readBoolean()&&b(h<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(a=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===a)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),o=t.readUnsignedExpGolomb(),h=0;h<o;h++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),0===(c=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(f=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}p&&(v=p[0]/p[1])}return{profileIdc:r,levelIdc:n,profileCompatibility:s,width:Math.ceil((16*(l+1)-2*f-2*m)*v),height:(2-c)*(u+1)*16-2*y-2*g}}}).prototype=new n,t.exports={H264Stream:l,NalByteStream:u}},{"../utils/exp-golomb.js":310,"../utils/stream.js":311,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272}],293:[function(e,t,r){e("core-js/modules/es.array.reduce.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js"),e("core-js/modules/es.array.concat.js");function n(e){for(var t=[];e--;)t.push(0);return t}var s,i=[33,16,5,32,164,27],a=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],o={96e3:[i,[227,64],n(154),[56]],88200:[i,[231],n(170),[56]],64e3:[i,[248,192],n(240),[56]],48e3:[i,[255,192],n(268),[55,148,128],n(54),[112]],44100:[i,[255,192],n(268),[55,163,128],n(84),[112]],32e3:[i,[255,192],n(268),[55,234],n(226),[112]],24e3:[i,[255,192],n(268),[55,255,128],n(268),[111,112],n(126),[224]],16e3:[i,[255,192],n(268),[55,255,128],n(268),[111,255],n(269),[223,108],n(195),[1,192]],12e3:[a,n(268),[3,127,248],n(268),[6,255,240],n(268),[13,255,224],n(268),[27,253,128],n(259),[56]],11025:[a,n(268),[3,127,248],n(268),[6,255,240],n(268),[13,255,224],n(268),[27,255,192],n(268),[55,175,128],n(108),[112]],8e3:[a,n(268),[3,121,16],n(47),[7]]};t.exports=(s=o,Object.keys(s).reduce(function(e,t){return e[t]=new Uint8Array(s[t].reduce(function(e,t){return e.concat(t)},[])),e},{}))},{"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.reduce.js":206,"core-js/modules/es.object.keys.js":224,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272}],294:[function(e,t,r){"use strict";e("core-js/modules/es.array.for-each.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.array.sort.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.array.index-of.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.array.join.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.string.trim.js"),e("core-js/modules/es.array.reduce.js"),e("core-js/modules/es.array.reverse.js");function n(){n.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new c(0,0),new c(0,1),new c(1,0),new c(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)}var s=e("../utils/stream"),i=e("../tools/caption-packet-parser");(n.prototype=new s).push=function(e){var t,r,n;if("sei_rbsp"===e.nalUnitType&&(t=i.parseSei(e.escapedRBSP)).payloadType===i.USER_DATA_REGISTERED_ITU_T_T35&&(r=i.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=i.parseCaptionPackets(e.pts,r),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},n.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)):this.ccStreams_.forEach(function(e){e.flush()},this)},n.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},n.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},n.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},n.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};function o(e){return null===e?"":(e=a[e]||e,String.fromCharCode(e))}function l(){for(var e=[],t=15;t--;)e.push("");return e}var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},u=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function e(t,r){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=r||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,r,n,s,i;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,s=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=l();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=l();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=l()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,s))i=o((n=(3&n)<<8)|s),this[this.mode_](e.pts,i),this.column_++;else if(this.isExtCharacter(n,s))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=o((n=(3&n)<<8)|s),this[this.mode_](e.pts,i),this.column_++;else if(this.isMidRowCode(n,s))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&s)&&this.addFormatting(e.pts,["i"]),1==(1&s)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,s))this.column_+=3&s;else if(this.isPAC(n,s)){var a=u.indexOf(7968&t);"rollUp"===this.mode_&&this.setRollUp(e.pts,a),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&s&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(s)&&14==(14&s)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===s&&(s=null),i=o(n),i+=o(s),this[this.mode_](e.pts,i),this.column_+=i.length)}else this.lastControlCode_=null}};c.prototype=new s,c.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},c.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=l(),this.nonDisplayed_=l(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},c.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},c.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},c.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},c.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},c.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},c.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},c.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},c.prototype.isNormalChar=function(e){return 32<=e&&e<=127},c.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=l(),this.displayed_=l()),void 0!==t&&t!==this.row_)for(var r=0;r<this.rollUpRows_;r++)this.displayed_[t-r]=this.displayed_[this.row_-r],this.displayed_[this.row_-r]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},c.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var r=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,r)},c.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},c.prototype.popOn=function(e,t){var r=this.nonDisplayed_[this.row_];r+=t,this.nonDisplayed_[this.row_]=r},c.prototype.rollUp=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r},c.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},c.prototype.paintOn=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r},t.exports={CaptionStream:n,Cea608Stream:c}},{"../tools/caption-packet-parser":305,"../utils/stream":311,"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.for-each.js":199,"core-js/modules/es.array.index-of.js":200,"core-js/modules/es.array.join.js":202,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.reduce.js":206,"core-js/modules/es.array.reverse.js":207,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.array.sort.js":210,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.string.replace.js":238,"core-js/modules/es.string.trim.js":241,"core-js/modules/web.dom-collections.for-each.js":275}],295:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js");var n,o,l,s=e("../utils/stream.js"),i=e("./caption-stream"),u=e("./stream-types"),a=e("./timestamp-rollover-stream").TimestampRolloverStream,c=e("./stream-types.js");(n=function(){var s=new Uint8Array(188),i=0;n.prototype.init.call(this),this.push=function(e){var t,r=0,n=188;for(i?((t=new Uint8Array(e.byteLength+i)).set(s.subarray(0,i)),t.set(e,i),i=0):t=e;n<t.byteLength;)71!==t[r]||71!==t[n]?(r++,n++):(this.trigger("data",t.subarray(r,n)),r+=188,n+=188);r<t.byteLength&&(s.set(t.subarray(r),0),i=t.byteLength-r)},this.flush=function(){188===i&&71===s[0]&&(this.trigger("data",s),i=0),this.trigger("done")}}).prototype=new s,(o=function(){var n,s,i,a;o.prototype.init.call(this),(a=this).packetsWaitingForPmt=[],this.programMapTable=void 0,n=function(e,t){var r=0;t.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===t.type?s(e.subarray(r),t):i(e.subarray(r),t)},s=function(e,t){t.section_number=e[7],t.last_section_number=e[8],a.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=a.pmtPid},i=function(e,t){var r,n;if(1&e[5]){for(a.programMapTable={video:null,audio:null,"timed-metadata":{}},r=3+((15&e[1])<<8|e[2])-4,n=12+((15&e[10])<<8|e[11]);n<r;){var s=e[n],i=(31&e[n+1])<<8|e[n+2];s===u.H264_STREAM_TYPE&&null===a.programMapTable.video?a.programMapTable.video=i:s===u.ADTS_STREAM_TYPE&&null===a.programMapTable.audio?a.programMapTable.audio=i:s===u.METADATA_STREAM_TYPE&&(a.programMapTable["timed-metadata"][i]=s),n+=5+((15&e[n+3])<<8|e[n+4])}t.programMapTable=a.programMapTable}},this.push=function(e){var t={},r=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(r+=e[r]+1),0===t.pid)t.type="pat",n(e.subarray(r),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",n(e.subarray(r),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,r,t]):this.processPes_(e,r,t)},this.processPes_=function(e,t,r){r.pid===this.programMapTable.video?r.streamType=u.H264_STREAM_TYPE:r.pid===this.programMapTable.audio?r.streamType=u.ADTS_STREAM_TYPE:r.streamType=this.programMapTable["timed-metadata"][r.pid],r.type="pes",r.data=e.subarray(t),this.trigger("data",r)}}).prototype=new s,o.STREAM_TYPES={h264:27,adts:15},(l=function(){function n(e,t,r){var n,s,i=new Uint8Array(e.size),a={type:t},o=0,l=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,o=0;o<e.data.length;o++)s=e.data[o],i.set(s.data,l),l+=s.data.byteLength;var u,c,d;u=i,(c=a).packetLength=6+(u[4]<<8|u[5]),c.dataAlignmentIndicator=0!=(4&u[6]),192&(d=u[7])&&(c.pts=(14&u[9])<<27|(255&u[10])<<20|(254&u[11])<<12|(255&u[12])<<5|(254&u[13])>>>3,c.pts*=4,c.pts+=(6&u[13])>>>1,c.dts=c.pts,64&d&&(c.dts=(14&u[14])<<27|(255&u[15])<<20|(254&u[16])<<12|(255&u[17])<<5|(254&u[18])>>>3,c.dts*=4,c.dts+=(6&u[18])>>>1)),c.data=u.subarray(9+u[8]),n="video"===t||a.packetLength<=e.size,(r||n)&&(e.size=0,e.data.length=0),n&&p.trigger("data",a)}}var p=this,s={data:[],size:0},i={data:[],size:0},a={data:[],size:0};l.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var e,t;switch(r.streamType){case u.H264_STREAM_TYPE:case c.H264_STREAM_TYPE:e=s,t="video";break;case u.ADTS_STREAM_TYPE:e=i,t="audio";break;case u.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&n(e,t,!0),e.data.push(r),e.size+=r.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},t=r.programMapTable;null!==t.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),p.trigger("data",e)}})[r.type]()},this.flush=function(){n(s,"video"),n(i,"audio"),n(a,"timed-metadata"),this.trigger("done")}}).prototype=new s;var d={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:n,TransportParseStream:o,ElementaryStream:l,TimestampRolloverStream:a,CaptionStream:i.CaptionStream,Cea608Stream:i.Cea608Stream,MetadataStream:e("./metadata-stream")};for(var p in u)u.hasOwnProperty(p)&&(d[p]=u[p]);t.exports=d},{"../utils/stream.js":311,"./caption-stream":294,"./metadata-stream":296,"./stream-types":298,"./stream-types.js":298,"./timestamp-rollover-stream":299,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272}],296:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/es.symbol.js"),e("core-js/modules/es.symbol.description.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js");function n(e,t,r){var n,s="";for(n=t;n<r;n++)s+="%"+("00"+e[n].toString(16)).slice(-2);return s}function s(e,t,r){return decodeURIComponent(n(e,t,r))}function p(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}var i,a=e("../utils/stream"),o=e("./stream-types"),h={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,r;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(r=e.data,unescape(n(r,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(i=function(e){var t,l={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},u=0,c=[],d=0;if(i.prototype.init.call(this),this.dispatchType=o.METADATA_STREAM_TYPE.toString(16),l.descriptor)for(t=0;t<l.descriptor.length;t++)this.dispatchType+=("00"+l.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,r,n,s,i;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(d=0,c.length=0),0===c.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))l.debug&&console.log("Skipping unrecognized metadata packet");else if(c.push(e),d+=e.data.byteLength,1===c.length&&(u=p(e.data.subarray(6,10)),u+=10),!(d<u)){for(t={data:new Uint8Array(u),frames:[],pts:c[0].pts,dts:c[0].dts},i=0;i<u;)t.data.set(c[0].data.subarray(0,u-i),i),i+=c[0].data.byteLength,d-=c[0].data.byteLength,c.shift();r=10,64&t.data[5]&&(r+=4,r+=p(t.data.subarray(10,14)),u-=p(t.data.subarray(16,20)));do{if((n=p(t.data.subarray(r+4,r+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((s={id:String.fromCharCode(t.data[r],t.data[r+1],t.data[r+2],t.data[r+3]),data:t.data.subarray(r+10,r+n+10)}).key=s.id,h[s.id]&&(h[s.id](s),"com.apple.streaming.transportStreamTimestamp"===s.owner)){var a=s.data,o=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;o*=4,o+=3&a[7],s.timeStamp=o,void 0===t.pts&&void 0===t.dts&&(t.pts=s.timeStamp,t.dts=s.timeStamp),this.trigger("timestamp",s)}t.frames.push(s),r+=10,r+=n}while(r<u);this.trigger("data",t)}}}).prototype=new a,t.exports=i},{"../utils/stream":311,"./stream-types":298,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.regexp.to-string.js":234,"core-js/modules/es.string.replace.js":238,"core-js/modules/es.symbol.description.js":242,"core-js/modules/es.symbol.js":244,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272}],297:[function(e,t,r){"use strict";function n(e){var t=31&e[1];return t<<=8,t|=e[2]}function o(e){return!!(64&e[1])}function l(e){var t=0;return 1<(48&e[3])>>>4&&(t+=e[4]+1),t}function a(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}var s=e("./stream-types.js");t.exports={parseType:function(e,t){var r=n(e);return 0===r?"pat":r===t?"pmt":t?"pes":null},parsePat:function(e){var t=o(e),r=4+l(e);return t&&(r+=e[r]+1),(31&e[r+10])<<8|e[r+11]},parsePmt:function(e){var t={},r=o(e),n=4+l(e);if(r&&(n+=e[n]+1),1&e[n+5]){var s;s=3+((15&e[n+1])<<8|e[n+2])-4;for(var i=12+((15&e[n+10])<<8|e[n+11]);i<s;){var a=n+i;t[(31&e[a+1])<<8|e[a+2]]=e[a],i+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:o,parsePesType:function(e,t){switch(t[n(e)]){case s.H264_STREAM_TYPE:return"video";case s.ADTS_STREAM_TYPE:return"audio";case s.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!o(e))return null;var t=4+l(e);if(t>=e.byteLength)return null;var r,n=null;return 192&(r=e[t+7])&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&r&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+l(e),r=e.subarray(t),n=0,s=0,i=!1;s<r.byteLength-3;s++)if(1===r[s+2]){n=s+5;break}for(;n<r.byteLength;)switch(r[n]){case 0:if(0!==r[n-1]){n+=2;break}if(0!==r[n-2]){n++;break}for(s+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===a(31&r[s+3])&&(i=!0);1!==r[++n]&&n<r.length;);s=n-2,n+=3;break;case 1:if(0!==r[n-1]||0!==r[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===a(31&r[s+3])&&(i=!0),s=n-2,n+=3;break;default:n+=3}return r=r.subarray(s),n-=s,s=0,r&&3<r.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===a(31&r[s+3])&&(i=!0),i}}},{"./stream-types.js":298}],298:[function(e,t,r){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],299:[function(e,t,r){"use strict";function n(e,t){var r=1;for(t<e&&(r=-1);4294967296<Math.abs(t-e);)e+=8589934592*r;return e}function s(e){var t,r;s.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(void 0===r&&(r=e.dts),e.dts=n(e.dts,r),e.pts=n(e.pts,r),t=e.dts,this.trigger("data",e))},this.flush=function(){r=t,this.trigger("done")},this.discontinuity=function(){t=r=void 0}}var i=e("../utils/stream");s.prototype=new i,t.exports={TimestampRolloverStream:s,handleRollover:n}},{"../utils/stream":311}],300:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/typeof");e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.data-view.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.array.for-each.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.object.keys.js");function b(e,t){for(var r=e,n=0;n<t.length;n++){var s=t[n];if(r<s.size)return s;r-=s.size}return null}function p(e,g){var n=j.findBox(e,["moof","traf"]),t=j.findBox(e,["mdat"]),v={},s=[];return t.forEach(function(e,t){var r=n[t];s.push({mdat:e,traf:r})}),s.forEach(function(e){var t,r,n,s,i,a,o,l,u=e.mdat,c=e.traf,d=j.findBox(c,["tfhd"]),p=T.parseTfhd(d[0]),h=p.trackId,f=j.findBox(c,["tfdt"]),m=0<f.length?T.parseTfdt(f[0]).baseMediaDecodeTime:0,y=j.findBox(c,["trun"]);g===h&&0<y.length&&(r=y,s=m,i=(n=p).defaultSampleDuration||0,a=n.defaultSampleSize||0,o=n.trackId,l=[],r.forEach(function(e){var t=T.parseTrun(e).samples;t.forEach(function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=a),e.trackId=o,e.dts=s,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=s+e.compositionTimeOffset,s+=e.duration}),l=l.concat(t)}),t=function(e,t,r){var n,s,i,a,o=new DataView(e.buffer,e.byteOffset,e.byteLength),l=[];for(s=0;s+4<e.length;s+=i)if(i=o.getUint32(s),s+=4,!(i<=0))switch(31&e[s]){case 6:var u=e.subarray(s+1,s+1+i),c=b(s,t);n={nalUnitType:"sei_rbsp",size:i,data:u,escapedRBSP:_(u),trackId:r},c?(n.pts=c.pts,n.dts=c.dts,a=c):(n.pts=a.pts,n.dts=a.dts),l.push(n)}return l}(u,l,h),v[h]||(v[h]=[]),v[h]=v[h].concat(t))}),v}var _=e("../tools/caption-packet-parser").discardEmulationPreventionBytes,s=e("../m2ts/caption-stream").CaptionStream,j=e("./probe"),T=e("../tools/mp4-inspector");t.exports=function(){var t,l,u,c,d,e=!1;this.isInitialized=function(){return e},this.init=function(){t=new s,e=!0,t.on("data",function(e){e.startTime=e.startPts/c,e.endTime=e.endPts/c,d.captions.push(e),d.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"===n(t)&&0===Object.keys(t).length)&&(u!==e[0]||c!==t[u])},this.parse=function(e,t,r){var n,s,i,a;if(!this.isInitialized())return null;if(!t||!r)return null;if(this.isNewInit(t,r))u=t[0],c=r[u];else if(!u||!c)return l.push(e),null;for(;0<l.length;){var o=l.shift();this.parse(o,t,r)}return s=e,a=c,null!==(n=(i=u)?{seiNals:p(s,i)[i],timescale:a}:null)&&n.seiNals?(this.pushNals(n.seiNals),this.flushStream(),d):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){d.captions=[],d.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){l=[],c=u=null,d?this.clearParsedCaptions():d={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},{"../m2ts/caption-stream":294,"../tools/caption-packet-parser":305,"../tools/mp4-inspector":306,"./probe":303,"@babel/runtime/helpers/typeof":2,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.for-each.js":199,"core-js/modules/es.data-view.js":212,"core-js/modules/es.object.keys.js":224,"core-js/modules/es.object.to-string.js":226,"core-js/modules/web.dom-collections.for-each.js":275}],301:[function(e,t,r){t.exports={generator:e("./mp4-generator"),probe:e("./probe"),Transmuxer:e("./transmuxer").Transmuxer,AudioSegmentStream:e("./transmuxer").AudioSegmentStream,VideoSegmentStream:e("./transmuxer").VideoSegmentStream,CaptionParser:e("./caption-parser")}},{"./caption-parser":300,"./mp4-generator":302,"./probe":303,"./transmuxer":304}],302:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js"),e("core-js/modules/es.data-view.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.regexp.flags.js"),e("core-js/modules/es.array.slice.js");var o,n,s,i,a,l,u,c,d,p,h,f,m,y,g,v,b,_,j,T,S,w,E,k,x,C,A,I,P,L,O,R,D,U,M,N,B,F,H,q,V,G=Math.pow(2,32)-1;!function(){var e;if(E={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in E)E.hasOwnProperty(e)&&(E[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);k=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),C=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),x=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),I=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:A,audio:I},R=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),U=D,M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=D,L=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),o=function(e){var t,r,n=[],s=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)s+=n[t].byteLength;for(r=new Uint8Array(s+8),new DataView(r.buffer,r.byteOffset,r.byteLength).setUint32(0,r.byteLength),r.set(e,4),t=0,s=8;t<n.length;t++)r.set(n[t],s),s+=n[t].byteLength;return r},n=function(){return o(E.dinf,o(E.dref,R))},s=function(e){return o(E.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},i=function(){return o(E.ftyp,k,x,k,C)},v=function(e){return o(E.hdlr,P[e])},a=function(e){return o(E.mdat,e)},g=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),o(E.mdhd,t)},y=function(e){return o(E.mdia,g(e),v(e.type),u(e))},l=function(e){return o(E.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},u=function(e){return o(E.minf,"video"===e.type?o(E.vmhd,L):o(E.smhd,O),n(),_(e))},c=function(e,t){for(var r=[],n=t.length;n--;)r[n]=T(t[n]);return o.apply(null,[E.moof,l(e)].concat(r))},d=function(e){for(var t=e.length,r=[];t--;)r[t]=f(e[t]);return o.apply(null,[E.moov,h(4294967295)].concat(r).concat(p(e)))},p=function(e){for(var t=e.length,r=[];t--;)r[t]=S(e[t]);return o.apply(null,[E.mvex].concat(r))},h=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(E.mvhd,t)},b=function(e){var t,r,n=e.samples||[],s=new Uint8Array(4+n.length);for(r=0;r<n.length;r++)t=n[r].flags,s[r+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return o(E.sdtp,s)},_=function(e){return o(E.stbl,j(e),o(E.stts,N),o(E.stsc,U),o(E.stsz,M),o(E.stco,D))},j=function(e){return o(E.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?B(e):F(e))},B=function(e){var t,r=e.sps||[],n=e.pps||[],s=[],i=[];for(t=0;t<r.length;t++)s.push((65280&r[t].byteLength)>>>8),s.push(255&r[t].byteLength),s=s.concat(Array.prototype.slice.call(r[t]));for(t=0;t<n.length;t++)i.push((65280&n[t].byteLength)>>>8),i.push(255&n[t].byteLength),i=i.concat(Array.prototype.slice.call(n[t]));return o(E.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(E.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length]).concat(s).concat([n.length]).concat(i))),o(E.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},F=function(e){return o(E.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),s(e))},m=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return o(E.tkhd,t)},T=function(e){var t,r,n,s,i,a;return t=o(E.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),i=Math.floor(e.baseMediaDecodeTime/(1+G)),a=Math.floor(e.baseMediaDecodeTime%(1+G)),r=o(E.tfdt,new Uint8Array([1,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),"audio"===e.type?(n=w(e,92),o(E.traf,t,r,n)):(s=b(e),n=w(e,s.length+92),o(E.traf,t,r,n,s))},f=function(e){return e.duration=e.duration||4294967295,o(E.trak,m(e),y(e))},S=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),o(E.trex,t)},V=function(e,t){var r=0,n=0,s=0,i=0;return e.length&&(void 0!==e[0].duration&&(r=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(s=4),void 0!==e[0].compositionTimeOffset&&(i=8)),[0,0,r|n|s|i,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},q=function(e,t){var r,n,s,i;for(n=e.samples||[],r=V(n,t+=20+16*n.length),i=0;i<n.length;i++)s=n[i],r=r.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size,s.flags.isLeading<<2|s.flags.dependsOn,s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,61440&s.flags.degradationPriority,15&s.flags.degradationPriority,(4278190080&s.compositionTimeOffset)>>>24,(16711680&s.compositionTimeOffset)>>>16,(65280&s.compositionTimeOffset)>>>8,255&s.compositionTimeOffset]);return o(E.trun,new Uint8Array(r))},H=function(e,t){var r,n,s,i;for(n=e.samples||[],r=V(n,t+=20+8*n.length),i=0;i<n.length;i++)s=n[i],r=r.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size]);return o(E.trun,new Uint8Array(r))},w=function(e,t){return"audio"===e.type?H(e,t):q(e,t)},t.exports={ftyp:i,mdat:a,moof:c,moov:d,initSegment:function(e){var t,r=i(),n=d(e);return(t=new Uint8Array(r.byteLength+n.byteLength)).set(r),t.set(n,r.byteLength),t}}},{"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.data-view.js":212,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.regexp.flags.js":233,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272}],303:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.array.reduce.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.array.for-each.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.data-view.js"),e("core-js/modules/es.object.to-string.js");var l,u,n,s,i,c=e("../utils/bin").toUnsigned;l=function(e,t){var r,n,s,i,a,o=[];if(!t.length)return null;for(r=0;r<e.byteLength;)n=c(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]),s=u(e.subarray(r+4,r+8)),i=1<n?r+n:e.byteLength,s===t[0]&&(1===t.length?o.push(e.subarray(r+8,i)):(a=l(e.subarray(r+8,i),t.slice(1))).length&&(o=o.concat(a))),r=i;return o},u=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},n=function(e){return l(e,["moov","trak"]).reduce(function(e,t){var r,n,s,i,a;return(r=l(t,["tkhd"])[0])?(n=r[0],i=c(r[s=0===n?12:20]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3]),(a=l(t,["mdia","mdhd"])[0])?(s=0===(n=a[0])?12:20,e[i]=c(a[s]<<24|a[s+1]<<16|a[s+2]<<8|a[s+3]),e):null):null},{})},s=function(s,e){var t,r,n;return t=l(e,["moof","traf"]),r=[].concat.apply([],t.map(function(n){return l(n,["tfhd"]).map(function(e){var t,r;return t=c(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),r=s[t]||9e4,(l(n,["tfdt"]).map(function(e){var t,r;return t=e[0],r=c(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(r*=Math.pow(2,32),r+=c(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),r})[0]||1/0)/r})})),n=Math.min.apply(null,r),isFinite(n)?n:0},i=function(e){var t=l(e,["moov","trak"]),o=[];return t.forEach(function(e){var t=l(e,["mdia","hdlr"]),a=l(e,["tkhd"]);t.forEach(function(e,t){var r,n,s=u(e.subarray(8,12)),i=a[t];"vide"===s&&(n=0===(r=new DataView(i.buffer,i.byteOffset,i.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),o.push(n))})}),o},t.exports={findBox:l,parseType:u,timescale:n,startTime:s,videoTrackIds:i}},{"../utils/bin":308,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.for-each.js":199,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.reduce.js":206,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.data-view.js":212,"core-js/modules/es.object.to-string.js":226,"core-js/modules/web.dom-collections.for-each.js":275}],304:[function(e,t,r){"use strict";e("core-js/modules/es.array.for-each.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js"),e("core-js/modules/es.array.splice.js"),e("core-js/modules/es.array.filter.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.regexp.flags.js"),e("core-js/modules/es.data-view.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.array.reduce.js");var p,l,o,u,h,c,f,m,y,g,d,n=e("../utils/stream.js"),v=e("./mp4-generator.js"),b=e("../m2ts/m2ts.js"),_=e("../codecs/adts.js"),j=e("../codecs/h264").H264Stream,T=e("../aac"),S=e("../data/silence"),w=e("../utils/clock"),E=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],k=["width","height","profileIdc","levelIdc","profileCompatibility"];h=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},c=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},g=function(e,t){var r;if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},d=function(e){var t,r=0;for(t=0;t<e.length;t++)r+=e[t].data.byteLength;return r},(l=function(s,i){var a=[],o=0,t=0,u=0,c=1/0;i=i||{},l.prototype.init.call(this),this.push=function(t){f(s,t),s&&E.forEach(function(e){s[e]=t[e]}),a.push(t)},this.setEarliestDts=function(e){t=e-s.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){c=e},this.setAudioAppendStart=function(e){u=e},this.flush=function(){var e,t,r,n;0!==a.length&&(e=this.trimAdtsFramesByEarliestDts_(a),s.baseMediaDecodeTime=y(s,i.keepOriginalTimestamps),this.prefixWithSilence_(s,e),s.samples=this.generateSampleTable_(e),r=v.mdat(this.concatenateFrameData_(e)),a=[],t=v.moof(o,[s]),n=new Uint8Array(t.byteLength+r.byteLength),o++,n.set(t),n.set(r,t.byteLength),m(s),this.trigger("data",{track:s,boxes:n})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var r,n,s,i,a=0,o=0,l=0;if(t.length&&(r=w.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),n=Math.ceil(9e4/(e.samplerate/1024)),u&&c&&(a=r-Math.max(u,c),l=(o=Math.floor(a/n))*n),!(o<1||45e3<l))){for(s=(s=S[e.samplerate])||t[0].data,i=0;i<o;i++)t.splice(i,0,{data:s});e.baseMediaDecodeTime-=Math.floor(w.videoTsToAudioTs(l,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return s.minSegmentDts>=t?e:(s.minSegmentDts=1/0,e.filter(function(e){return e.dts>=t&&(s.minSegmentDts=Math.min(s.minSegmentDts,e.dts),s.minSegmentPts=s.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,r,n=[];for(t=0;t<e.length;t++)r=e[t],n.push({size:r.data.byteLength,duration:1024});return n},this.concatenateFrameData_=function(e){var t,r,n=0,s=new Uint8Array(d(e));for(t=0;t<e.length;t++)r=e[t],s.set(r.data,n),n+=r.data.byteLength;return s}}).prototype=new n,(p=function(o,l){var t,r,u=0,c=[],d=[];l=l||{},p.prototype.init.call(this),delete o.minPTS,this.gopCache_=[],this.push=function(e){f(o,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,o.sps=[e.data],k.forEach(function(e){o[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.data,o.pps=[e.data]),c.push(e)},this.flush=function(){for(var e,t,r,n,s,i;c.length&&"access_unit_delimiter_rbsp"!==c[0].nalUnitType;)c.shift();if(0===c.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(e=this.groupNalsIntoFrames_(c),(r=this.groupFramesIntoGops_(e))[0][0].keyFrame||((t=this.getGopForFusion_(c[0],o))?(r.unshift(t),r.byteLength+=t.byteLength,r.nalCount+=t.nalCount,r.pts=t.pts,r.dts=t.dts,r.duration+=t.duration):r=this.extendFirstKeyFrame_(r)),d.length){var a;if(!(a=l.alignGopsAtEnd?this.alignGopsAtEnd_(r):this.alignGopsAtStart_(r)))return this.gopCache_.unshift({gop:r.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),c=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");m(o),r=a}f(o,r),o.samples=this.generateSampleTable_(r),s=v.mdat(this.concatenateNalData_(r)),o.baseMediaDecodeTime=y(o,l.keepOriginalTimestamps),this.trigger("processedGopsInfo",r.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:r.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),c=[],this.trigger("baseMediaDecodeTime",o.baseMediaDecodeTime),this.trigger("timelineStartInfo",o.timelineStartInfo),n=v.moof(u,[o]),i=new Uint8Array(n.byteLength+s.byteLength),u++,i.set(n),i.set(s,n.byteLength),this.trigger("data",{track:o,boxes:i}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){m(o),r=t=void 0},this.getGopForFusion_=function(e){var t,r,n,s,i,a=1/0;for(i=0;i<this.gopCache_.length;i++)n=(s=this.gopCache_[i]).gop,o.pps&&g(o.pps[0],s.pps[0])&&o.sps&&g(o.sps[0],s.sps[0])&&(n.dts<o.timelineStartInfo.dts||-1e4<=(t=e.dts-n.dts-n.duration)&&t<=45e3&&(!r||t<a)&&(r=s,a=t));return r?r.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,r,n=[],s=[];for(t=n.byteLength=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(r=e[t]).nalUnitType?(n.length&&(n.duration=r.dts-n.dts,s.push(n)),(n=[r]).byteLength=r.data.byteLength,n.pts=r.pts,n.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(n.keyFrame=!0),n.duration=r.dts-n.dts,n.byteLength+=r.data.byteLength,n.push(r));return s.length&&(!n.duration||n.duration<=0)&&(n.duration=s[s.length-1].duration),s.push(n),s},this.groupFramesIntoGops_=function(e){var t,r,n=[],s=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,s.byteLength=0,s.nalCount=0,s.duration=0,s.pts=e[0].pts,s.dts=e[0].dts,t=0;t<e.length;t++)(r=e[t]).keyFrame?(n.length&&(s.push(n),s.byteLength+=n.byteLength,s.nalCount+=n.nalCount,s.duration+=n.duration),(n=[r]).nalCount=r.length,n.byteLength=r.byteLength,n.pts=r.pts,n.dts=r.dts,n.duration=r.duration):(n.duration+=r.duration,n.nalCount+=r.length,n.byteLength+=r.byteLength,n.push(r));return s.length&&n.duration<=0&&(n.duration=s[s.length-1].duration),s.byteLength+=n.byteLength,s.nalCount+=n.nalCount,s.duration+=n.duration,s.push(n),s},this.generateSampleTable_=function(e,t){var r,n,s,i,a,o=t||0,l=[];for(r=0;r<e.length;r++)for(i=e[r],n=0;n<i.length;n++)a=i[n],(s=h()).dataOffset=o,s.compositionTimeOffset=a.pts-a.dts,s.duration=a.duration,s.size=4*a.length,s.size+=a.byteLength,a.keyFrame&&(s.flags.dependsOn=2,s.flags.isNonSyncSample=0),o+=s.size,l.push(s);return l},this.concatenateNalData_=function(e){var t,r,n,s,i,a,o=0,l=e.byteLength,u=e.nalCount,c=new Uint8Array(l+4*u),d=new DataView(c.buffer);for(t=0;t<e.length;t++)for(s=e[t],r=0;r<s.length;r++)for(i=s[r],n=0;n<i.length;n++)a=i[n],d.setUint32(o,a.data.byteLength),o+=4,c.set(a.data,o),o+=a.data.byteLength;return c},this.alignGopsAtStart_=function(e){var t,r,n,s,i,a,o,l;for(i=e.byteLength,a=e.nalCount,o=e.duration,t=r=0;t<d.length&&r<e.length&&(n=d[t],s=e[r],n.pts!==s.pts);)s.pts>n.pts?t++:(r++,i-=s.byteLength,a-=s.nalCount,o-=s.duration);return 0===r?e:r===e.length?null:((l=e.slice(r)).byteLength=i,l.duration=o,l.nalCount=a,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(e){var t,r,n,s,i,a,o;for(t=d.length-1,r=e.length-1,i=null,a=!1;0<=t&&0<=r;){if(n=d[t],s=e[r],n.pts===s.pts){a=!0;break}n.pts>s.pts?t--:(t===d.length-1&&(i=r),r--)}if(!a&&null===i)return null;if(0===(o=a?r:i))return e;var l=e.slice(o),u=l.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return l.byteLength=u.byteLength,l.duration=u.duration,l.nalCount=u.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(e){d=e}}).prototype=new n,f=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},m=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},y=function(e,t){var r,n=e.minSegmentDts;return t||(n-=e.timelineStartInfo.dts),r=e.timelineStartInfo.baseMediaDecodeTime,r+=n,r=Math.max(0,r),"audio"===e.type&&(r*=e.samplerate/9e4,r=Math.floor(r)),r},(u=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!=typeof e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,u.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new n,u.prototype.flush=function(e){var t,r,n,s,i=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,k.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,E.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,n=v.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(n.byteLength),a.initSegment.set(n),a.data=new Uint8Array(this.pendingBytes),s=0;s<this.pendingBoxes.length;s++)a.data.set(this.pendingBoxes[s],i),i+=this.pendingBoxes[s].byteLength;for(s=0;s<this.pendingCaptions.length;s++)(t=this.pendingCaptions[s]).startTime=t.startPts-o,t.startTime/=9e4,t.endTime=t.endPts-o,t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(s=0;s<this.pendingMetadata.length;s++)(r=this.pendingMetadata[s]).cueTime=r.pts-o,r.cueTime/=9e4,a.metadata.push(r);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(o=function(n){var s,i,a=this,r=!0;o.prototype.init.call(this),n=n||{},this.baseMediaDecodeTime=n.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new b.MetadataStream,t.aacStream=new T,t.audioTimestampRolloverStream=new b.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new b.TimestampRolloverStream("timed-metadata"),t.adtsStream=new _,t.coalesceStream=new u(n,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:a.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new l(i,n),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};(this.transmuxPipeline_=r).type="ts",r.metadataStream=new b.MetadataStream,r.packetStream=new b.TransportPacketStream,r.parseStream=new b.TransportParseStream,r.elementaryStream=new b.ElementaryStream,r.videoTimestampRolloverStream=new b.TimestampRolloverStream("video"),r.audioTimestampRolloverStream=new b.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new b.TimestampRolloverStream("timed-metadata"),r.adtsStream=new _,r.h264Stream=new j,r.captionStream=new b.CaptionStream,r.coalesceStream=new u(n,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream),r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream),r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)s||"video"!==e.tracks[t].type?i||"audio"!==e.tracks[t].type||((i=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime):(s=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime;s&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new p(s,n),r.videoSegmentStream.on("timelineStartInfo",function(e){i&&(i.timelineStartInfo=e,r.audioSegmentStream.setEarliestDts(e.dts))}),r.videoSegmentStream.on("processedGopsInfo",a.trigger.bind(a,"gopInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",function(e){i&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),i&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new l(i,n),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))}}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;this.baseMediaDecodeTime=e,i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,m(i),i.timelineStartInfo.baseMediaDecodeTime=e,t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),s&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[],t.videoTimestampRolloverStream.discontinuity()),s.timelineStartInfo.dts=void 0,s.timelineStartInfo.pts=void 0,m(s),t.captionStream.reset(),s.timelineStartInfo.baseMediaDecodeTime=e),t.timedMetadataTimestampRolloverStream&&t.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){s&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(r){var t=c(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new n,t.exports={Transmuxer:o,VideoSegmentStream:p,AudioSegmentStream:l,AUDIO_PROPERTIES:E,VIDEO_PROPERTIES:k}},{"../aac":289,"../codecs/adts.js":291,"../codecs/h264":292,"../data/silence":293,"../m2ts/m2ts.js":295,"../utils/clock":309,"../utils/stream.js":311,"./mp4-generator.js":302,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.filter.js":196,"core-js/modules/es.array.for-each.js":199,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.reduce.js":206,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.array.splice.js":211,"core-js/modules/es.data-view.js":212,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.regexp.flags.js":233,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272}],305:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js");t.exports={parseSei:function(e){for(var t=0,r={payloadType:-1,payloadSize:0},n=0,s=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)s+=255,t++;if(s+=e[t++],!r.payload&&4===n){r.payloadType=n,r.payloadSize=s,r.payload=e.subarray(t,t+s);break}t+=s,s=n=0}return r},parseUserData:function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var r,n,s,i,a=[];if(!(64&t[0]))return a;for(n=31&t[0],r=0;r<n;r++)i={type:3&t[2+(s=3*r)],pts:e},4&t[2+s]&&(i.ccData=t[3+s]<<8|t[4+s],a.push(i));return a},discardEmulationPreventionBytes:function(e){for(var t,r,n=e.byteLength,s=[],i=1;i<n-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(s.push(i+2),i+=2):i++;if(0===s.length)return e;t=n-s.length,r=new Uint8Array(t);var a=0;for(i=0;i<t;a++,i++)a===s[0]&&(a++,s.shift()),r[i]=e[a];return r},USER_DATA_REGISTERED_ITU_T_T35:4}},{"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272}],306:[function(e,t,r){(function(s){(function(){"use strict";e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.data-view.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js"),e("core-js/modules/es.function.name.js"),e("core-js/modules/es.typed-array.uint32-array.js"),e("core-js/modules/web.dom-collections.iterator.js"),e("core-js/modules/es.regexp.flags.js"),e("core-js/modules/es.typed-array.uint16-array.js"),e("core-js/modules/es.array-buffer.constructor.js"),e("core-js/modules/es.array.join.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.array.filter.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.match.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/es.string.split.js");function i(e){return new Date(1e3*e-20828448e5)}function p(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}var n,r,d=e("../mp4/probe").parseType,h={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:n(e.subarray(78,e.byteLength))}},avcC:function(e){var t,r,n,s,i=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},o=31&e[5];for(n=6,s=0;s<o;s++)r=i.getUint16(n),n+=2,a.sps.push(new Uint8Array(e.subarray(n,n+r))),n+=r;for(t=e[n],n++,s=0;s<t;s++)r=i.getUint16(n),n+=2,a.pps.push(new Uint8Array(e.subarray(n,n+r))),n+=r;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={majorBrand:d(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},n=8;n<e.byteLength;)r.compatibleBrands.push(d(e.subarray(n,n+4))),n+=4;return r},dinf:function(e){return{boxes:n(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:n(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:d(e.subarray(8,12)),name:""},r=8;for(r=24;r<e.byteLength;r++){if(0===e[r]){r++;break}t.name+=String.fromCharCode(e[r])}return t.name=decodeURIComponent(s.escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:function(e){var t,r,n=new DataView(e.buffer,e.byteOffset,e.byteLength),s=[];for(t=0;t+4<e.length;t+=r)if(r=n.getUint32(t),t+=4,r<=0)s.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:s.push("slice_layer_without_partitioning_rbsp");break;case 5:s.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:s.push("sei_rbsp");break;case 7:s.push("seq_parameter_set_rbsp");break;case 8:s.push("pic_parameter_set_rbsp");break;case 9:s.push("access_unit_delimiter_rbsp");break;default:s.push("UNKNOWN NAL - "+e[t]&31)}return s}(e)}},mdhd:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,s={version:r.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===s.version?(n+=4,s.creationTime=i(r.getUint32(n)),n+=8,s.modificationTime=i(r.getUint32(n)),n+=4,s.timescale=r.getUint32(n),n+=8):(s.creationTime=i(r.getUint32(n)),n+=4,s.modificationTime=i(r.getUint32(n)),n+=4,s.timescale=r.getUint32(n),n+=4),s.duration=r.getUint32(n),n+=4,t=r.getUint16(n),s.language+=String.fromCharCode(96+(t>>10)),s.language+=String.fromCharCode(96+((992&t)>>5)),s.language+=String.fromCharCode(96+(31&t)),s},mdia:function(e){return{boxes:n(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:n(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return 28<e.byteLength&&(r.streamDescriptor=n(e.subarray(28))[0]),r},moof:function(e){return{boxes:n(e)}},moov:function(e){return{boxes:n(e)}},mvex:function(e){return{boxes:n(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(r+=4,n.creationTime=i(t.getUint32(r)),r+=8,n.modificationTime=i(t.getUint32(r)),r+=4,n.timescale=t.getUint32(r),r+=8):(n.creationTime=i(t.getUint32(r)),r+=4,n.modificationTime=i(t.getUint32(r)),r+=4,n.timescale=t.getUint32(r),r+=4),n.duration=t.getUint32(r),r+=4,n.rate=t.getUint16(r)+t.getUint16(r+2)/16,r+=4,n.volume=t.getUint8(r)+t.getUint8(r+1)/8,r+=2,r+=2,r+=8,n.matrix=new Uint32Array(e.subarray(r,r+36)),r+=36,r+=24,n.nextTrackId=t.getUint32(r),n},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)r.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return r},sidx:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:r.getUint32(4),timescale:r.getUint32(8),earliestPresentationTime:r.getUint32(12),firstOffset:r.getUint32(16)},s=r.getUint16(22);for(t=24;s;t+=12,s--)n.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&r.getUint32(t),subsegmentDuration:r.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&r.getUint32(t+8)});return n},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:n(e)}},stco:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},s=r.getUint32(4);for(t=8;s;t+=4,s--)n.chunkOffsets.push(r.getUint32(t));return n},stsc:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=r.getUint32(4),s={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;n;t+=12,n--)s.sampleToChunks.push({firstChunk:r.getUint32(t),samplesPerChunk:r.getUint32(t+4),sampleDescriptionIndex:r.getUint32(t+8)});return s},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:n(e.subarray(8))}},stsz:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:r.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)n.entries.push(r.getUint32(t));return n},stts:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},s=r.getUint32(4);for(t=8;s;t+=8,s--)n.timeToSamples.push({sampleCount:r.getUint32(t),sampleDelta:r.getUint32(t+4)});return n},styp:function(e){return h.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:r.getUint32(4)},s=1&n.flags[2],i=2&n.flags[2],a=8&n.flags[2],o=16&n.flags[2],l=32&n.flags[2],u=65536&n.flags[0],c=131072&n.flags[0];return t=8,s&&(t+=4,n.baseDataOffset=r.getUint32(12),t+=4),i&&(n.sampleDescriptionIndex=r.getUint32(t),t+=4),a&&(n.defaultSampleDuration=r.getUint32(t),t+=4),o&&(n.defaultSampleSize=r.getUint32(t),t+=4),l&&(n.defaultSampleFlags=r.getUint32(t)),u&&(n.durationIsEmpty=!0),!s&&c&&(n.baseDataOffsetIsMoof=!0),n},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(r+=4,n.creationTime=i(t.getUint32(r)),r+=8,n.modificationTime=i(t.getUint32(r)),r+=4,n.trackId=t.getUint32(r),r+=4,r+=8):(n.creationTime=i(t.getUint32(r)),r+=4,n.modificationTime=i(t.getUint32(r)),r+=4,n.trackId=t.getUint32(r),r+=4,r+=4),n.duration=t.getUint32(r),r+=4,r+=8,n.layer=t.getUint16(r),r+=2,n.alternateGroup=t.getUint16(r),r+=2,n.volume=t.getUint8(r)+t.getUint8(r+1)/8,r+=2,r+=2,n.matrix=new Uint32Array(e.subarray(r,r+36)),r+=36,n.width=t.getUint16(r)+t.getUint16(r+2)/16,r+=4,n.height=t.getUint16(r)+t.getUint16(r+2)/16,n},traf:function(e){return{boxes:n(e)}},trak:function(e){return{boxes:n(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),s=1&r.flags[2],i=4&r.flags[2],a=1&r.flags[1],o=2&r.flags[1],l=4&r.flags[1],u=8&r.flags[1],c=n.getUint32(4),d=8;for(s&&(r.dataOffset=n.getInt32(d),d+=4),i&&c&&(t={flags:p(e.subarray(d,d+4))},d+=4,a&&(t.duration=n.getUint32(d),d+=4),o&&(t.size=n.getUint32(d),d+=4),u&&(t.compositionTimeOffset=n.getUint32(d),d+=4),r.samples.push(t),c--);c--;)t={},a&&(t.duration=n.getUint32(d),d+=4),o&&(t.size=n.getUint32(d),d+=4),l&&(t.flags=p(e.subarray(d,d+4)),d+=4),u&&(t.compositionTimeOffset=n.getUint32(d),d+=4),r.samples.push(t);return r},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};n=function(e){for(var t,r,n,s,i,a=0,o=[],l=new ArrayBuffer(e.length),u=new Uint8Array(l),c=0;c<e.length;++c)u[c]=e[c];for(t=new DataView(l);a<e.byteLength;)r=t.getUint32(a),n=d(e.subarray(a+4,a+8)),s=1<r?a+r:e.byteLength,(i=(h[n]||function(e){return{data:e}})(e.subarray(a+8,s))).size=r,i.type=n,o.push(i),a=s;return o},r=function(e,t){var i;return t=t||0,i=new Array(2*t+1).join(" "),e.map(function(s,e){return i+s.type+"\n"+Object.keys(s).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(e){var t=i+"  "+e+": ",r=s[e];if(r instanceof Uint8Array||r instanceof Uint32Array){var n=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return n?1===n.length?t+"<"+n.join("").slice(1)+">":t+"<\n"+n.map(function(e){return i+"  "+e}).join("\n")+"\n"+i+"  >":t+"<>"}return t+JSON.stringify(r,null,2).split("\n").map(function(e,t){return 0===t?e:i+"  "+e}).join("\n")}).join("\n")+(s.boxes?"\n"+r(s.boxes,t+1):"")}).join("\n")},t.exports={inspect:n,textify:r,parseTfdt:h.tfdt,parseHdlr:h.hdlr,parseTfhd:h.tfhd,parseTrun:h.trun}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mp4/probe":303,"core-js/modules/es.array-buffer.constructor.js":190,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.filter.js":196,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.join.js":202,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.data-view.js":212,"core-js/modules/es.function.name.js":214,"core-js/modules/es.object.keys.js":224,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.regexp.flags.js":233,"core-js/modules/es.regexp.to-string.js":234,"core-js/modules/es.string.match.js":236,"core-js/modules/es.string.split.js":240,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint16-array.js":270,"core-js/modules/es.typed-array.uint32-array.js":271,"core-js/modules/es.typed-array.uint8-array.js":272,"core-js/modules/web.dom-collections.iterator.js":276}],307:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js"),e("core-js/modules/es.array.for-each.js"),e("core-js/modules/web.dom-collections.for-each.js");var s=e("../m2ts/stream-types.js"),i=e("../m2ts/timestamp-rollover-stream.js").handleRollover,f={};f.ts=e("../m2ts/probe.js"),f.aac=e("../aac/probe.js");function a(e,t,r){for(var n,s,i,a,o=0,l=188,u=!1;l<e.byteLength;)if(71!==e[o]||71!==e[l])o++,l++;else{switch(n=e.subarray(o,l),f.ts.parseType(n,t.pid)){case"pes":s=f.ts.parsePesType(n,t.table),i=f.ts.parsePayloadUnitStartIndicator(n),"audio"===s&&i&&(a=f.ts.parsePesTime(n))&&(a.type="audio",r.audio.push(a),u=!0)}if(u)break;o+=188,l+=188}for(o=(l=e.byteLength)-188,u=!1;0<=o;)if(71!==e[o]||71!==e[l])o--,l--;else{switch(n=e.subarray(o,l),f.ts.parseType(n,t.pid)){case"pes":s=f.ts.parsePesType(n,t.table),i=f.ts.parsePayloadUnitStartIndicator(n),"audio"===s&&i&&(a=f.ts.parsePesTime(n))&&(a.type="audio",r.audio.push(a),u=!0)}if(u)break;o-=188,l-=188}}function o(e,t,r){for(var n,s,i,a,o,l,u,c=0,d=188,p=!1,h={data:[],size:0};d<e.byteLength;)if(71!==e[c]||71!==e[d])c++,d++;else{switch(n=e.subarray(c,d),f.ts.parseType(n,t.pid)){case"pes":if(s=f.ts.parsePesType(n,t.table),i=f.ts.parsePayloadUnitStartIndicator(n),"video"===s&&(i&&!p&&(a=f.ts.parsePesTime(n))&&(a.type="video",r.video.push(a),p=!0),!r.firstKeyFrame)){if(i&&0!==h.size){for(o=new Uint8Array(h.size),l=0;h.data.length;)u=h.data.shift(),o.set(u,l),l+=u.byteLength;f.ts.videoPacketContainsKeyFrame(o)&&(r.firstKeyFrame=f.ts.parsePesTime(o),r.firstKeyFrame.type="video"),h.size=0}h.data.push(n),h.size+=n.byteLength}}if(p&&r.firstKeyFrame)break;c+=188,d+=188}for(c=(d=e.byteLength)-188,p=!1;0<=c;)if(71!==e[c]||71!==e[d])c--,d--;else{switch(n=e.subarray(c,d),f.ts.parseType(n,t.pid)){case"pes":s=f.ts.parsePesType(n,t.table),i=f.ts.parsePayloadUnitStartIndicator(n),"video"===s&&i&&(a=f.ts.parsePesTime(n))&&(a.type="video",r.video.push(a),p=!0)}if(p)break;c-=188,d-=188}}function l(e){var t={pid:null,table:null},r={};for(var n in!function(e,t){for(var r,n=0,s=188;s<e.byteLength;)if(71!==e[n]||71!==e[s])n++,s++;else{switch(r=e.subarray(n,s),f.ts.parseType(r,t.pid)){case"pat":t.pid||(t.pid=f.ts.parsePat(r));break;case"pmt":t.table||(t.table=f.ts.parsePmt(r))}if(t.pid&&t.table)return;n+=188,s+=188}}(e,t),t.table){if(t.table.hasOwnProperty(n))switch(t.table[n]){case s.H264_STREAM_TYPE:r.video=[],o(e,t,r),0===r.video.length&&delete r.video;break;case s.ADTS_STREAM_TYPE:r.audio=[],a(e,t,r),0===r.audio.length&&delete r.audio}}return r}t.exports={inspect:function(e,t){var r,n;return(n=(r=e)[0]==="I".charCodeAt(0)&&r[1]==="D".charCodeAt(0)&&r[2]==="3".charCodeAt(0)?function(e){for(var t,r=!1,n=0,s=null,i=null,a=0,o=0;3<=e.length-o;){switch(f.aac.parseType(e,o)){case"timed-metadata":if(e.length-o<10){r=!0;break}if((a=f.aac.parseId3TagSize(e,o))>e.length){r=!0;break}null===i&&(t=e.subarray(o,o+a),i=f.aac.parseAacTimestamp(t)),o+=a;break;case"audio":if(e.length-o<7){r=!0;break}if((a=f.aac.parseAdtsSize(e,o))>e.length){r=!0;break}null===s&&(t=e.subarray(o,o+a),s=f.aac.parseSampleRate(t)),n++,o+=a;break;default:o++}if(r)return null}if(null===s||null===i)return null;var l=9e4/s;return{audio:[{type:"audio",dts:i,pts:i},{type:"audio",dts:i+1024*n*l,pts:i+1024*n*l}]}}(e):l(e))&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var r=t;"undefined"==typeof r&&(r=e.audio[0].dts),e.audio.forEach(function(e){e.dts=i(e.dts,r),e.pts=i(e.pts,r),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4})}if(e.video&&e.video.length){var n=t;if("undefined"==typeof n&&(n=e.video[0].dts),e.video.forEach(function(e){e.dts=i(e.dts,n),e.pts=i(e.pts,n),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4}),e.firstKeyFrame){var s=e.firstKeyFrame;s.dts=i(s.dts,n),s.pts=i(s.pts,n),s.dtsTime=s.dts/9e4,s.ptsTime=s.dts/9e4}}}(n,t),n):null}}},{"../aac/probe.js":290,"../m2ts/probe.js":297,"../m2ts/stream-types.js":298,"../m2ts/timestamp-rollover-stream.js":299,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.for-each.js":199,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272,"core-js/modules/web.dom-collections.for-each.js":275}],308:[function(e,t,r){t.exports={toUnsigned:function(e){return e>>>0}}},{}],309:[function(e,t,r){var n,s,i,a,o,l;n=function(e){return 9e4*e},s=function(e,t){return e*t},i=function(e){return e/9e4},a=function(e,t){return e/t},o=function(e,t){return n(a(e,t))},l=function(e,t){return s(i(e),t)},t.exports={secondsToVideoTs:n,secondsToAudioTs:s,videoTsToSeconds:i,audioTsToSeconds:a,audioTsToVideoTs:o,videoTsToAudioTs:l}},{}],310:[function(e,t,r){"use strict";var n;e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js"),e("core-js/modules/es.data-view.js"),n=function(n){var s=n.byteLength,i=0,a=0;this.length=function(){return 8*s},this.bitsAvailable=function(){return 8*s+a},this.loadWord=function(){var e=n.byteLength-s,t=new Uint8Array(4),r=Math.min(4,s);if(0===r)throw new Error("no bytes available");t.set(n.subarray(e,e+r)),i=new DataView(t.buffer).getUint32(0),a=8*r,s-=r},this.skipBits=function(e){var t;e<a||(e-=a,e-=8*(t=Math.floor(e/8)),s-=t,this.loadWord()),i<<=e,a-=e},this.readBits=function(e){var t=Math.min(a,e),r=i>>>32-t;return 0<(a-=t)?i<<=t:0<s&&this.loadWord(),0<(t=e-t)?r<<t|this.readBits(t):r},this.skipLeadingZeros=function(){var e;for(e=0;e<a;++e)if(0!=(i&2147483648>>>e))return i<<=e,a-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=n},{"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.data-view.js":212,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272}],311:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.array.index-of.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.array.splice.js");function n(){this.init=function(){var i={};this.on=function(e,t){i[e]||(i[e]=[]),i[e]=i[e].concat(t)},this.off=function(e,t){var r;return!!i[e]&&(r=i[e].indexOf(t),i[e]=i[e].slice(),i[e].splice(r,1),-1<r)},this.trigger=function(e){var t,r,n,s;if(t=i[e])if(2===arguments.length)for(n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else{for(s=[],r=arguments.length,r=1;r<arguments.length;++r)s.push(arguments[r]);for(n=t.length,r=0;r<n;++r)t[r].apply(this,s)}},this.dispose=function(){i={}}}}n.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},n.prototype.push=function(e){this.trigger("data",e)},n.prototype.flush=function(e){this.trigger("done",e)},t.exports=n},{"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.index-of.js":200,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.array.splice.js":211}],312:[function(e,t,r){e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.string.split.js"),e("core-js/modules/es.array.index-of.js"),e("core-js/modules/es.array.slice.js");function u(e){return e.replace(/^\s+|\s+$/g,"")}t.exports=function(e){if(!e)return{};for(var t,r={},n=u(e).split("\n"),s=0;s<n.length;s++){var i=n[s],a=i.indexOf(":"),o=u(i.slice(0,a)).toLowerCase(),l=u(i.slice(a+1));"undefined"==typeof r[o]?r[o]=l:(t=r[o],"[object Array]"===Object.prototype.toString.call(t)?r[o].push(l):r[o]=[r[o],l])}return r}},{"core-js/modules/es.array.index-of.js":200,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.string.replace.js":238,"core-js/modules/es.string.split.js":240}],313:[function(e,t,r){"use strict";var n;e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js"),Object.defineProperty(r,"__esModule",{value:!0}),n=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]];r.VERSION="1.0.4",r.pad=function(e){var t=n[e.byteLength%16||0],r=new Uint8Array(e.byteLength+t.length);return r.set(e),r.set(t,e.byteLength),r},r.unpad=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},{"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272}],314:[function(e,n,s){(function(K,$){(function(){var X=e("@babel/runtime/helpers/typeof");e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/web.immediate.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.array.reduce.js"),e("core-js/modules/es.array.index-of.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.array.join.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.split.js"),e("core-js/modules/es.number.constructor.js"),e("core-js/modules/es.array.splice.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/web.dom-collections.iterator.js"),e("core-js/modules/es.promise.js"),e("core-js/modules/es.promise.finally.js"),function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"===("undefined"==typeof s?"undefined":X(s))&&"object"===("undefined"==typeof n?"undefined":X(n)))n.exports=e();else if(0,"undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var t="undefined"!=typeof window?window:self,r=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=r,this}}}(function(){"use strict";var o=!1;try{throw new Error}catch(e){o=!!e.stack}function t(){}var s,i=j(),c=function(){var r={task:void 0,next:null},t=r,n=!1,s=void 0,i=!1,a=[];function o(){for(var e,t;r.next;)e=(r=r.next).task,r.task=void 0,(t=r.domain)&&(r.domain=void 0,t.enter()),l(e,t);for(;a.length;)l(e=a.pop());n=!1}function l(e,t){try{e()}catch(e){if(i)throw t&&t.exit(),setTimeout(o,0),t&&t.enter(),e;setTimeout(function(){throw e},0)}t&&t.exit()}if(c=function(e){t=t.next={task:e,domain:i&&K.domain,next:null},n||(n=!0,s())},"object"===("undefined"==typeof K?"undefined":X(K))&&"[object process]"===K.toString()&&K.nextTick)i=!0,s=function(){K.nextTick(o)};else if("function"==typeof $)s="undefined"!=typeof window?$.bind(window,o):function(){$(o)};else if("undefined"!=typeof MessageChannel){var e=new MessageChannel;e.port1.onmessage=function(){s=u,(e.port1.onmessage=o)()};var u=function(){e.port2.postMessage(0)};s=function(){setTimeout(o,0),u()}}else s=function(){setTimeout(o,0)};return c.runAfter=function(e){a.push(e),n||(n=!0,s())},c}(),r=Function.call;function e(e){return function(){return r.apply(e,arguments)}}var a,l=e(Array.prototype.slice),u=e(Array.prototype.reduce||function(e,t){var r=0,n=this.length;if(1===arguments.length)for(;;){if(r in this){t=this[r++];break}if(++r>=n)throw new TypeError}for(;r<n;r++)r in this&&(t=e(t,this[r],r));return t}),d=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),n=e(Array.prototype.map||function(n,s){var i=this,a=[];return u(i,function(e,t,r){a.push(n.call(s,t,r,i))},void 0),a}),p=Object.create||function(e){function t(){}return t.prototype=e,new t},h=Object.defineProperty||function(e,t,r){return e[t]=r.value,e},f=e(Object.prototype.hasOwnProperty),m=Object.keys||function(e){var t=[];for(var r in e)f(e,r)&&t.push(r);return t},y=e(Object.prototype.toString);a="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var g="From previous event:";function v(e,t){if(o&&t.stack&&"object"===X(e)&&null!==e&&e.stack){for(var r=[],n=t;n;n=n.source)n.stack&&(!e.__minimumStackCounter__||e.__minimumStackCounter__>n.stackCounter)&&(h(e,"__minimumStackCounter__",{value:n.stackCounter,configurable:!0}),r.unshift(n.stack));r.unshift(e.stack);var s=function(e){for(var t=e.split("\n"),r=[],n=0;n<t.length;++n){var s=t[n];!_(s)&&(-1===(i=s).indexOf("(module.js:")&&-1===i.indexOf("(node.js:"))&&s&&r.push(s)}var i;return r.join("\n")}(r.join("\n"+g+"\n"));h(e,"stack",{value:s,configurable:!0})}}function b(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(r)return[r[1],Number(r[2])];var n=/.*@(.+):(\d+)$/.exec(e);return n?[n[1],Number(n[2])]:void 0}function _(e){var t=b(e);if(!t)return!1;var r=t[0],n=t[1];return r===s&&i<=n&&n<=Y}function j(){if(o)try{throw new Error}catch(e){var t=e.stack.split("\n"),r=b(0<t[0].indexOf("@")?t[1]:t[2]);if(!r)return;return s=r[0],r[1]}}function T(e){return e instanceof x?e:P(e)?(t=e,r=w(),T.nextTick(function(){try{t.then(r.resolve,r.reject,r.notify)}catch(e){r.reject(e)}}),r.promise):H(e);var t,r}(T.resolve=T).nextTick=c,T.longStackSupport=!1;var S=1;function w(){var s,i=[],a=[],e=p(w.prototype),t=p(x.prototype);if(t.promiseDispatch=function(e,t,r){var n=l(arguments);i?(i.push(n),"when"===t&&r[1]&&a.push(r[1])):T.nextTick(function(){s.promiseDispatch.apply(s,n)})},t.valueOf=function(){if(i)return t;var e=A(s);return I(e)&&(s=e),e},t.inspect=function(){return s?s.inspect():{state:"pending"}},T.longStackSupport&&o)try{throw new Error}catch(e){t.stack=e.stack.substring(e.stack.indexOf("\n")+1),t.stackCounter=S++}function r(r){s=r,T.longStackSupport&&o&&(t.source=r),u(i,function(e,t){T.nextTick(function(){r.promiseDispatch.apply(r,t)})},void 0),a=i=void 0}return e.promise=t,e.resolve=function(e){s||r(T(e))},e.fulfill=function(e){s||r(H(e))},e.reject=function(e){s||r(F(e))},e.notify=function(r){s||u(a,function(e,t){T.nextTick(function(){t(r)})},void 0)},e}function E(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=w();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function k(s){return E(function(e,t){for(var r=0,n=s.length;r<n;r++)T(s[r]).then(e,t)})}function x(s,i,t){void 0===i&&(i=function(e){return F(new Error("Promise does not support operation: "+e))}),void 0===t&&(t=function(){return{state:"unknown"}});var a=p(x.prototype);if(a.promiseDispatch=function(e,t,r){var n;try{n=s[t]?s[t].apply(a,r):i.call(a,t,r)}catch(e){n=F(e)}e&&e(n)},a.inspect=t){var e=t();"rejected"===e.state&&(a.exception=e.reason),a.valueOf=function(){var e=t();return"pending"===e.state||"rejected"===e.state?a:e.value}}return a}function C(e,t,r,n){return T(e).then(t,r,n)}function A(e){if(I(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function I(e){return e instanceof x}function P(e){return(t=e)===Object(t)&&"function"==typeof e.then;var t}"object"===("undefined"==typeof K?"undefined":X(K))&&K&&K.env&&K.env.Q_DEBUG&&(T.longStackSupport=!0),(T.defer=w).prototype.makeNodeResolver=function(){var r=this;return function(e,t){e?r.reject(e):2<arguments.length?r.resolve(l(arguments,1)):r.resolve(t)}},T.Promise=E,(T.promise=E).race=k,E.all=G,E.reject=F,(E.resolve=T).passByCopy=function(e){return e},x.prototype.passByCopy=function(){return this},T.join=function(e,t){return T(e).join(t)},x.prototype.join=function(e){return T([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},T.race=k,x.prototype.race=function(){return this.then(T.race)},(T.makePromise=x).prototype.toString=function(){return"[object Promise]"},x.prototype.then=function(t,r,s){var n=this,i=w(),a=!1;return T.nextTick(function(){n.promiseDispatch(function(e){a||(a=!0,i.resolve(function(e){try{return"function"==typeof t?t(e):e}catch(e){return F(e)}}(e)))},"when",[function(e){a||(a=!0,i.resolve(function(e){if("function"==typeof r){v(e,n);try{return r(e)}catch(e){return F(e)}}return F(e)}(e)))}])}),n.promiseDispatch(void 0,"when",[void 0,function(e){var t,r,n=!1;try{r=e,t="function"==typeof s?s(r):r}catch(e){if(n=!0,!T.onerror)throw e;T.onerror(e)}n||i.notify(t)}]),i.promise},T.tap=function(e,t){return T(e).tap(t)},x.prototype.tap=function(t){return t=T(t),this.then(function(e){return t.fcall(e).thenResolve(e)})},T.when=C,x.prototype.thenResolve=function(e){return this.then(function(){return e})},T.thenResolve=function(e,t){return T(e).thenResolve(t)},x.prototype.thenReject=function(e){return this.then(function(){throw e})},T.thenReject=function(e,t){return T(e).thenReject(t)},T.nearer=A,T.isPromise=I,T.isPromiseAlike=P,T.isPending=function(e){return I(e)&&"pending"===e.inspect().state},x.prototype.isPending=function(){return"pending"===this.inspect().state},T.isFulfilled=function(e){return!I(e)||"fulfilled"===e.inspect().state},x.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},T.isRejected=function(e){return I(e)&&"rejected"===e.inspect().state},x.prototype.isRejected=function(){return"rejected"===this.inspect().state};var L,O,R,D=[],U=[],M=[],N=!0;function B(){D.length=0,U.length=0,N=N||!0}function F(t){var e,r,n=x({when:function(e){return e&&function(t){if(N){var r=d(U,t);-1!==r&&("object"===("undefined"==typeof K?"undefined":X(K))&&"function"==typeof K.emit&&T.nextTick.runAfter(function(){var e=d(M,t);-1!==e&&(K.emit("rejectionHandled",D[r],t),M.splice(e,1))}),U.splice(r,1),D.splice(r,1))}}(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return e=n,r=t,N&&("object"===("undefined"==typeof K?"undefined":X(K))&&"function"==typeof K.emit&&T.nextTick.runAfter(function(){-1!==d(U,e)&&(K.emit("unhandledRejection",r,e),M.push(e))}),U.push(e),r&&"undefined"!=typeof r.stack?D.push(r.stack):D.push("(no stack) "+r)),n}function H(r){return x({when:function(){return r},get:function(e){return r[e]},set:function(e,t){r[e]=t},delete:function(e){delete r[e]},post:function(e,t){return null==e?r.apply(void 0,t):r[e].apply(r,t)},apply:function(e,t){return r.apply(e,t)},keys:function(){return m(r)}},void 0,function(){return{state:"fulfilled",value:r}})}function q(e,t,r){return T(e).spread(t,r)}function V(e,t,r){return T(e).dispatch(t,r)}function G(e){return C(e,function(s){var i=0,a=w();return u(s,function(e,t,r){var n;I(t)&&"fulfilled"===(n=t.inspect()).state?s[r]=n.value:(++i,C(t,function(e){s[r]=e,0==--i&&a.resolve(s)},a.reject,function(e){a.notify({index:r,value:e})}))},void 0),0===i&&a.resolve(s),a.promise})}function z(s){if(0===s.length)return T.resolve();var i=T.defer(),a=0;return u(s,function(e,t,r){var n=s[r];a++,C(n,function(e){i.resolve(e)},function(e){if(0==--a){var t=e||new Error(""+e);t.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+t.message,i.reject(t)}},function(e){i.notify({index:r,value:e})})},void 0),i.promise}function W(e){return C(e,function(e){return e=n(e,T),C(G(n(e,function(e){return C(e,t,t)})),function(){return e})})}T.resetUnhandledRejections=B,T.getUnhandledReasons=function(){return D.slice()},T.stopUnhandledRejectionTracking=function(){B(),N=!1},B(),T.reject=F,T.fulfill=H,T.master=function(r){return x({isDef:function(){}},function(e,t){return V(r,e,t)},function(){return T(r).inspect()})},T.spread=q,x.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},T.async=function(t){return function(){function e(e,t){var r;if("undefined"==typeof StopIteration){try{r=n[e](t)}catch(e){return F(e)}return r.done?T(r.value):C(r.value,s,i)}try{r=n[e](t)}catch(e){return function(e){return"[object StopIteration]"===y(e)||e instanceof a}(e)?T(e.value):F(e)}return C(r,s,i)}var n=t.apply(this,arguments),s=e.bind(e,"next"),i=e.bind(e,"throw");return s()}},T.spawn=function(e){T.done(T.async(e)())},T.return=function(e){throw new a(e)},T.promised=function(r){return function(){return q([this,G(arguments)],function(e,t){return r.apply(e,t)})}},T.dispatch=V,x.prototype.dispatch=function(e,t){var r=this,n=w();return T.nextTick(function(){r.promiseDispatch(n.resolve,e,t)}),n.promise},T.get=function(e,t){return T(e).dispatch("get",[t])},x.prototype.get=function(e){return this.dispatch("get",[e])},T.set=function(e,t,r){return T(e).dispatch("set",[t,r])},x.prototype.set=function(e,t){return this.dispatch("set",[e,t])},T.del=T.delete=function(e,t){return T(e).dispatch("delete",[t])},x.prototype.del=x.prototype.delete=function(e){return this.dispatch("delete",[e])},T.mapply=T.post=function(e,t,r){return T(e).dispatch("post",[t,r])},x.prototype.mapply=x.prototype.post=function(e,t){return this.dispatch("post",[e,t])},T.send=T.mcall=T.invoke=function(e,t){return T(e).dispatch("post",[t,l(arguments,2)])},x.prototype.send=x.prototype.mcall=x.prototype.invoke=function(e){return this.dispatch("post",[e,l(arguments,1)])},T.fapply=function(e,t){return T(e).dispatch("apply",[void 0,t])},x.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},T.try=T.fcall=function(e){return T(e).dispatch("apply",[void 0,l(arguments,1)])},x.prototype.fcall=function(){return this.dispatch("apply",[void 0,l(arguments)])},T.fbind=function(e){var t=T(e),r=l(arguments,1);return function(){return t.dispatch("apply",[this,r.concat(l(arguments))])}},x.prototype.fbind=function(){var e=this,t=l(arguments);return function(){return e.dispatch("apply",[this,t.concat(l(arguments))])}},T.keys=function(e){return T(e).dispatch("keys",[])},x.prototype.keys=function(){return this.dispatch("keys",[])},T.all=G,x.prototype.all=function(){return G(this)},T.any=z,x.prototype.any=function(){return z(this)},T.allResolved=(L=W,O="allResolved",R="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(O+" is deprecated, use "+R+" instead.",new Error("").stack),L.apply(L,arguments)}),x.prototype.allResolved=function(){return W(this)},T.allSettled=function(e){return T(e).allSettled()},x.prototype.allSettled=function(){return this.then(function(e){return G(n(e,function(e){function t(){return e.inspect()}return(e=T(e)).then(t,t)}))})},T.fail=T.catch=function(e,t){return T(e).then(void 0,t)},x.prototype.fail=x.prototype.catch=function(e){return this.then(void 0,e)},T.progress=function(e,t){return T(e).then(void 0,void 0,t)},x.prototype.progress=function(e){return this.then(void 0,void 0,e)},T.fin=T.finally=function(e,t){return T(e).finally(t)},x.prototype.fin=x.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=T(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},T.done=function(e,t,r,n){return T(e).done(t,r,n)},x.prototype.done=function(e,t,r){var n=function(e){T.nextTick(function(){if(v(e,s),!T.onerror)throw e;T.onerror(e)})},s=e||t||r?this.then(e,t,r):this;"object"===("undefined"==typeof K?"undefined":X(K))&&K&&K.domain&&(n=K.domain.bind(n)),s.then(void 0,n)},T.timeout=function(e,t,r){return T(e).timeout(t,r)},x.prototype.timeout=function(e,t){var r=w(),n=setTimeout(function(){t&&"string"!=typeof t||((t=new Error(t||"Timed out after "+e+" ms")).code="ETIMEDOUT"),r.reject(t)},e);return this.then(function(e){clearTimeout(n),r.resolve(e)},function(e){clearTimeout(n),r.reject(e)},r.notify),r.promise},T.delay=function(e,t){return void 0===t&&(t=e,e=void 0),T(e).delay(t)},x.prototype.delay=function(r){return this.then(function(e){var t=w();return setTimeout(function(){t.resolve(e)},r),t.promise})},T.nfapply=function(e,t){return T(e).nfapply(t)},x.prototype.nfapply=function(e){var t=w(),r=l(e);return r.push(t.makeNodeResolver()),this.fapply(r).fail(t.reject),t.promise},T.nfcall=function(e){var t=l(arguments,1);return T(e).nfapply(t)},x.prototype.nfcall=function(){var e=l(arguments),t=w();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},T.nfbind=T.denodeify=function(r){if(void 0===r)throw new Error("Q can't wrap an undefined function");var n=l(arguments,1);return function(){var e=n.concat(l(arguments)),t=w();return e.push(t.makeNodeResolver()),T(r).fapply(e).fail(t.reject),t.promise}},x.prototype.nfbind=x.prototype.denodeify=function(){var e=l(arguments);return e.unshift(this),T.denodeify.apply(void 0,e)},T.nbind=function(r,n){var s=l(arguments,2);return function(){var e=s.concat(l(arguments)),t=w();return e.push(t.makeNodeResolver()),T(function(){return r.apply(n,arguments)}).fapply(e).fail(t.reject),t.promise}},x.prototype.nbind=function(){var e=l(arguments,0);return e.unshift(this),T.nbind.apply(void 0,e)},T.nmapply=T.npost=function(e,t,r){return T(e).npost(t,r)},x.prototype.nmapply=x.prototype.npost=function(e,t){var r=l(t||[]),n=w();return r.push(n.makeNodeResolver()),this.dispatch("post",[e,r]).fail(n.reject),n.promise},T.nsend=T.nmcall=T.ninvoke=function(e,t){var r=l(arguments,2),n=w();return r.push(n.makeNodeResolver()),T(e).dispatch("post",[t,r]).fail(n.reject),n.promise},x.prototype.nsend=x.prototype.nmcall=x.prototype.ninvoke=function(e){var t=l(arguments,1),r=w();return t.push(r.makeNodeResolver()),this.dispatch("post",[e,t]).fail(r.reject),r.promise},T.nodeify=function(e,t){return T(e).nodeify(t)},x.prototype.nodeify=function(t){if(!t)return this;this.then(function(e){T.nextTick(function(){t(null,e)})},function(e){T.nextTick(function(){t(e)})})},T.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var Y=j();return T})}).call(this)}).call(this,e("_process"),e("timers").setImmediate)},{"@babel/runtime/helpers/typeof":2,_process:29,"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.index-of.js":200,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.join.js":202,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.reduce.js":206,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.array.splice.js":211,"core-js/modules/es.number.constructor.js":216,"core-js/modules/es.object.keys.js":224,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.promise.finally.js":229,"core-js/modules/es.promise.js":230,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.regexp.to-string.js":234,"core-js/modules/es.string.split.js":240,"core-js/modules/web.dom-collections.iterator.js":276,"core-js/modules/web.immediate.js":277,timers:317}],315:[function(e,t,r){t.exports=function(e,t){var r,n=null;try{r=JSON.parse(e,t)}catch(e){n=e}return[n,r]}},{}],316:[function(e,t,r){var y=e("@babel/runtime/helpers/typeof");e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.iterator.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/es.parse-int.js"),e("core-js/modules/es.parse-float.js"),e("core-js/modules/es.number.to-fixed.js"),e("core-js/modules/es.number.constructor.js"),e("core-js/modules/es.number.to-precision.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.string.repeat.js"),function(){"use strict";var f={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function m(e){return function(e,t){var r,n,s,i,a,o,l,u,c,d=1,p=e.length,h="";for(n=0;n<p;n++)if("string"==typeof e[n])h+=e[n];else if("object"===y(e[n])){if((i=e[n]).keys)for(r=t[d],s=0;s<i.keys.length;s++){if(null==r)throw new Error(m('[sprintf] Cannot access property "%s" of undefined value "%s"',i.keys[s],i.keys[s-1]));r=r[i.keys[s]]}else r=i.param_no?t[i.param_no]:t[d++];if(f.not_type.test(i.type)&&f.not_primitive.test(i.type)&&r instanceof Function&&(r=r()),f.numeric_arg.test(i.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(m("[sprintf] expecting number but found %T",r));switch(f.number.test(i.type)&&(u=0<=r),i.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,i.width?parseInt(i.width):0);break;case"e":r=i.precision?parseFloat(r).toExponential(i.precision):parseFloat(r).toExponential();break;case"f":r=i.precision?parseFloat(r).toFixed(i.precision):parseFloat(r);break;case"g":r=i.precision?String(Number(r.toPrecision(i.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=i.precision?r.substring(0,i.precision):r;break;case"t":r=String(!!r),r=i.precision?r.substring(0,i.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=i.precision?r.substring(0,i.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=i.precision?r.substring(0,i.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}f.json.test(i.type)?h+=r:(!f.number.test(i.type)||u&&!i.sign?c="":(c=u?"+":"-",r=r.toString().replace(f.sign,"")),o=i.pad_char?"0"===i.pad_char?"0":i.pad_char.charAt(1):" ",l=i.width-(c+r).length,a=i.width&&0<l?o.repeat(l):"",h+=i.align?c+r+a:"0"===o?c+a+r:a+c+r)}return h}(function(e){if(l[e])return l[e];var t,r=e,n=[],s=0;for(;r;){if(null!==(t=f.text.exec(r)))n.push(t[0]);else if(null!==(t=f.modulo.exec(r)))n.push("%");else{if(null===(t=f.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){s|=1;var i=[],a=t[2],o=[];if(null===(o=f.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(i.push(o[1]);""!==(a=a.substring(o[0].length));)if(null!==(o=f.key_access.exec(a)))i.push(o[1]);else{if(null===(o=f.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");i.push(o[1])}t[2]=i}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}r=r.substring(t[0].length)}return l[e]=n}(e),arguments)}function e(e,t){return m.apply(null,[e].concat(t||[]))}var l=Object.create(null);"undefined"!=typeof r&&(r.sprintf=m,r.vsprintf=e),"undefined"!=typeof window&&(window.sprintf=m,window.vsprintf=e)}()},{"@babel/runtime/helpers/typeof":2,"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.number.constructor.js":216,"core-js/modules/es.number.to-fixed.js":217,"core-js/modules/es.number.to-precision.js":218,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.parse-float.js":227,"core-js/modules/es.parse-int.js":228,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.regexp.to-string.js":234,"core-js/modules/es.string.repeat.js":237,"core-js/modules/es.string.replace.js":238,"core-js/modules/web.dom-collections.iterator.js":276}],317:[function(l,e,u){(function(r,o){(function(){l("core-js/modules/es.array.slice.js"),l("core-js/modules/web.immediate.js");var n=l("process/browser.js").nextTick,e=Function.prototype.apply,s=Array.prototype.slice,i={},a=0;function t(e,t){this._id=e,this._clearFn=t}u.setTimeout=function(){return new t(e.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new t(e.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(e){e.close()},t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},u.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},u._unrefActive=u.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},u.setImmediate="function"==typeof r?r:function(e){var t=a++,r=!(arguments.length<2)&&s.call(arguments,1);return i[t]=!0,n(function(){i[t]&&(r?e.apply(null,r):e.call(null),u.clearImmediate(t))}),t},u.clearImmediate="function"==typeof o?o:function(e){delete i[e]}}).call(this)}).call(this,l("timers").setImmediate,l("timers").clearImmediate)},{"core-js/modules/es.array.slice.js":208,"core-js/modules/web.immediate.js":277,"process/browser.js":318,timers:317}],318:[function(e,t,r){arguments[4][29][0].apply(r,arguments)},{"core-js/modules/es.array.concat.js":193,dup:29}],319:[function(e,t,r){e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),t.exports=function(e){for(var t="",r=0;r<arguments.length;r++)t+=e[r].replace(/\n\r?\s*/g,"")+(arguments[r+1]||"");return t}},{"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.string.replace.js":238}],320:[function(e,t,r){arguments[4][20][0].apply(r,arguments)},{"@babel/runtime/helpers/typeof":2,"core-js/modules/es.array-buffer.constructor.js":190,"core-js/modules/es.array-buffer.is-view.js":191,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.join.js":202,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.array.sort.js":210,"core-js/modules/es.data-view.js":212,"core-js/modules/es.date.to-json.js":213,"core-js/modules/es.map.js":215,"core-js/modules/es.object.keys.js":224,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.parse-float.js":227,"core-js/modules/es.regexp.constructor.js":231,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.regexp.to-string.js":234,"core-js/modules/es.string.iterator.js":235,"core-js/modules/es.string.match.js":236,"core-js/modules/es.string.replace.js":238,"core-js/modules/es.symbol.description.js":242,"core-js/modules/es.symbol.js":244,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.int8-array.js":255,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272,"core-js/modules/web.dom-collections.iterator.js":276,"core-js/modules/web.url.to-json.js":280,dup:20}],321:[function(e,t,r){var n,s,c,i,a,d,o=e("@babel/runtime/helpers/typeof");e("core-js/modules/es.string.trim.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.array.last-index-of.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.array.join.js"),e("core-js/modules/es.array.reverse.js"),e("core-js/modules/es.string.split.js"),n=this,s=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,c=/^([^\/?#]*)([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,d={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var n=d.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=d.normalizePath(n.path),d.buildURLFromParts(n)}var s=d.parseURL(t);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return r.alwaysNormalize?(s.path=d.normalizePath(s.path),d.buildURLFromParts(s)):t;var i=d.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");if(!i.netLoc&&i.path&&"/"!==i.path[0]){var a=c.exec(i.path);i.netLoc=a[1],i.path=a[2]}i.netLoc&&!i.path&&(i.path="/");var o={scheme:i.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(o.netLoc=i.netLoc,"/"!==s.path[0]))if(s.path){var l=i.path,u=l.substring(0,l.lastIndexOf("/")+1)+s.path;o.path=d.normalizePath(u)}else o.path=i.path,s.params||(o.params=i.params,s.query||(o.query=i.query));return null===o.path&&(o.path=r.alwaysNormalize?d.normalizePath(s.path):s.path),d.buildURLFromParts(o)},parseURL:function(e){var t=s.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},"object"===("undefined"==typeof r?"undefined":o(r))&&"object"===("undefined"==typeof t?"undefined":o(t))?t.exports=d:"object"===("undefined"==typeof r?"undefined":o(r))?r.URLToolkit=d:n.URLToolkit=d},{"@babel/runtime/helpers/typeof":2,"core-js/modules/es.array.join.js":202,"core-js/modules/es.array.last-index-of.js":203,"core-js/modules/es.array.reverse.js":207,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.string.replace.js":238,"core-js/modules/es.string.split.js":240,"core-js/modules/es.string.trim.js":241}],322:[function(e,t,r){var n=e("global/window"),s=t.exports={WebVTT:e("./vtt.js"),VTTCue:e("./vttcue.js"),VTTRegion:e("./vttregion.js")};n.vttjs=s,n.WebVTT=s.WebVTT;var i=s.VTTCue,a=s.VTTRegion,o=n.VTTCue,l=n.VTTRegion;s.shim=function(){n.VTTCue=i,n.VTTRegion=a},s.restore=function(){n.VTTCue=o,n.VTTRegion=l},n.VTTCue||s.shim()},{"./vtt.js":323,"./vttcue.js":324,"./vttregion.js":325,"global/window":285}],323:[function(e,t,r){e("core-js/modules/es.function.name.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.match.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.iterator.js"),e("core-js/modules/es.parse-int.js"),e("core-js/modules/es.parse-float.js"),e("core-js/modules/es.string.split.js"),e("core-js/modules/es.string.trim.js"),e("core-js/modules/es.array.reverse.js"),e("core-js/modules/es.array.index-of.js");var n=Object.create||function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return s.prototype=e,new s};function s(){}function u(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function m(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):59<r[1]?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}function c(){this.values=n(null)}function d(e,t,r,n){var s=n?e.split(n):[e];for(var i in s)if("string"==typeof s[i]){var a=s[i].split(r);if(2===a.length)t(a[0],a[1])}}function l(t,e,i){var r,n,a,s=t;function o(){var e=m(t);if(null===e)throw new u(u.Errors.BadTimeStamp,"Malformed timestamp: "+s);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function l(){t=t.replace(/^\s+/,"")}if(l(),e.startTime=o(),l(),"--\x3e"!==t.substr(0,3))throw new u(u.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);t=t.substr(3),l(),e.endTime=o(),l(),r=t,n=e,a=new c,d(r,function(e,t){switch(e){case"region":for(var r=i.length-1;0<=r;r--)if(i[r].id===t){a.set(e,i[r].region);break}break;case"vertical":a.alt(e,t,["rl","lr"]);break;case"line":var n=t.split(","),s=n[0];a.integer(e,s),a.percent(e,s)&&a.set("snapToLines",!1),a.alt(e,s,["auto"]),2===n.length&&a.alt("lineAlign",n[1],["start","middle","end"]);break;case"position":n=t.split(","),a.percent(e,n[0]),2===n.length&&a.alt("positionAlign",n[1],["start","middle","end"]);break;case"size":a.percent(e,t);break;case"align":a.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),n.region=a.get("region",null),n.vertical=a.get("vertical",""),n.line=a.get("line","auto"),n.lineAlign=a.get("lineAlign","start"),n.snapToLines=a.get("snapToLines",!0),n.size=a.get("size",100),n.align=a.get("align","middle"),n.position=a.get("position",{start:0,left:0,middle:50,end:100,right:100},n.align),n.positionAlign=a.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},n.align)}((u.prototype=n(Error.prototype)).constructor=u).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},c.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var y={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},g={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},v={v:"title",lang:"lang"},b={rt:"ruby"};function i(i,r){function e(){if(!r)return null;var e,t=r.match(/^([^<]*)(<[^>]*>?)?/);return e=t[1]?t[1]:t[2],r=r.substr(e.length),e}function t(e){return y[e]}function n(e){for(;f=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(f[0],t);return e}function s(e,t){var r=g[e];if(!r)return null;var n=i.document.createElement(r);n.localName=r;var s=v[e];return s&&t&&(n[s]=t.trim()),n}for(var a,o,l,u=i.document.createElement("div"),c=u,d=[];null!==(a=e());)if("<"!==a[0])c.appendChild(i.document.createTextNode(n(a)));else{if("/"===a[1]){d.length&&d[d.length-1]===a.substr(2).replace(">","")&&(d.pop(),c=c.parentNode);continue}var p,h=m(a.substr(1,a.length-2));if(h){p=i.document.createProcessingInstruction("timestamp",h),c.appendChild(p);continue}var f=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f)continue;if(!(p=s(f[1],f[3])))continue;if(o=c,b[(l=p).localName]&&b[l.localName]!==o.localName)continue;f[2]&&(p.className=f[2].substr(1).replace("."," ")),d.push(f[1]),c.appendChild(p),c=p}return u}var a=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function o(e){for(var t=0;t<a.length;t++){var r=a[t];if(e>=r[0]&&e<=r[1])return!0}return!1}function p(){}function h(e,t,r){p.call(this),this.cue=t,this.cueDiv=i(e,t.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=e.document.createElement("div"),n={direction:function(e){var t=[],r="";if(!e||!e.childNodes)return"ltr";function s(e,t){for(var r=t.childNodes.length-1;0<=r;r--)e.push(t.childNodes[r])}function i(e){if(!e||!e.length)return null;var t=e.pop(),r=t.textContent||t.innerText;if(r){var n=r.match(/^.*(\n|\r)/);return n?n[e.length=0]:r}return"ruby"===t.tagName?i(e):t.childNodes?(s(e,t),i(e)):void 0}for(s(t,e);r=i(t);)for(var n=0;n<r.length;n++)if(o(r.charCodeAt(n)))return"rtl";return"ltr"}(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function _(e){var t,r,n,s;if(e.div){r=e.div.offsetHeight,n=e.div.offsetWidth,s=e.div.offsetTop;var i=(i=e.div.childNodes)&&(i=i[0])&&i.getClientRects&&i.getClientRects();e=e.div.getBoundingClientRect(),t=i?Math.max(i[0]&&i[0].height||0,e.height/i.length):0}this.left=e.left,this.right=e.right,this.top=e.top||s,this.height=e.height||r,this.bottom=e.bottom||s+(e.height||r),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight}function f(e,t,o,l){var r=new _(t),n=t.cue,s=function(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,r=t.textTrackList,n=0,s=0;s<r.length&&r[s]!==t;s++)"showing"===r[s].mode&&n++;return-1*++n}(n),i=[];if(n.snapToLines){var a;switch(n.vertical){case"":i=["+y","-y"],a="height";break;case"rl":i=["+x","-x"],a="width";break;case"lr":i=["-x","+x"],a="width"}var u=r.lineHeight,c=u*Math.round(s),d=o[a]+u,p=i[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),s<0&&(c+=""===n.vertical?o.height:o.width,i=i.reverse()),r.move(p,c)}else{var h=r.lineHeight/o.height*100;switch(n.lineAlign){case"middle":s-=h/2;break;case"end":s-=h}switch(n.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}i=["+y","-x","+x","-y"],r=new _(t)}var f=function(e,t){for(var r,n=new _(e),s=1,i=0;i<t.length;i++){for(;e.overlapsOppositeAxis(o,t[i])||e.within(o)&&e.overlapsAny(l);)e.move(t[i]);if(e.within(o))return e;var a=e.intersectPercentage(o);a<s&&(r=new _(e),s=a),e=new _(n)}return r||n}(r,i);t.move(f.toCSSCompatValues(o))}function j(){}p.prototype.applyStyles=function(e,t){for(var r in t=t||this.div,e)e.hasOwnProperty(r)&&(t.style[r]=e[r])},p.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(h.prototype=n(p.prototype)).constructor=h,_.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},_.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},_.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},_.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},_.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},_.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},_.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},_.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,r=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||r}},j.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},j.convertCueToDOMTree=function(e,t){return e&&t?i(e,t):null};j.processCues=function(n,s,e){if(!n||!s||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var i=n.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",e.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(s)){var a=[],o=_.getSimpleBoxPosition(i),l={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var e,t,r=0;r<s.length;r++)t=s[r],e=new h(n,t,l),i.appendChild(e.div),f(0,e,o,a),t.displayState=e.div,a.push(_.getSimpleBoxPosition(e))}()}else for(var t=0;t<s.length;t++)i.appendChild(s[t].displayState)},(j.Parser=function(e,t,r){r||(r=t,t={}),t=t||{},this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof u))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var i=this;function t(){for(var e=i.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var r=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),r}function r(e){e.match(/X-TIMESTAMP-MAP/)?d(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":r=t,n=new c,d(r,function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",m(t))}},/[^\d]:/,/,/),i.ontimestampmap&&i.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}var r,n},/=/):d(e,function(e,t){switch(e){case"Region":!function(e){var s=new c;if(d(e,function(e,t){switch(e){case"id":s.set(e,t);break;case"width":s.percent(e,t);break;case"lines":s.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var n=new c;if(n.percent("x",r[0]),n.percent("y",r[1]),!n.has("x")||!n.has("y"))break;s.set(e+"X",n.get("x")),s.set(e+"Y",n.get("y"));break;case"scroll":s.alt(e,t,["up"])}},/=/,/\s/),s.has("id")){var t=new(i.vttjs.VTTRegion||i.window.VTTRegion);t.width=s.get("width",100),t.lines=s.get("lines",3),t.regionAnchorX=s.get("regionanchorX",0),t.regionAnchorY=s.get("regionanchorY",100),t.viewportAnchorX=s.get("viewportanchorX",0),t.viewportAnchorY=s.get("viewportanchorY",100),t.scroll=s.get("scroll",""),i.onregion&&i.onregion(t),i.regionList.push({id:s.get("id"),region:t})}}(t)}},/:/)}e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{var n;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var s=(n=t()).match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new u(u.Errors.BadSignature);i.state="HEADER"}for(var a=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(a?a=!1:n=t(),i.state){case"HEADER":/:/.test(n)?r(n):n||(i.state="ID");continue;case"NOTE":n||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){i.state="NOTE";break}if(!n)continue;if(i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,""),i.state="CUE",-1===n.indexOf("--\x3e")){i.cue.id=n;continue}case"CUE":try{l(n,i.cue,i.regionList)}catch(e){i.reportOrThrowError(e),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var o=-1!==n.indexOf("--\x3e");if(!n||o&&(a=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=n;continue;case"BADCUE":n||(i.state="ID");continue}}}catch(e){i.reportOrThrowError(e),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),!t.cue&&"HEADER"!==t.state||(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new u(u.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},t.exports=j},{"core-js/modules/es.array.index-of.js":200,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.reverse.js":207,"core-js/modules/es.function.name.js":214,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.parse-float.js":227,"core-js/modules/es.parse-int.js":228,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.string.match.js":236,"core-js/modules/es.string.replace.js":238,"core-js/modules/es.string.split.js":240,"core-js/modules/es.string.trim.js":241,"core-js/modules/web.dom-collections.iterator.js":276}],324:[function(e,t,r){var g={"":1,lr:1,rl:1},n={start:1,middle:1,end:1,left:1,right:1};function v(e){return"string"==typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}function s(e,t,r){this.hasBeenReset=!1;var n="",s=!1,i=e,a=t,o=r,l=null,u="",c=!0,d="auto",p="start",h=50,f="middle",m=50,y="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(e){n=""+e}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(e){s=!!e}},startTime:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");i=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");a=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(e){o=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(e){var t,r="string"==typeof(t=e)&&!!g[t.toLowerCase()]&&t.toLowerCase();if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");u=r,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(e){c=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");d=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return p},set:function(e){var t=v(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");p=t,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return h},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");h=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(e){var t=v(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");f=t,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");m=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=v(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}s.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=s},{}],325:[function(e,t,r){var l={"":!0,up:!0};function u(e){return"number"==typeof e&&0<=e&&e<=100}t.exports=function(){var t=100,r=3,n=0,s=100,i=0,a=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!u(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return r},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");r=e}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!u(e))throw new Error("RegionAnchorX must be between 0 and 100.");s=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!u(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!u(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!u(e))throw new Error("ViewportAnchorX must be between 0 and 100.");i=e}},scroll:{enumerable:!0,get:function(){return o},set:function(e){var t,r="string"==typeof(t=e)&&!!l[t.toLowerCase()]&&t.toLowerCase();if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");o=r}}})}},{}],326:[function(e,t,r){function n(){this.name="__st"+(1e9*Math.random()>>>0)+i+++"__"}var s,i,a,o,l,u,c;e("core-js/modules/es.array.for-each.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.split.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.string.search.js"),e("core-js/modules/es.string.match.js"),e("core-js/modules/es.function.name.js"),e("core-js/modules/es.regexp.flags.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.string.iterator.js"),e("core-js/modules/web.dom-collections.iterator.js"),e("core-js/modules/web.url.js"),e("core-js/modules/es.array.index-of.js"),e("core-js/modules/es.parse-int.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.array.join.js"),e("core-js/modules/es.weak-map.js"),e("core-js/modules/web.immediate.js"),e("core-js/modules/es.array.sort.js"),e("core-js/modules/es.array.splice.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.object.get-own-property-descriptor.js"),e("core-js/modules/es.object.get-own-property-names.js"),e("core-js/modules/es.object.get-prototype-of.js"),e("core-js/modules/es.array.concat.js"),function(){window.WebComponents=window.WebComponents||{flags:{}};var e=document.querySelector('script[src*="webcomponents-lite.js"]'),n={};if(!n.noOpts){if(location.search.slice(1).split("&").forEach(function(e){var t,r=e.split("=");r[0]&&(t=r[0].match(/wc-(.+)/))&&(n[t[1]]=r[1]||!0)}),e)for(var t,r=0;t=e.attributes[r];r++)"src"!==t.name&&(n[t.name]=t.value||!0);if(n.log&&n.log.split){var s=n.log.split(",");n.log={},s.forEach(function(e){n.log[e]=!0})}else n.log={}}n.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=n.register),WebComponents.flags=n}(),function(e){"use strict";var t=!1;if(!e.forceJURL)try{var r=new URL("b","http://a");r.pathname="c%20d",t="http://a/c%20d"===r.href}catch(e){}if(!t){var _=Object.create(null);_.ftp=21,_.file=0,_.gopher=70,_.http=80,_.https=443,_.ws=80,_.wss=443;var j=Object.create(null);j["%2e"]=".",j[".%2e"]="..",j["%2e."]="..",j["%2e%2e"]="..";var T=void 0,S=/[a-zA-Z]/,w=/[a-zA-Z0-9\+\-\.]/;a.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return""==this._username&&null==this._password||(e=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){i.call(this),s.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||s.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&s.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&s.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&s.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],s.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&((this._query="?")==e[0]&&(e=e.slice(1)),s.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(e){this._isInvalid||((this._fragment="#")==e[0]&&(e=e.slice(1)),s.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return(e=this.host)?this._scheme+"://"+e:""}};var n=e.URL;n&&(a.createObjectURL=function(e){return n.createObjectURL.apply(n,arguments)},a.revokeObjectURL=function(e){n.revokeObjectURL(e)}),e.URL=a}function E(e){return void 0!==_[e]}function k(){i.call(this),this._isInvalid=!0}function x(e){return""==e&&k.call(this),e.toLowerCase()}function C(e){var t=e.charCodeAt(0);return 32<t&&t<127&&-1==[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function s(e,t,r){function n(e){d.push(e)}var s,i,a=t||"scheme start",o=0,l="",u=!1,c=!1,d=[];e:for(;(e[o-1]!=T||0==o)&&!this._isInvalid;){var p=e[o];switch(a){case"scheme start":if(!p||!S.test(p)){if(t){n("Invalid scheme.");break e}l="",a="no scheme";continue}l+=p.toLowerCase(),a="scheme";break;case"scheme":if(p&&w.test(p))l+=p.toLowerCase();else{if(":"!=p){if(t){if(T==p)break e;n("Code point not allowed in scheme: "+p);break e}l="",o=0,a="no scheme";continue}if(this._scheme=l,l="",t)break e;E(this._scheme)&&(this._isRelative=!0),a="file"==this._scheme?"relative":this._isRelative&&r&&r._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==p?(this._query="?",a="query"):"#"==p?(this._fragment="#",a="fragment"):T!=p&&"\t"!=p&&"\n"!=p&&"\r"!=p&&(this._schemeData+=C(p));break;case"no scheme":if(r&&E(r._scheme)){a="relative";continue}n("Missing scheme."),k.call(this);break;case"relative or authority":if("/"!=p||"/"!=e[o+1]){n("Expected /, got: "+p),a="relative";continue}a="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=r._scheme),T==p){this._host=r._host,this._port=r._port,this._path=r._path.slice(),this._query=r._query,this._username=r._username,this._password=r._password;break e}if("/"==p||"\\"==p)"\\"==p&&n("\\ is an invalid code point."),a="relative slash";else if("?"==p)this._host=r._host,this._port=r._port,this._path=r._path.slice(),this._query="?",this._username=r._username,this._password=r._password,a="query";else{if("#"!=p){var h=e[o+1],f=e[o+2];("file"!=this._scheme||!S.test(p)||":"!=h&&"|"!=h||T!=f&&"/"!=f&&"\\"!=f&&"?"!=f&&"#"!=f)&&(this._host=r._host,this._port=r._port,this._username=r._username,this._password=r._password,this._path=r._path.slice(),this._path.pop()),a="relative path";continue}this._host=r._host,this._port=r._port,this._path=r._path.slice(),this._query=r._query,this._fragment="#",this._username=r._username,this._password=r._password,a="fragment"}break;case"relative slash":if("/"!=p&&"\\"!=p){"file"!=this._scheme&&(this._host=r._host,this._port=r._port,this._username=r._username,this._password=r._password),a="relative path";continue}"\\"==p&&n("\\ is an invalid code point."),a="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=p){n("Expected '/', got: "+p),a="authority ignore slashes";continue}a="authority second slash";break;case"authority second slash":if(a="authority ignore slashes","/"==p)break;n("Expected '/', got: "+p);continue;case"authority ignore slashes":if("/"!=p&&"\\"!=p){a="authority";continue}n("Expected authority, got: "+p);break;case"authority":if("@"==p){u&&(n("@ already seen."),l+="%40"),u=!0;for(var m=0;m<l.length;m++){var y=l[m];if("\t"!=y&&"\n"!=y&&"\r"!=y)if(":"!=y||null!==this._password){var g=C(y);null!==this._password?this._password+=g:this._username+=g}else this._password="";else n("Invalid whitespace in authority.")}l=""}else{if(T==p||"/"==p||"\\"==p||"?"==p||"#"==p){o-=l.length,l="",a="host";continue}l+=p}break;case"file host":if(T==p||"/"==p||"\\"==p||"?"==p||"#"==p){a=2!=l.length||!S.test(l[0])||":"!=l[1]&&"|"!=l[1]?(0==l.length||(this._host=x.call(this,l),l=""),"relative path start"):"relative path";continue}"\t"==p||"\n"==p||"\r"==p?n("Invalid whitespace in file host."):l+=p;break;case"host":case"hostname":if(":"!=p||c){if(T==p||"/"==p||"\\"==p||"?"==p||"#"==p){if(this._host=x.call(this,l),l="",a="relative path start",t)break e;continue}"\t"!=p&&"\n"!=p&&"\r"!=p?("["==p?c=!0:"]"==p&&(c=!1),l+=p):n("Invalid code point in host/hostname: "+p)}else if(this._host=x.call(this,l),l="",a="port","hostname"==t)break e;break;case"port":if(/[0-9]/.test(p))l+=p;else{if(T==p||"/"==p||"\\"==p||"?"==p||"#"==p||t){if(""!=l){var v=parseInt(l,10);v!=_[this._scheme]&&(this._port=v+""),l=""}if(t)break e;a="relative path start";continue}"\t"==p||"\n"==p||"\r"==p?n("Invalid code point in port: "+p):k.call(this)}break;case"relative path start":if("\\"==p&&n("'\\' not allowed in path."),a="relative path","/"!=p&&"\\"!=p)continue;break;case"relative path":var b;if(T!=p&&"/"!=p&&"\\"!=p&&(t||"?"!=p&&"#"!=p))"\t"!=p&&"\n"!=p&&"\r"!=p&&(l+=C(p));else"\\"==p&&n("\\ not allowed in relative path."),(b=j[l.toLowerCase()])&&(l=b),".."==l?(this._path.pop(),"/"!=p&&"\\"!=p&&this._path.push("")):"."==l&&"/"!=p&&"\\"!=p?this._path.push(""):"."!=l&&("file"==this._scheme&&0==this._path.length&&2==l.length&&S.test(l[0])&&"|"==l[1]&&(l=l[0]+":"),this._path.push(l)),l="","?"==p?(this._query="?",a="query"):"#"==p&&(this._fragment="#",a="fragment");break;case"query":t||"#"!=p?T!=p&&"\t"!=p&&"\n"!=p&&"\r"!=p&&(this._query+=32<(i=(s=p).charCodeAt(0))&&i<127&&-1==[34,35,60,62,96].indexOf(i)?s:encodeURIComponent(s)):(this._fragment="#",a="fragment");break;case"fragment":T!=p&&"\t"!=p&&"\n"!=p&&"\r"!=p&&(this._fragment+=p)}o++}}function i(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function a(e,t){void 0===t||t instanceof a||(t=new a(String(t))),this._url=e,i.call(this);var r=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");s.call(this,r,null,t)}}(self),"undefined"==typeof WeakMap&&(s=Object.defineProperty,i=Date.now()%1e9,n.prototype={set:function(e,t){var r=e[this.name];return r&&r[0]===e?r[1]=t:s(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e)&&(t[0]=t[1]=void 0,!0)},has:function(e){var t=e[this.name];return!!t&&t[0]===e}},window.WeakMap=n),function(e){if(!e.JsMutationObserver){var i,l=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))i=setTimeout;else if(window.setImmediate)i=window.setImmediate;else{var r=[],n=String(Math.random());window.addEventListener("message",function(e){if(e.data===n){var t=r;r=[],t.forEach(function(e){e()})}}),i=function(e){r.push(e),window.postMessage(n,"*")}}var d,p,a=!1,o=[],t=0;s.prototype={observe:function(e,t){var r;if(r=e,e=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(r)||r,!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var n,s=l.get(e);s||l.set(e,s=[]);for(var i=0;i<s.length;i++)if(s[i].observer===this){(n=s[i]).removeListeners(),n.options=t;break}n||(n=new g(this,e,t),s.push(n),this.nodes_.push(e)),n.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=l.get(e),r=0;r<t.length;r++){var n=t[r];if(n.observer===this){n.removeListeners(),t.splice(r,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},g.prototype={enqueue:function(e){var t,r=this.observer.records_,n=r.length;if(0<r.length){var s=y(r[n-1],e);if(s)return void(r[n-1]=s)}else t=this.observer,o.push(t),a||(a=!0,i(u));r[n]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=l.get(e);t||l.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=l.get(e),r=0;r<t.length;r++)if(t[r]===this){t.splice(r,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,r=e.relatedNode.namespaceURI,n=e.target;(i=new f("attributes",n)).attributeName=t,i.attributeNamespace=r;var s=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;h(n,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(r)))return e.attributeOldValue?m(s):i});break;case"DOMCharacterDataModified":var i=f("characterData",n=e.target);s=e.prevValue;h(n,function(e){if(e.characterData)return e.characterDataOldValue?m(s):i});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var a,o,l=e.target;o="DOMNodeInserted"===e.type?(a=[l],[]):(a=[],[l]);var u=l.previousSibling,c=l.nextSibling;(i=f("childList",e.target.parentNode)).addedNodes=a,i.removedNodes=o,i.previousSibling=u,i.nextSibling=c,h(e.relatedNode,function(e){if(e.childList)return i})}d=p=void 0}},e.JsMutationObserver=s,e.MutationObserver||((e.MutationObserver=s)._isPolyfilled=!0)}function u(){a=!1;var e=o;o=[],e.sort(function(e,t){return e.uid_-t.uid_});var n=!1;e.forEach(function(e){var r,t=e.takeRecords();(r=e).nodes_.forEach(function(e){var t=l.get(e);t&&t.forEach(function(e){e.observer===r&&e.removeTransientObservers()})}),t.length&&(e.callback_(t,e),n=!0)}),n&&u()}function h(e,t){for(var r=e;r;r=r.parentNode){var n=l.get(r);if(n)for(var s=0;s<n.length;s++){var i=n[s],a=i.options;if(r===e||a.subtree){var o=t(a);o&&i.enqueue(o)}}}}function s(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++t}function c(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function f(e,t){return d=new c(e,t)}function m(e){return p||((r=new c((t=d).type,t.target)).addedNodes=t.addedNodes.slice(),r.removedNodes=t.removedNodes.slice(),r.previousSibling=t.previousSibling,r.nextSibling=t.nextSibling,r.attributeName=t.attributeName,r.attributeNamespace=t.attributeNamespace,r.oldValue=t.oldValue,(p=r).oldValue=e,p);var t,r}function y(e,t){return e===t?e:p&&((r=e)===p||r===d)?p:null;var r}function g(e,t,r){this.observer=e,this.target=t,this.options=r,this.transientObservedNodes=[]}}(self),function(){var r,n="undefined"==typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&(r=document.importNode,document.importNode=function(){var e=r.apply(document,arguments);if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE)return e;var t=document.createDocumentFragment();return t.appendChild(e),t});function i(){}var e=function(){if(!n){var e=document.createElement("template"),t=document.createElement("template");t.content.appendChild(document.createElement("div")),e.content.appendChild(t);var r=e.cloneNode(!0);return 0===r.content.childNodes.length||0===r.content.firstChild.content.childNodes.length}}(),l="template";if(n){function s(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case"":return"&nbsp;"}}var a=document.implementation.createHTMLDocument("template"),o=!0,t=document.createElement("style");t.textContent=l+"{display:none;}";var u=document.head;u.insertBefore(t,u.firstElementChild),i.prototype=Object.create(HTMLElement.prototype),i.decorate=function(e){if(!e.content){var t;for(e.content=a.createDocumentFragment();t=e.firstChild;)e.content.appendChild(t);if(e.cloneNode=function(e){return i.cloneNode(this,e)},o)try{Object.defineProperty(e,"innerHTML",{get:function(){for(var e="",t=this.content.firstChild;t;t=t.nextSibling)e+=t.outerHTML||t.data.replace(d,s);return e},set:function(e){for(a.body.innerHTML=e,i.bootstrap(a);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;a.body.firstChild;)this.content.appendChild(a.body.firstChild)},configurable:!0})}catch(e){o=!1}i.bootstrap(e.content)}},i.bootstrap=function(e){for(var t,r=e.querySelectorAll(l),n=0,s=r.length;n<s&&(t=r[n]);n++)i.decorate(t)},document.addEventListener("DOMContentLoaded",function(){i.bootstrap(document)});var c=document.createElement;document.createElement=function(){"use strict";var e=c.apply(document,arguments);return"template"===e.localName&&i.decorate(e),e};var d=/[&\u00A0<>]/g}if(n||e){var p=Node.prototype.cloneNode;i.cloneNode=function(e,t){var r=p.call(e,!1);return this.decorate&&this.decorate(r),t&&(r.content.appendChild(p.call(e.content,!0)),this.fixClonedDom(r.content,e.content)),r},i.fixClonedDom=function(e,t){if(t.querySelectorAll)for(var r,n,s=t.querySelectorAll(l),i=e.querySelectorAll(l),a=0,o=i.length;a<o;a++)n=s[a],r=i[a],this.decorate&&this.decorate(n),r.parentNode.replaceChild(n.cloneNode(!0),r)};var h=document.importNode;Node.prototype.cloneNode=function(e){var t=p.call(this,e);return e&&i.fixClonedDom(t,this),t},document.importNode=function(e,t){if(e.localName===l)return i.cloneNode(e,t);var r=h.call(document,e,t);return t&&i.fixClonedDom(r,e),r},e&&(HTMLTemplateElement.prototype.cloneNode=function(e){return i.cloneNode(this,e)})}n&&(window.HTMLTemplateElement=i)}(),function(){"use strict";if(!window.performance||!window.performance.now){var e=Date.now();window.performance={now:function(){return Date.now()-e}}}var t,r;if(window.requestAnimationFrame||(window.requestAnimationFrame=(t=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)?function(e){return t(function(){e(performance.now())})}:function(e){return window.setTimeout(e,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}),!((r=document.createEvent("Event")).initEvent("foo",!0,!0),r.preventDefault(),r.defaultPrevented)){var n=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(n.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var s=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||s&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,t){t=t||{};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),r},window.CustomEvent.prototype=window.Event.prototype),!window.Event||s&&"function"!=typeof window.Event){var i=window.Event;window.Event=function(e,t){t=t||{};var r=document.createEvent("Event");return r.initEvent(e,Boolean(t.bubbles),Boolean(t.cancelable)),r},window.Event.prototype=i.prototype}}(window.WebComponents),window.HTMLImports=window.HTMLImports||{flags:{}},function(e){function t(e){return r?window.ShadowDOMPolyfill.wrapIfNeeded(e):e}var h=Boolean("import"in document.createElement("link")),r=Boolean(window.ShadowDOMPolyfill),n=t(document),s={get:function(){var e=window.HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return t(e)},configurable:!0};Object.defineProperty(document,"_currentScript",s),Object.defineProperty(n,"_currentScript",s);var i=/Trident/.test(navigator.userAgent);function a(e,t){(function t(r,n){if(s=n,"complete"!==s.readyState&&s.readyState!==o){var e=function e(){"complete"!==n.readyState&&n.readyState!==o||(n.removeEventListener(l,e),t(r,n))};n.addEventListener(l,e)}else r&&r();var s})(function(){!function(e,t){var r=t.querySelectorAll("link[rel=import]"),n=0,s=r.length,i=[],a=[];function o(){n==s&&e&&e({allImports:r,loadedImports:i,errorImports:a})}function l(e){f(e),i.push(this),n++,o()}function u(e){a.push(this),n++,o()}if(s)for(var c,d=0;d<s&&(c=r[d]);d++)p=c,(h?p.__loaded||p.import&&"loading"!==p.import.readyState:p.__importParsed)?(i.push(this),n++,o()):(c.addEventListener("load",l),c.addEventListener("error",u));else o();var p}(e,t)},t=t||n)}var o=i?"complete":"interactive",l="readystatechange";function f(e){e.target.__loaded=!0}if(h){function u(e){for(var t,r=0,n=e.length;r<n&&(t=e[r]);r++)c(t)&&d(t)}var c=function(e){return"link"===e.localName&&"import"===e.rel},d=function(e){e.import?f({target:e}):(e.addEventListener("load",f),e.addEventListener("error",f))};new MutationObserver(function(e){for(var t,r=0,n=e.length;r<n&&(t=e[r]);r++)t.addedNodes&&u(t.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var e,t=document.querySelectorAll("link[rel=import]"),r=0,n=t.length;r<n&&(e=t[r]);r++)d(e)}()}a(function(e){window.HTMLImports.ready=!0,window.HTMLImports.readyTime=(new Date).getTime();var t=n.createEvent("CustomEvent");t.initCustomEvent("HTMLImportsLoaded",!0,!0,e),n.dispatchEvent(t)}),e.IMPORT_LINK_TYPE="import",e.useNative=h,e.rootDocument=n,e.whenReady=a,e.isIE=i}(window.HTMLImports),a=window.HTMLImports,o=[],a.addModule=function(e){o.push(e)},a.initializeModules=function(){o.forEach(function(e){e(a)})},window.HTMLImports.addModule(function(e){var s=/(url\()([^)]*)(\))/g,i=/(@import[\s]+(?!url\())([^;]*)(;)/g,t={resolveUrlsInStyle:function(e,t){var r=e.ownerDocument.createElement("a");return e.textContent=this.resolveUrlsInCssText(e.textContent,t,r),e},resolveUrlsInCssText:function(e,t,r){var n=this.replaceUrls(e,r,t,s);return n=this.replaceUrls(n,r,t,i)},replaceUrls:function(e,i,a,t){return e.replace(t,function(e,t,r,n){var s=r.replace(/["']/g,"");return a&&(s=new URL(s,a).href),i.href=s,t+"'"+(s=i.href)+"'"+n})}};e.path=t}),window.HTMLImports.addModule(function(t){var a={async:!0,ok:function(e){return 200<=e.status&&e.status<300||304===e.status||0===e.status},load:function(e,n,s){var i=new XMLHttpRequest;return(t.flags.debug||t.flags.bust)&&(e+="?"+Math.random()),i.open("GET",e,a.async),i.addEventListener("readystatechange",function(e){if(4===i.readyState){var t=null;try{var r=i.getResponseHeader("Location");r&&(t="/"===r.substr(0,1)?location.origin+r:r)}catch(e){console.error(e.message)}n.call(s,!a.ok(i)&&i,i.response||i.responseText,t)}}),i.send(),i},loadDocument:function(e,t,r){this.load(e,t,r).responseType="document"}};t.xhr=a}),window.HTMLImports.addModule(function(e){function t(e,t){this.cache={},this.onload=e,this.oncomplete=t,this.inflight=0,this.pending={}}var a=e.xhr,o=e.flags;t.prototype={addNodes:function(e){this.inflight+=e.length;for(var t,r=0,n=e.length;r<n&&(t=e[r]);r++)this.require(t);this.checkDone()},addNode:function(e){this.inflight++,this.require(e),this.checkDone()},require:function(e){var t=e.src||e.href;e.__nodeUrl=t,this.dedupe(t,e)||this.fetch(t,e)},dedupe:function(e,t){return this.pending[e]?(this.pending[e].push(t),!0):this.cache[e]?(this.onload(e,t,this.cache[e]),this.tail(),!0):!(this.pending[e]=[t])},fetch:function(n,s){if(o.load&&console.log("fetch",n,s),n)if(n.match(/^data:/)){var e=n.split(","),t=e[0],r=e[1];r=-1<t.indexOf(";base64")?atob(r):decodeURIComponent(r),setTimeout(function(){this.receive(n,s,null,r)}.bind(this),0)}else{var i=function(e,t,r){this.receive(n,s,e,t,r)}.bind(this);a.load(n,i)}else setTimeout(function(){this.receive(n,s,{error:"href must be specified"},null)}.bind(this),0)},receive:function(e,t,r,n,s){this.cache[e]=n;for(var i,a=this.pending[e],o=0,l=a.length;o<l&&(i=a[o]);o++)this.onload(e,i,n,r,s),this.tail();this.pending[e]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},e.Loader=t}),window.HTMLImports.addModule(function(e){function t(e){this.addCallback=e,this.mo=new MutationObserver(this.handler.bind(this))}t.prototype={handler:function(e){for(var t,r=0,n=e.length;r<n&&(t=e[r]);r++)"childList"===t.type&&t.addedNodes.length&&this.addedNodes(t.addedNodes)},addedNodes:function(e){this.addCallback&&this.addCallback(e);for(var t,r=0,n=e.length;r<n&&(t=e[r]);r++)t.children&&t.children.length&&this.addedNodes(t.children)},observe:function(e){this.mo.observe(e,{childList:!0,subtree:!0})}},e.Observer=t}),window.HTMLImports.addModule(function(n){var s=n.path,t=n.rootDocument,r=n.flags,u=n.isIE,i=n.IMPORT_LINK_TYPE,e="link[rel="+i+"]",a={documentSelectors:e,importsSelectors:[e,"link[rel=stylesheet]:not([type])","style:not([type])","script:not([type])",'script[type="application/javascript"]','script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var e=this.nextToParse();e&&this.parse(e)},parse:function(e){if(this.isParsed(e))r.parse&&console.log("[%s] is already parsed",e.localName);else{var t=this[this.map[e.localName]];t&&(this.markParsing(e),t.call(this,e))}},parseDynamic:function(e,t){this.dynamicElements.push(e),t||this.parseNext()},markParsing:function(e){r.parse&&console.log("parsing",e),this.parsingElement=e},markParsingComplete:function(e){e.__importParsed=!0,this.markDynamicParsingComplete(e),e.__importElement&&(e.__importElement.__importParsed=!0,this.markDynamicParsingComplete(e.__importElement)),this.parsingElement=null,r.parse&&console.log("completed",e)},markDynamicParsingComplete:function(e){var t=this.dynamicElements.indexOf(e);0<=t&&this.dynamicElements.splice(t,1)},parseImport:function(e){if(e.import=e.__doc,window.HTMLImports.__importsParsingHook&&window.HTMLImports.__importsParsingHook(e),e.import&&(e.import.__importParsed=!0),this.markParsingComplete(e),e.__resource&&!e.__error?e.dispatchEvent(new CustomEvent("load",{bubbles:!1})):e.dispatchEvent(new CustomEvent("error",{bubbles:!1})),e.__pending)for(var t;e.__pending.length;)(t=e.__pending.shift())&&t({target:e});this.parseNext()},parseLink:function(e){o(e)?this.parseImport(e):(e.href=e.href,this.parseGeneric(e))},parseStyle:function(e){var t,r,n=e;(r=(t=e).ownerDocument.createElement("style")).textContent=t.textContent,s.resolveUrlsInStyle(r),e=r,(n.__appliedElement=e).__importElement=n,this.parseGeneric(e)},parseGeneric:function(e){this.trackElement(e),this.addElementToDocument(e)},rootImportForElement:function(e){for(var t=e;t.ownerDocument.__importLink;)t=t.ownerDocument.__importLink;return t},addElementToDocument:function(e){var t=this.rootImportForElement(e.__importElement||e);t.parentNode.insertBefore(e,t)},trackElement:function(t,r){function n(e){t.removeEventListener("load",n),t.removeEventListener("error",n),r&&r(e),s.markParsingComplete(t),s.parseNext()}var s=this;if(t.addEventListener("load",n),t.addEventListener("error",n),u&&"style"===t.localName){var e=!1;if(-1==t.textContent.indexOf("@import"))e=!0;else if(t.sheet){e=!0;for(var i,a=t.sheet.cssRules,o=a?a.length:0,l=0;l<o&&(i=a[l]);l++)i.type===CSSRule.IMPORT_RULE&&(e=e&&Boolean(i.styleSheet))}e&&setTimeout(function(){t.dispatchEvent(new CustomEvent("load",{bubbles:!1}))})}},parseScript:function(e){var t,r=document.createElement("script");r.__importElement=e,r.src=e.src?e.src:(t=function(e){return e.textContent+function(e){var t=e.ownerDocument;t.__importedScripts=t.__importedScripts||0;var r=e.ownerDocument.baseURI,n=t.__importedScripts?"-"+t.__importedScripts:"";return t.__importedScripts++,"\n//# sourceURL="+r+n+".js\n"}(e)}(e),"data:text/javascript;charset=utf-8,"+encodeURIComponent(t)),n.currentScript=e,this.trackElement(r,function(e){r.parentNode&&r.parentNode.removeChild(r),n.currentScript=null}),this.addElementToDocument(r)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(t)||this.nextToParseDynamic())},nextToParseInDoc:function(e,t){if(e&&this._mayParse.indexOf(e)<0){this._mayParse.push(e);for(var r,n=e.querySelectorAll(this.parseSelectorsForNode(e)),s=0,i=n.length;s<i&&(r=n[s]);s++)if(!this.isParsed(r))return this.hasResource(r)?o(r)?this.nextToParseInDoc(r.__doc,r):r:void 0}return t},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(e){return(e.ownerDocument||e)===t?this.documentSelectors:this.importsSelectors},isParsed:function(e){return e.__importParsed},needsDynamicParsing:function(e){return 0<=this.dynamicElements.indexOf(e)},hasResource:function(e){return!o(e)||void 0!==e.__doc}};function o(e){return"link"===e.localName&&e.rel===i}n.parser=a,n.IMPORT_SELECTOR=e}),window.HTMLImports.addModule(function(e){var a=e.flags,o=e.IMPORT_LINK_TYPE,t=e.IMPORT_SELECTOR,r=e.rootDocument,n=e.Loader,s=e.Observer,l=e.parser,i={documents:{},documentPreloadSelectors:t,importsPreloadSelectors:[t].join(","),loadNode:function(e){u.addNode(e)},loadSubtree:function(e){var t=this.marshalNodes(e);u.addNodes(t)},marshalNodes:function(e){return e.querySelectorAll(this.loadSelectorsForNode(e))},loadSelectorsForNode:function(e){return(e.ownerDocument||e)===r?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(e,t,r,n,s){if(a.load&&console.log("loaded",e,t),t.__resource=r,t.__error=n,function(e,t){return"link"===e.localName&&e.getAttribute("rel")===t}(t,o)){var i=this.documents[e];void 0===i&&((i=n?null:function(e,t){var r=document.implementation.createHTMLDocument(o);r._URL=t;var n=r.createElement("base");n.setAttribute("href",t),r.baseURI||function(e){return!!Object.getOwnPropertyDescriptor(e,"baseURI")}(r)||Object.defineProperty(r,"baseURI",{value:t});var s=r.createElement("meta");s.setAttribute("charset","utf-8"),r.head.appendChild(s),r.head.appendChild(n),r.body.innerHTML=e,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(r);return r}(r,s||e))&&(i.__importLink=t,this.bootDocument(i)),this.documents[e]=i),t.__doc=i}l.parseNext()},bootDocument:function(e){this.loadSubtree(e),this.observer.observe(e),l.parseNext()},loadedAll:function(){l.parseNext()}},u=new n(i.loaded.bind(i),i.loadedAll.bind(i));if(i.observer=new s,!document.baseURI){var c={get:function(){var e=document.querySelector("base");return e?e.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",c),Object.defineProperty(r,"baseURI",c)}e.importer=i,e.importLoader=u}),window.HTMLImports.addModule(function(e){var o=e.parser,l=e.importer,t={added:function(e){for(var t,r,n,s,i=0,a=e.length;i<a&&(s=e[i]);i++)t||(t=s.ownerDocument,r=o.isParsed(t)),(n=this.shouldLoadNode(s))&&l.loadNode(s),this.shouldParseNode(s)&&r&&o.parseDynamic(s,n)},shouldLoadNode:function(e){return 1===e.nodeType&&r.call(e,l.loadSelectorsForNode(e))},shouldParseNode:function(e){return 1===e.nodeType&&r.call(e,o.parseSelectorsForNode(e))}};l.observer.addCallback=t.added.bind(t);var r=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector}),function(e){var t=e.initializeModules;e.isIE;if(!e.useNative){t();var r=e.rootDocument;"complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?n():document.addEventListener("DOMContentLoaded",n)}function n(){window.HTMLImports.importer.bootDocument(r)}}(window.HTMLImports),window.CustomElements=window.CustomElements||{flags:{}},l=window.CustomElements,u=l.flags,c=[],l.addModule=function(e){c.push(e)},l.initializeModules=function(){c.forEach(function(e){e(l)})},l.hasNative=Boolean(document.registerElement),l.isIE=/Trident/.test(navigator.userAgent),l.useNative=!u.register&&l.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative),window.CustomElements.addModule(function(e){var l=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";function n(e,t){!function e(t,r,n){var s=t.firstElementChild;if(!s)for(s=t.firstChild;s&&s.nodeType!==Node.ELEMENT_NODE;)s=s.nextSibling;for(;s;)!0!==r(s,n)&&e(s,r,n),s=s.nextElementSibling;return null}(e,function(e){if(t(e))return!0;r(e,t)}),r(e,t)}function r(e,t){for(var r=e.shadowRoot;r;)n(r,t),r=r.olderShadowRoot}e.forDocumentTree=function(e,t){!function e(t,r,n){t=window.wrap(t);if(0<=n.indexOf(t))return;n.push(t);var s=t.querySelectorAll("link[rel="+l+"]");for(var i,a=0,o=s.length;a<o&&(i=s[a]);a++)i.import&&e(i.import,r,n);r(t)}(e,t,[])},e.forSubtree=n}),window.CustomElements.addModule(function(r){var a=r.flags,o=r.forSubtree,t=r.forDocumentTree;function l(e,t){return n(e,t)||s(e,t)}function n(e,t){if(r.upgrade(e,t))return!0;t&&h(e)}function s(e,t){o(e,function(e){if(n(e,t))return!0})}var i=window.MutationObserver._isPolyfilled&&a["throttle-attached"];r.hasPolyfillMutations=i,r.hasThrottledAttached=i;var u=!1,c=[];function d(e){c.push(e),u||(u=!0,setTimeout(p))}function p(){u=!1;for(var e,t=c,r=0,n=t.length;r<n&&(e=t[r]);r++)e();c=[]}function h(e){i?d(function(){f(e)}):f(e)}function f(e){e.__upgraded__&&!e.__attached&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function m(e){i?d(function(){y(e)}):y(e)}function y(e){e.__upgraded__&&e.__attached&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function g(e,t){if(a.dom){var r=t[0];if(r&&"childList"===r.type&&r.addedNodes&&r.addedNodes){for(var n=r.addedNodes[0];n&&n!==document&&!n.host;)n=n.parentNode;var s=n&&(n.URL||n._URL||n.host&&n.host.localName)||"";s=s.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",t.length,s||"")}var i=function(e){for(var t=e,r=window.wrap(document);t;){if(t==r)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}(e);t.forEach(function(e){"childList"===e.type&&(v(e.addedNodes,function(e){e.localName&&l(e,i)}),v(e.removedNodes,function(e){var t;e.localName&&(m(t=e),o(t,function(e){m(e)}))}))}),a.dom&&console.groupEnd()}var v=Array.prototype.forEach.call.bind(Array.prototype.forEach);function b(e){if(!e.__observer){var t=new MutationObserver(g.bind(this,e));t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}}function _(e){e=window.wrap(e),a.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop()),l(e,e===window.wrap(document)),b(e),a.dom&&console.groupEnd()}var j=Element.prototype.createShadowRoot;j&&(Element.prototype.createShadowRoot=function(){var e=j.call(this);return window.CustomElements.watchShadow(this),e}),r.watchShadow=function(e){if(e.shadowRoot&&!e.shadowRoot.__watched){a.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)b(t),t=t.olderShadowRoot}},r.upgradeDocumentTree=function(e){t(e,_)},r.upgradeDocument=_,r.upgradeSubtree=s,r.upgradeAll=l,r.attached=h,r.takeRecords=function(e){for(e=(e=window.wrap(e))||window.wrap(document);e.parentNode;)e=e.parentNode;var t=e.__observer;t&&(g(e,t.takeRecords()),p())}}),window.CustomElements.addModule(function(s){var i=s.flags;function a(e,t,r){var n;return i.upgrade&&console.group("upgrade:",e.localName),t.is&&e.setAttribute("is",t.is),o(e,t),e.__upgraded__=!0,(n=e).createdCallback&&n.createdCallback(),r&&s.attached(e),s.upgradeSubtree(e,r),i.upgrade&&console.groupEnd(),e}function o(e,t){Object.__proto__||function(e,t,r){var n={},s=t;for(;s!==r&&s!==HTMLElement.prototype;){for(var i,a=Object.getOwnPropertyNames(s),o=0;i=a[o];o++)n[i]||(Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(s,i)),n[i]=1);s=Object.getPrototypeOf(s)}}(e,t.prototype,t.native),e.__proto__=t.prototype}s.upgrade=function(e,t){if("template"===e.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e),!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var r=e.getAttribute("is"),n=s.getRegisteredDefinition(e.localName)||s.getRegisteredDefinition(r);if(n&&(r&&n.tag==e.localName||!r&&!n.extends))return a(e,n,t)}},s.upgradeWithDefinition=a,s.implementPrototype=o}),window.CustomElements.addModule(function(a){a.isIE;var o=a.upgradeDocumentTree,n=a.upgradeAll,l=a.upgradeWithDefinition,s=a.implementPrototype,e=a.useNative;function u(e,t,r){e=e.toLowerCase();var n=this.getAttribute(e);r.apply(this,arguments);var s=this.getAttribute(e);this.attributeChangedCallback&&s!==n&&this.attributeChangedCallback(e,n,s)}var c=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];var d={};function p(e){if(e)return d[e.toLowerCase()]}function i(e,t){e=e&&e.toLowerCase();var r,n=p((t=t&&t.toLowerCase())||e);if(n){if(e==n.tag&&t==n.is)return new n.ctor;if(!t&&!n.is)return new n.ctor}return t?(r=i(e)).setAttribute("is",t):(r=h(e),0<=e.indexOf("-")&&s(r,HTMLElement)),r}var t,h=document.createElement.bind(document),f=document.createElementNS.bind(document);function r(e,t){var r=e[t];e[t]=function(){var e=r.apply(this,arguments);return n(e),e}}t=Object.__proto__||e?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;for(var r=e;r;){if(r===t.prototype)return!0;r=r.__proto__}return!1},r(Node.prototype,"cloneNode"),r(document,"importNode"),document.registerElement=function(e,t){var r,n,s,i=t||{};if(!e)throw new Error("document.registerElement: first argument `name` must not be empty");if(e.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(e)+"'.");if(function(e){for(var t=0;t<c.length;t++)if(e===c[t])return!0}(e))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(e)+"'. The type name is invalid.");if(p(e))throw new Error("DuplicateDefinitionError: a type with name '"+String(e)+"' is already registered");return i.prototype||(i.prototype=Object.create(HTMLElement.prototype)),i.__name=e.toLowerCase(),i.extends&&(i.extends=i.extends.toLowerCase()),i.lifecycle=i.lifecycle||{},i.ancestry=function e(t){var r=p(t);if(r)return e(r.extends).concat([r]);return[]}(i.extends),function(e){for(var t,r=e.extends,n=0;t=e.ancestry[n];n++)r=t.is&&t.tag;e.tag=r||e.__name,r&&(e.is=e.__name)}(i),function(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var r=document.createElement(e.tag);t=Object.getPrototypeOf(r)}for(var n,s=e.prototype,i=!1;s;)s==t&&(i=!0),(n=Object.getPrototypeOf(s))&&(s.__proto__=n),s=n;i||console.warn(e.tag+" prototype not found in prototype chain for "+e.is),e.native=t}}(i),function(e){if(e.setAttribute._polyfilled)return;var r=e.setAttribute;e.setAttribute=function(e,t){u.call(this,e,t,r)};var t=e.removeAttribute;e.removeAttribute=function(e){u.call(this,e,null,t)},e.setAttribute._polyfilled=!0}(i.prototype),r=i.__name,n=i,d[r]=n,i.ctor=(s=i,function(){return l(h((e=s).tag),e);var e}),i.ctor.prototype=i.prototype,i.prototype.constructor=i.ctor,a.ready&&o(document),i.ctor},document.createElement=i,document.createElementNS=function(e,t,r){return"http://www.w3.org/1999/xhtml"===e?i(t,r):f(e,t)},a.registry=d,a.instanceof=t,a.reservedTagList=c,a.getRegisteredDefinition=p,document.register=document.registerElement}),function(e){var t=e.useNative,r=e.initializeModules;e.isIE;if(t){function n(){}e.watchShadow=n,e.upgrade=n,e.upgradeAll=n,e.upgradeDocumentTree=n,e.upgradeSubtree=n,e.takeRecords=n,e.instanceof=function(e,t){return e instanceof t}}else r();var s=e.upgradeDocumentTree,i=e.upgradeDocument;function a(){s(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(e){setTimeout(e,16)})(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(e){e.import&&i(wrap(e.import))}),"complete"===document.readyState||e.flags.eager)a();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var o=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(o,a)}else a()}(window.CustomElements),function(){var e=document.createElement("style");e.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var t=document.querySelector("head");t.insertBefore(e,t.firstChild)}(window.WebComponents)},{"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.for-each.js":199,"core-js/modules/es.array.index-of.js":200,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.join.js":202,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.array.sort.js":210,"core-js/modules/es.array.splice.js":211,"core-js/modules/es.function.name.js":214,"core-js/modules/es.object.get-own-property-descriptor.js":221,"core-js/modules/es.object.get-own-property-names.js":222,"core-js/modules/es.object.get-prototype-of.js":223,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.parse-int.js":228,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.regexp.flags.js":233,"core-js/modules/es.string.iterator.js":235,"core-js/modules/es.string.match.js":236,"core-js/modules/es.string.replace.js":238,"core-js/modules/es.string.search.js":239,"core-js/modules/es.string.split.js":240,"core-js/modules/es.weak-map.js":274,"core-js/modules/web.dom-collections.for-each.js":275,"core-js/modules/web.dom-collections.iterator.js":276,"core-js/modules/web.immediate.js":277,"core-js/modules/web.url.js":279}],327:[function(e,t,r){var n,s,i=e("@babel/runtime/helpers/typeof");e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.string.iterator.js"),e("core-js/modules/web.dom-collections.iterator.js"),e("core-js/modules/web.url.js"),e("core-js/modules/es.symbol.js"),e("core-js/modules/es.symbol.description.js"),e("core-js/modules/es.symbol.iterator.js"),e("core-js/modules/es.array-buffer.constructor.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.data-view.js"),e("core-js/modules/es.array-buffer.is-view.js"),e("core-js/modules/es.array.index-of.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.array.for-each.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.get-own-property-names.js"),e("core-js/modules/es.promise.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js"),e("core-js/modules/es.array.join.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.split.js"),e("core-js/modules/es.string.trim.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.function.name.js"),n=this,s=function(o){"use strict";var r="URLSearchParams"in self,n="Symbol"in self&&"iterator"in Symbol,l="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in self,i="ArrayBuffer"in self;if(i)var t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&-1<t.indexOf(Object.prototype.toString.call(e))};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function e(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(r){return new Promise(function(e,t){r.onload=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function f(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:l&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&l&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=h(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=u(e),t=c(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[u(e)]},d.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},d.prototype.set=function(e,t){this.map[u(e)]=c(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var r=[];return this.forEach(function(e,t){r.push(t)}),e(r)},d.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},d.prototype.entries=function(){var r=[];return this.forEach(function(e,t){r.push([t,e])}),e(r)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var r,n,s=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),-1<g.indexOf(n)?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function b(e){var s=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),r=t.shift().replace(/\+/g," "),n=t.join("=").replace(/\+/g," ");s.append(decodeURIComponent(r),decodeURIComponent(n))}}),s}function _(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var j=[301,302,303,307,308];_.redirect=function(e,t){if(-1===j.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},o.DOMException=self.DOMException;try{new o.DOMException}catch(e){o.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function T(s,a){return new Promise(function(n,e){var t=new v(s,a);if(t.signal&&t.signal.aborted)return e(new o.DOMException("Aborted","AbortError"));var i=new XMLHttpRequest;function r(){i.abort()}i.onload=function(){var e,s,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",s=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),r=t.shift().trim();if(r){var n=t.join(":").trim();s.append(r,n)}}),s)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var r="response"in i?i.response:i.responseText;n(new _(r,t))},i.onerror=function(){e(new TypeError("Network request failed"))},i.ontimeout=function(){e(new TypeError("Network request failed"))},i.onabort=function(){e(new o.DOMException("Aborted","AbortError"))},i.open(t.method,t.url,!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&l&&(i.responseType="blob"),t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",r),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",r)}),i.send("undefined"==typeof t._bodyInit?null:t._bodyInit)})}T.polyfill=!0,self.fetch||(self.fetch=T,self.Headers=d,self.Request=v,self.Response=_),o.Headers=d,o.Request=v,o.Response=_,o.fetch=T,Object.defineProperty(o,"__esModule",{value:!0})},"object"===("undefined"==typeof r?"undefined":i(r))&&"undefined"!=typeof t?s(r):s(n.WHATWGFetch={})},{"@babel/runtime/helpers/typeof":2,"core-js/modules/es.array-buffer.constructor.js":190,"core-js/modules/es.array-buffer.is-view.js":191,"core-js/modules/es.array-buffer.slice.js":192,"core-js/modules/es.array.for-each.js":199,"core-js/modules/es.array.index-of.js":200,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.join.js":202,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.slice.js":208,"core-js/modules/es.data-view.js":212,"core-js/modules/es.function.name.js":214,"core-js/modules/es.object.get-own-property-names.js":222,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.promise.js":230,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.regexp.to-string.js":234,"core-js/modules/es.string.iterator.js":235,"core-js/modules/es.string.replace.js":238,"core-js/modules/es.string.split.js":240,"core-js/modules/es.string.trim.js":241,"core-js/modules/es.symbol.description.js":242,"core-js/modules/es.symbol.iterator.js":243,"core-js/modules/es.symbol.js":244,"core-js/modules/es.typed-array.copy-within.js":245,"core-js/modules/es.typed-array.every.js":246,"core-js/modules/es.typed-array.fill.js":247,"core-js/modules/es.typed-array.filter.js":248,"core-js/modules/es.typed-array.find-index.js":249,"core-js/modules/es.typed-array.find.js":250,"core-js/modules/es.typed-array.for-each.js":251,"core-js/modules/es.typed-array.includes.js":252,"core-js/modules/es.typed-array.index-of.js":253,"core-js/modules/es.typed-array.iterator.js":256,"core-js/modules/es.typed-array.join.js":257,"core-js/modules/es.typed-array.last-index-of.js":258,"core-js/modules/es.typed-array.map.js":259,"core-js/modules/es.typed-array.reduce-right.js":260,"core-js/modules/es.typed-array.reduce.js":261,"core-js/modules/es.typed-array.reverse.js":262,"core-js/modules/es.typed-array.set.js":263,"core-js/modules/es.typed-array.slice.js":264,"core-js/modules/es.typed-array.some.js":265,"core-js/modules/es.typed-array.sort.js":266,"core-js/modules/es.typed-array.subarray.js":267,"core-js/modules/es.typed-array.to-locale-string.js":268,"core-js/modules/es.typed-array.to-string.js":269,"core-js/modules/es.typed-array.uint8-array.js":272,"core-js/modules/web.dom-collections.for-each.js":275,"core-js/modules/web.dom-collections.iterator.js":276,"core-js/modules/web.url.js":279}],328:[function(e,t,r){"use strict";var n=e("global/window"),s=e("is-function"),g=e("parse-headers"),i=e("xtend");function a(e,t,r){var n=e;return s(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=i(t,{uri:e}),n.callback=r,n}function v(e,t,r){return o(t=a(e,t,r))}function o(n){if("undefined"==typeof n.callback)throw new Error("callback argument missing");var s=!1,i=function(e,t,r){s||(s=!0,n.callback(e,t,r))};function a(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(u),m)try{e=JSON.parse(e)}catch(e){}return e}function t(e){return clearTimeout(l),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,i(e,y)}function e(){if(!o){var e;clearTimeout(l),e=n.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var t=y,r=null;return 0!==e?(t={body:a(),statusCode:e,method:d,headers:{},url:c,rawRequest:u},u.getAllResponseHeaders&&(t.headers=g(u.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),i(r,t,t.body)}}var r,o,l,u=n.xhr||null,c=(u=u||(n.cors||n.useXDR?new v.XDomainRequest:new v.XMLHttpRequest)).url=n.uri||n.url,d=u.method=n.method||"GET",p=n.body||n.data,h=u.headers=n.headers||{},f=!!n.sync,m=!1,y={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:u};if("json"in n&&!1!==n.json&&(m=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),p=JSON.stringify(!0===n.json?p:n.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(e,0)},u.onload=e,u.onerror=t,u.onprogress=function(){},u.onabort=function(){o=!0},u.ontimeout=t,u.open(d,c,!f,n.username,n.password),f||(u.withCredentials=!!n.withCredentials),!f&&0<n.timeout&&(l=setTimeout(function(){if(!o){o=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},n.timeout)),u.setRequestHeader)for(r in h)h.hasOwnProperty(r)&&u.setRequestHeader(r,h[r]);else if(n.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(u.responseType=n.responseType),"beforeSend"in n&&"function"==typeof n.beforeSend&&n.beforeSend(u),u.send(p||null),u}(t.exports=v).XMLHttpRequest=n.XMLHttpRequest||function(){},v.XDomainRequest="withCredentials"in new v.XMLHttpRequest?v.XMLHttpRequest:n.XDomainRequest,function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(["get","put","post","patch","head","delete"],function(n){v["delete"===n?"del":n]=function(e,t,r){return(t=a(e,t,r)).method=n.toUpperCase(),o(t)}})},{"global/window":285,"is-function":286,"parse-headers":312,xtend:329}],329:[function(e,t,r){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)s.call(r,n)&&(e[n]=r[n])}return e};var s=Object.prototype.hasOwnProperty},{}],330:[function(e,t,r){"use strict";e("./browser-polyfills");var n=e("./builders/VideoPlayerBuilder"),s=e("./builders/AudioPlayerBuilder"),i=e("./configuration/subtitles-modes"),a=e("./configuration/cross-origin-modes"),o=e("./translation/providers"),l=e("./translation/default-translation-strings"),u=e("./behaviors"),c=e("./playlists");t.exports={SUBTITLES_MODES:i,CROSS_ORIGIN_MODES:a,builderFor:function(e){if("video"===e)return new n;if("audio"===e)return new s;throw new Error('No media player builder available for type "'+e+'"')},behaviors:u,playlists:c,translationStringsProviders:o,defaultTranslationStrings:l}},{"./behaviors":349,"./browser-polyfills":350,"./builders/AudioPlayerBuilder":351,"./builders/VideoPlayerBuilder":353,"./configuration/cross-origin-modes":362,"./configuration/subtitles-modes":366,"./playlists":388,"./translation/default-translation-strings":389,"./translation/providers":396}],331:[function(e,t,r){"use strict";var n=e("./BaseBehavior"),s=e("../players/lib/playerEvents");t.exports=n.extend({bind:function(e){e.on(s.ITEM_ENDED,function(){e.getOptions().autoAdvanceEnabled&&e._queuePlaylistItem(e._currentItemIndex+1,!0,!0)})}})},{"../players/lib/playerEvents":377,"./BaseBehavior":333}],332:[function(e,t,r){"use strict";var n=e("./BaseBehavior"),s=e("../players/lib/playerEvents");t.exports=n.extend({bind:function(e){e.on(s.ITEM_PLAYING,function(){e.getImplementation().autoplay(!1)})}})},{"../players/lib/playerEvents":377,"./BaseBehavior":333}],333:[function(e,t,r){"use strict";var n=e("class.extend");t.exports=n.extend({bind:function(){},unbind:function(){},respondToOutOfBoundsQueueItemRequest:function(){return!1}})},{"class.extend":30}],334:[function(e,t,r){"use strict";var i=e("underscore"),n=e("./BaseBehavior"),a=e("../players/lib/playerEvents");t.exports=n.extend({bind:function(n){var s;n.on(a.TIME_CHANGED,function(e,t,r){i.isArray(t.getMarkers())&&r!==s&&(this._emitMarkerEvent(n,a.MARKER_ENDED,s),this._emitMarkerEvent(n,a.MARKER_STARTED,r),s=r)}.bind(this))},_emitMarkerEvent:function(e,t,r){r&&e.emit(t,r)}})},{"../players/lib/playerEvents":377,"./BaseBehavior":333,underscore:320}],335:[function(e,t,r){"use strict";var n=e("./BaseBehavior"),s=e("../players/lib/playerEvents");t.exports=n.extend({bind:function(e){var t,r;function n(){e.getImplementation().on("volumechange",function(){t!==e.isMuted()&&(t=e.isMuted(),e.emit(t?s.MUTED:s.UNMUTED)),r!==e.getVolumeLevel()&&(r=e.getVolumeLevel(),e.emit(s.VOLUME_LEVEL_CHANGED,r))})}e.getImplementation().ready(function(){t=e.isMuted(),r=e.getVolumeLevel()}),n(),e.on(s.PLAYER_IMPLEMENTATION_CHANGED,n)}})},{"../players/lib/playerEvents":377,"./BaseBehavior":333}],336:[function(e,t,r){"use strict";var n=e("./BaseBehavior"),s=e("../players/lib/playerEvents");t.exports=n.extend({bind:function(e){function t(){e.getImplementation().on("fullscreenchange",function(){e.getImplementation().isFullscreen()?e.emit(s.FULL_SCREEN_ENTERED):e.emit(s.FULL_SCREEN_EXITED)})}t(),e.on(s.PLAYER_IMPLEMENTATION_CHANGED,t)}})},{"../players/lib/playerEvents":377,"./BaseBehavior":333}],337:[function(e,t,r){"use strict";var n=e("./BaseBehavior"),s=e("../players/lib/playerEvents");t.exports=n.extend({bind:function(e){function t(){e.getImplementation().on("playing",function(){e.emit(s.ITEM_PLAYING,e.getCurrentItem(),e.getCurrentItemIndex()),e.emit(s.PLAYER_STATE_CHANGED)}),e.getImplementation().on("play",function(){e.emit(s.PLAYER_STATE_CHANGED)}),e.getImplementation().on("pause",function(){e.emit(s.PLAYBACK_PAUSED),e.emit(s.PLAYER_STATE_CHANGED)}),e.getImplementation().on("ended",function(){e.emit(s.ITEM_ENDED,e.getCurrentItem(),e.getCurrentItemIndex()),e.emit(s.PLAYER_STATE_CHANGED)})}t(),e.on(s.PLAYER_IMPLEMENTATION_CHANGED,t)}})},{"../players/lib/playerEvents":377,"./BaseBehavior":333}],338:[function(e,t,r){"use strict";e("core-js/modules/es.array.find.js"),e("core-js/modules/es.array.reverse.js"),e("core-js/modules/es.array.map.js");var n=e("./BaseBehavior"),s=e("../lib/ParentDOMElementChangeListener"),i=e("../players/lib/playerEvents"),a=e("underscore");t.exports=n.extend({bind:function(e){e.recalculateSizeClass=this._getCalculateSizeClassFn(e),e.getImplementation().ready(function(){e.recalculateSizeClass()}),this._onResize=a.throttle(e.recalculateSizeClass.bind(e),250),window.addEventListener("resize",this._onResize),this._parentChangeObserver=new s(e.getDOMElement(),this._onResize),this._parentChangeObserver.startListening(),e.getImplementation().on("resize",this._onResize),e.on(i.FULL_SCREEN_ENTERED+" "+i.FULL_SCREEN_EXITED,this._onResize)},_getCalculateSizeClassFn:function(i){return function(){var t,n,e=i.getImplementation(),r=i.getOptions().sizeClassBreakpoints,s=i.getDOMElement();e&&s&&(t=e.currentWidth(),n=a.chain(r).map(function(e,t){return{className:t,value:e}}).sortBy("value").reverse().find(function(e){return t>=e.value}).value(),a.each(r,function(e,t){var r=s.classList.contains(t);(n&&n.className!==t&&r||r)&&s.classList.remove(t)}),n&&!s.classList.contains(n.className)&&s.classList.add(n.className))}},unbind:function(e){window.removeEventListener("resize",this._onResize),this._parentChangeObserver.stopListening(),delete e.recalculateSizeClass,e.getImplementation()&&e.getImplementation().off("resize",this._onResize),e.off(i.FULL_SCREEN_ENTERED+" "+i.FULL_SCREEN_EXITED,this._onResize),this._onResize=null}})},{"../lib/ParentDOMElementChangeListener":368,"../players/lib/playerEvents":377,"./BaseBehavior":333,"core-js/modules/es.array.find.js":198,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.reverse.js":207,underscore:320}],339:[function(e,t,r){"use strict";var n=e("./BaseBehavior"),s=e("../players/lib/playerEvents");t.exports=n.extend({bind:function(r){r.on(s.ITEM_ENDED,function(e,t){t===r.getPlaylist().getNumberOfItems()-1&&r.emit(s.PLAYLIST_ENDED)})}})},{"../players/lib/playerEvents":377,"./BaseBehavior":333}],340:[function(e,t,r){"use strict";var n=e("./BaseBehavior");t.exports=n.extend({respondToOutOfBoundsQueueItemRequest:function(e,t,r){var n=r===t+1,s=r===t-1,i=e.getOptions().loopingPlaylistForwardEnabled,a=e.getOptions().loopingPlaylistBackwardEnabled;return n&&i?0:!!(s&&a&&e.getPlaylist()&&e.getPlaylist().isLoaded())&&e.getPlaylist().getNumberOfItems()-1}})},{"./BaseBehavior":333}],341:[function(e,t,r){"use strict";var n=e("./BaseBehavior"),s="probably-keyboard-focused";t.exports=n.extend({bind:function(t){this._keyEventListener=function(e){9===(e.keyCode||e.which)&&(this._isTabPressed="keydown"===e.type)}.bind(this),document.addEventListener("keydown",this._keyEventListener),document.addEventListener("keyup",this._keyEventListener),this._playerFocusInListener=function(){this._isTabPressed&&t.getDOMElement().classList.add(s)}.bind(this),t.getDOMElement().addEventListener("focusin",this._playerFocusInListener),this._playerFocusOutListener=function(e){!1===t.getDOMElement().contains(e.relatedTarget)&&t.getDOMElement().classList.remove(s)},t.getDOMElement().addEventListener("focusout",this._playerFocusOutListener),this._nonKeyboardEventListener=function(){t.getDOMElement().classList.remove(s)},document.addEventListener("mousedown",this._nonKeyboardEventListener),document.addEventListener("touchstart",this._nonKeyboardEventListener)},unbind:function(e){document.removeEventListener("keydown",this._keyEventListener),document.removeEventListener("keyup",this._keyEventListener),e.getDOMElement().removeEventListener("focusin",this._playerFocusInListener),e.getDOMElement().removeEventListener("focusout",this._playerFocusOutListener),document.removeEventListener("mousedown",this._nonKeyboardEventListener),document.removeEventListener("touchstart",this._nonKeyboardEventListener)}})},{"./BaseBehavior":333}],342:[function(e,t,r){"use strict";e("core-js/modules/es.array.find.js");var s=e("underscore"),i=e("../players/lib/playerEvents"),n=e("./BaseBehavior");t.exports=n.extend({bind:function(r){var n=this;function e(){r.getImplementation().on("qualityRequested",function(e,t){t&&r.emit(i.ITEM_QUALITY_CHANGE_REQUESTED,n._findPlayableSource(r,t))})}e(),r.on(i.PLAYER_IMPLEMENTATION_CHANGED,e)},_findPlayableSource:function(e,t){var r,n=e.getCurrentItem();if(n)return r=n.getSources(),s.find(r,function(e){return e.getURL()===t.src&&e.getLabel()===t.label})}})},{"../players/lib/playerEvents":377,"./BaseBehavior":333,"core-js/modules/es.array.find.js":198,underscore:320}],343:[function(e,t,r){"use strict";e("core-js/modules/es.array.find.js");var n,s=e("underscore"),i=e("../players/lib/playerEvents"),a=e("./BaseBehavior"),o=e("../lib/localStorageKeys");n={get:function(){return localStorage.getItem(o.PREF_MAX_RESOLUTION)},set:function(e){localStorage.setItem(o.PREF_MAX_RESOLUTION,e)}},t.exports=a.extend({init:function(e){if(this._resolutionPreferenceStorage=e){if(!s.isFunction(e.get))throw new Error("The `resolutionPreferenceStorage` object provided does not have a `get` method. The object should have a `get` method that returns the user's preferred maximum resolution.");if(!s.isFunction(e.set))throw new Error("The `resolutionPreferenceStorage` object provided does not have a `set` method. The object should have a `set` method that updates the stored value of the user's preferred maximum resolution.")}else this._resolutionPreferenceStorage=n},bind:function(e){e.on(i.ITEM_QUALITY_CHANGE_REQUESTED,function(e){if(e)try{this._resolutionPreferenceStorage.set(e.getResolution())}catch(e){}},this),e.setSourceSelectionFn(this.findSourceForPreferredMaxResolutionSetting.bind(this))},findSourceForPreferredMaxResolutionSetting:function(e){var t;try{t=this._resolutionPreferenceStorage.get()}catch(e){}return t?s.find(e,function(e){return e.getResolution()<=t})||s.last(e):s.first(e)}})},{"../lib/localStorageKeys":370,"../players/lib/playerEvents":377,"./BaseBehavior":333,"core-js/modules/es.array.find.js":198,underscore:320}],344:[function(e,t,r){"use strict";var i=e("../configuration/subtitles-modes"),n=e("./BaseBehavior"),a=e("underscore");t.exports=n.extend({bind:function(e){e.supportsSubtitles()&&(this._onResize=a.throttle(this._updateSubtitlesPosition.bind(this,e),250),e.getImplementation().on("playerresize",this._onResize),window.addEventListener("orientationchange",this._onResize))},_updateSubtitlesPosition:function(e){var t,r,n=e.getImplementation(),s=e.getSubtitlesMode();r=s===i.SUBTITLES_ANY||s===i.SUBTITLES_TEXT,n&&r&&(t=n.getChild("TextTrackDisplay"))&&a.isFunction(t.updateDisplay)&&t.updateDisplay()},unbind:function(e){e.supportsSubtitles()&&(e.getImplementation()&&e.getImplementation().off("playerresize",this._onResize),window.removeEventListener("orientationchange",this._onResize),this._onResize=null)}})},{"../configuration/subtitles-modes":366,"./BaseBehavior":333,underscore:320}],345:[function(e,t,r){"use strict";var n=e("./BaseBehavior"),s=e("../players/lib/playerEvents");t.exports=n.extend({bind:function(t){function e(){var e=!1;t.getImplementation().on("seeking",function(){e||(t.emit(s.SEEK_STARTED),t.emit(s.PLAYER_STATE_CHANGED)),t.emit(s.SEEKING),e=!0}),t.getImplementation().on("seeked",function(){t.emit(s.SEEK_ENDED,t.getCurrentTime()),t.emit(s.PLAYER_STATE_CHANGED),e=!1})}e(),t.on(s.PLAYER_IMPLEMENTATION_CHANGED,e)}})},{"../players/lib/playerEvents":377,"./BaseBehavior":333}],346:[function(e,t,r){"use strict";var n=e("./BaseBehavior"),s=e("../players/lib/playerEvents");t.exports=n.extend({bind:function(t){t.on(s.SETTING_CHANGED+":controlInterfaceEnabled",function(e){t.getImplementation().controls(e)}),t.on(s.SETTING_CHANGED+":aspectRatio",function(e){t.getImplementation().aspectRatio(e)})}})},{"../players/lib/playerEvents":377,"./BaseBehavior":333}],347:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter.js");var o=e("underscore"),n=e("../players/lib/playerEvents"),l=e("../configuration/subtitles-modes"),s=e("./BaseBehavior");t.exports=s.extend({bind:function(i){var a;function e(){i.getImplementation().on("play",function(){i._resetTextSubtitlesConfig(i.getCurrentItem())}),i.getImplementation().textTracks().on("change",o.debounce(function(){var e,t,r,n=i.getSubtitlesMode(),s=n===l.SUBTITLES_ANY||n===l.SUBTITLES_TEXT;t=0<(e=o.filter(i.getImplementation().textTracks(),function(e){return("subtitles"===e.kind||"captions"===e.kind)&&"showing"===e.mode})).length,r=1===e.length&&e[0]===i._findPreferredTextTrack(),!t||s?t||!s?r||i._resetTextTrackVisibility():i.setSubtitlesMode(l.SUBTITLES_OFF):i.setSubtitlesMode(l.SUBTITLES_ANY)},10))}i.supportsSubtitles()&&(i.on(n.SETTING_CHANGED+":subtitlesMode",function(){var e,t,r=i.getCurrentItem(),n=i._getSourcesFor(r,!0),s=o.pluck(n,"src");i.isReady()&&r&&(o.isEqual(s,a)?i._resetTextSubtitlesConfig(r):(e=i.isPlaying(),t=i.getCurrentTime(),i._updatePlayerSources(n),i._resumePlaybackStateWhenReady(e,t)))}),i.on(n.PLAYER_STATE_CHANGED,function(){a=o.pluck(i.getImplementation().currentSources(),"src")}),e(),i.on(n.PLAYER_IMPLEMENTATION_CHANGED,e))}})},{"../configuration/subtitles-modes":366,"../players/lib/playerEvents":377,"./BaseBehavior":333,"core-js/modules/es.array.filter.js":196,underscore:320}],348:[function(e,t,r){"use strict";e("core-js/modules/es.array.find.js");var n=e("./BaseBehavior"),u=e("../players/lib/playerEvents"),s=e("underscore");t.exports=n.extend({bind:function(a){var o,l=this;function e(){a.getImplementation().on("timeupdate",function(){!function e(){var t,r=a.getCurrentItem(),n=a.getCurrentTime(),s=l._findMarkerForTime(r.getMarkers(),n),i=l._findNextMarkerForTime(r.getMarkers(),n);a.emit(u.TIME_CHANGED,n,r,s),i&&(t=i.startTimeInSeconds-n)<=.4&&!o&&(o=setTimeout(function(){o=null,a.isPlaying()&&e()},1e3*t+1))}()})}e(),a.on(u.PLAYER_IMPLEMENTATION_CHANGED,e)},_findMarkerForTime:function(e,t){if(s.isArray(e)&&0!==e.length)return s.find(e,function(e){return e.startTimeInSeconds<=t&&t<=e.endTimeInSeconds})},_findNextMarkerForTime:function(e,t){if(s.isArray(e)&&0!==e.length)return s.chain(e).sortBy(e,"startTimeInSeconds").find(function(e){return e.startTimeInSeconds>t}).value()}})},{"../players/lib/playerEvents":377,"./BaseBehavior":333,"core-js/modules/es.array.find.js":198,underscore:320}],349:[function(e,t,r){"use strict";t.exports={BaseBehavior:e("./BaseBehavior"),RememberMaxResolutionUserPreferenceBehavior:e("./RememberMaxResolutionUserPreferenceBehavior")}},{"./BaseBehavior":333,"./RememberMaxResolutionUserPreferenceBehavior":343}],350:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.promise.js"),e("core-js/modules/es.object.assign.js"),window&&!window.Promise&&(window.Promise=e("es6-promise").Promise),window&&!window.fetch&&e("whatwg-fetch"),Object.assign||e("core-js/es/object/assign"),Function.prototype.bind=e("function-bind")},{"core-js/es/object/assign":31,"core-js/modules/es.object.assign.js":219,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.promise.js":230,"es6-promise":281,"function-bind":283,"whatwg-fetch":327}],351:[function(e,t,r){"use strict";var n=e("underscore"),s=e("../configuration/audio-config"),i=e("./BasePlayerBuilder"),a=e("../players/AudioPlayer"),o=e("../configuration/configurator");t.exports=i.extend(n.extend({},o.createSetters(s.all),{init:function(){this._super.apply(this,arguments),this._opts=o.createDefaults(s.all)},getPlayerClass:function(){return a}}))},{"../configuration/audio-config":359,"../configuration/configurator":361,"../players/AudioPlayer":372,"./BasePlayerBuilder":352,underscore:320}],352:[function(e,t,r){"use strict";var n=e("underscore"),s=e("class.extend");t.exports=s.extend({init:function(){this._behaviors=[]},build:function(e){return new(this.getPlayerClass())(e,n.extend({},this._opts,{externalBehaviors:this._behaviors}))},addBehavior:function(e){return this._behaviors.push(e),this}})},{"class.extend":30,underscore:320}],353:[function(e,t,r){"use strict";var n=e("underscore"),s=e("../configuration/video-config"),i=e("./BasePlayerBuilder"),a=e("../players/VideoPlayer"),o=e("../configuration/configurator");t.exports=i.extend(n.extend({},o.createSetters(s.all),{init:function(){this._super.apply(this,arguments),this._opts=o.createDefaults(s.all)},getPlayerClass:function(){return a}}))},{"../configuration/configurator":361,"../configuration/video-config":367,"../players/VideoPlayer":374,"./BasePlayerBuilder":352,underscore:320}],354:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/typeof")),s=e("underscore"),i=e("../players/lib/playerEvents"),a=e("@silvermine/video.js"),o=a.getComponent("Button");t.exports=a.extend(o,{constructor:function(e,t){if(!s.isObject(t.mediaPlayer))throw new Error("was not given a media player object, but was given: "+(0,n.default)(t.mediaPlayer));o.prototype.constructor.call(this,e,t),this._mediaPlayer=t.mediaPlayer,this.controlText(this._getControlTextKey()),this._addEventListeners(),this.on("dispose",this._removeEventListeners.bind(this)),this._updateButtonState()},_addEventListeners:function(){this._mediaPlayer.on(i.CURRENT_ITEM_CHANGED,this._updateButtonState,this),this._mediaPlayer.on(i.PLAYLIST_ITEM_ORDER_CHANGED,this._updateButtonState,this)},_removeEventListeners:function(){this._mediaPlayer.off(i.CURRENT_ITEM_CHANGED,this._updateButtonState,this),this._mediaPlayer.off(i.PLAYLIST_ITEM_ORDER_CHANGED,this._updateButtonState,this)},handleClick:function(){this.isDisabled()||(this._playAfterItemChanges(),this._handleSuccessfulClick())},_playAfterItemChanges:function(){this._mediaPlayer.once(i.CURRENT_ITEM_CHANGED,function(){this._mediaPlayer.isPlaying()||this._mediaPlayer.play()},this)},_handleSuccessfulClick:function(){},_updateButtonState:function(){this._shouldBeVisible()?this.show():this.hide(),this._shouldBeEnabled()?this.enable():this.disable()},_shouldBeVisible:function(){return this._playerHasLoadedPlaylist()&&this._playlistHasMultipleItems()},_shouldBeEnabled:function(){},_playerHasLoadedPlaylist:function(){return this._mediaPlayer.getPlaylist()&&this._mediaPlayer.getPlaylist().isLoaded()},_playlistHasMultipleItems:function(){return 1<this._mediaPlayer.getPlaylist().getNumberOfItems()},buildCSSClass:function(){return this._getCSSClass()+" "+o.prototype.buildCSSClass.call(this)},_getCSSClass:function(){},_getControlTextKey:function(){},isDisabled:function(){return!this.enabled_}})},{"../players/lib/playerEvents":377,"@babel/runtime/helpers/interopRequireDefault":1,"@babel/runtime/helpers/typeof":2,"@silvermine/video.js":6,underscore:320}],355:[function(e,t,r){"use strict";var n,s=e("@silvermine/video.js"),i=s.getComponent("Component");t.exports=n=s.extend(i,{options_:{className:""},createEl:function(){var e,t;return e={className:"vjs-control-group "+this.options_.className,dir:"ltr"},t={role:"group"},i.prototype.createEl.call(this,"div",e,t)}}),s.registerComponent("ComponentGroup",n)},{"@silvermine/video.js":6}],356:[function(e,t,r){"use strict";var n,s=e("./BaseChangePlaylistIndexButton"),i=e("../translation/translation-string-keys"),a=e("@silvermine/video.js");n=a.extend(s,{_handleSuccessfulClick:function(){this._mediaPlayer.nextItem()},_getCSSClass:function(){return"vjs-playlist-next"},_shouldBeEnabled:function(){var e;return!!this._playerHasLoadedPlaylist()&&(e=this._mediaPlayer.getPlaylist().getNumberOfItems(),!(this._mediaPlayer.getCurrentItemIndex()===e-1)||this._mediaPlayer.getOptions().loopingPlaylistForwardEnabled)},_getControlTextKey:function(){return i.btnNext}}),a.registerComponent("NextButton",n),t.exports=n},{"../translation/translation-string-keys":397,"./BaseChangePlaylistIndexButton":354,"@silvermine/video.js":6}],357:[function(e,t,r){"use strict";var n,s=e("./BaseChangePlaylistIndexButton"),i=e("../translation/translation-string-keys"),a=e("@silvermine/video.js");n=a.extend(s,{_handleSuccessfulClick:function(){this._mediaPlayer.previousItem()},_getCSSClass:function(){return"vjs-playlist-previous"},_shouldBeEnabled:function(){return this._playerHasLoadedPlaylist()&&(0<this._mediaPlayer.getCurrentItemIndex()||this._mediaPlayer.getOptions().loopingPlaylistBackwardEnabled)},_getControlTextKey:function(){return i.btnPrevious}}),a.registerComponent("PreviousButton",n),t.exports=n},{"../translation/translation-string-keys":397,"./BaseChangePlaylistIndexButton":354,"@silvermine/video.js":6}],358:[function(e,t,r){"use strict";var n,s=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/typeof")),i=e("underscore"),a=e("@silvermine/video.js"),o=a.getComponent("Button"),l=e("../players/lib/playerEvents"),u=e("../configuration/subtitles-modes"),c=e("../translation/translation-string-keys");n=a.extend(o,{constructor:function(e,t){var r,n=t.mediaPlayer;if(!i.isObject(n))throw new Error("was not given a media player object, but was given: "+(0,s.default)(n));o.prototype.constructor.call(this,e,t),this._mediaPlayer=n,r=this._mediaPlayer.getSubtitlesMode(),this.setSubtitlesEnabledMode(r===u.SUBTITLES_OFF?u.SUBTITLES_ANY:r),this.displaySubtitlesMode(r),this._addEventListeners(),this.on("dispose",this._removeEventListeners.bind(this))},_addEventListeners:function(){this._mediaPlayer.on(l.CURRENT_ITEM_CHANGED,this._onCurrentItemChanged,this),this._mediaPlayer.on(l.SETTING_CHANGED+":subtitlesMode",this._onSubtitlesModeChanged,this)},_removeEventListeners:function(){this._mediaPlayer.off(l.CURRENT_ITEM_CHANGED,this._onCurrentItemChanged,this),this._mediaPlayer.off(l.SETTING_CHANGED+":subtitlesMode",this._onSubtitlesModeChanged,this)},_onCurrentItemChanged:function(e){this.displaySubtitlesMode(this._mediaPlayer.getSubtitlesMode()),this.updateVisibility(e)},_onSubtitlesModeChanged:function(){var e=this._mediaPlayer.getSubtitlesMode();e!==u.SUBTITLES_OFF&&this.setSubtitlesEnabledMode(e),this.displaySubtitlesMode(e),this.updateVisibility(this._mediaPlayer.getCurrentItem())},buildCSSClass:function(){return"vjs-subtitles-toggle "+o.prototype.buildCSSClass.call(this)},handleClick:function(){var e;e=this._mediaPlayer.getSubtitlesMode()===u.SUBTITLES_OFF?this._subtitlesEnabledMode:u.SUBTITLES_OFF,this._mediaPlayer.setSubtitlesMode(e),this.displaySubtitlesMode(e)},setSubtitlesEnabledMode:function(e){this._subtitlesEnabledMode=e},updateVisibility:function(e){var t;t=e&&(this._subtitlesEnabledMode===u.SUBTITLES_ANY&&e.hasSubtitles()||this._subtitlesEnabledMode===u.SUBTITLES_BURNED_IN&&e.hasBurnedInSubtitles()||this._subtitlesEnabledMode===u.SUBTITLES_TEXT&&e.hasTextSubtitles()),this.setHidden(!t)},setHidden:function(e){e?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")},displaySubtitlesMode:function(e){this.removeClass("active"),this.removeClass("disabled"),e===u.SUBTITLES_OFF?(this.controlText(c.btnEnableSubtitles),this.addClass("disabled")):(this.controlText(c.btnDisableSubtitles),this.addClass("active"))}}),a.registerComponent("SubtitlesToggle",n),t.exports=n},{"../configuration/subtitles-modes":366,"../players/lib/playerEvents":377,"../translation/translation-string-keys":397,"@babel/runtime/helpers/interopRequireDefault":1,"@babel/runtime/helpers/typeof":2,"@silvermine/video.js":6,underscore:320}],359:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");var n=e("./base-config");t.exports={building:n.building,runtime:n.runtime.concat([{name:"aspectRatio",validate:/^[0-9]+:[0-9]+$/,defaultValue:"1:0"},{name:"sizeClassBreakpoints",validate:"object",defaultValue:{"large-layout":350}}])},t.exports.all=t.exports.building.concat(t.exports.runtime)},{"./base-config":360,"core-js/modules/es.array.concat.js":193}],360:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.iterator.js"),e("core-js/modules/es.array.concat.js");var n=e("underscore"),s=e("../translation/providers/DefaultTranslationStringsProvider"),i=e("./cross-origin-modes");t.exports={building:[{name:"autoPlayEnabled",validate:"boolean",defaultValue:!1},{name:"playlist",validate:"object",defaultValue:null},{name:"defaultLocale",validate:"string",defaultValue:"en"},{name:"muted",validate:"boolean",defaultValue:!1},{name:"crossOriginMode",validate:n.values(i),defaultValue:i.DISABLED}],runtime:[{name:"controlInterfaceEnabled",validate:"boolean",defaultValue:!0},{name:"defaultPoster",validate:"string",defaultValue:null},{name:"loopingPlaylistForwardEnabled",validate:"boolean",defaultValue:!1},{name:"loopingPlaylistBackwardEnabled",validate:"boolean",defaultValue:!1},{name:"autoAdvanceEnabled",validate:"boolean",defaultValue:!1},{name:"sourceSelectionFn",validate:"function",defaultValue:null},{name:"sourceFilterFn",validate:"function",defaultValue:null},{name:"translationStringsProvider",validate:"object",defaultValueProvider:function(){return new s}}]},t.exports.all=t.exports.building.concat(t.exports.runtime)},{"../translation/providers/DefaultTranslationStringsProvider":393,"./cross-origin-modes":362,"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.object.to-string.js":226,"core-js/modules/web.dom-collections.iterator.js":276,underscore:320}],361:[function(e,t,r){"use strict";e("core-js/modules/es.array.reduce.js"),e("core-js/modules/es.function.name.js");var n,s=e("underscore"),i=e("./make-setter"),a=e("./make-getter");function o(e){return e.charAt(0).toUpperCase()+e.substring(1)}n={createDefaults:function(e){return s.reduce(e,function(e,t){return e[t.name]=s.isFunction(t.defaultValueProvider)?t.defaultValueProvider():t.defaultValue,e},{})},createSetters:function(e,r){return s.reduce(e,function(e,t){return e["set"+o(t.name)]=i(t.name,t.validate,r),e},{})},createGetters:function(e){return s.reduce(e,function(e,t){return e[("boolean"===t.validate?"is":"get")+o(t.name)]=a(t.name),e},{})},createGettersAndSetters:function(e,t){return s.extend({},n.createSetters(e,t),n.createGetters(e))}},t.exports=n},{"./make-getter":363,"./make-setter":364,"core-js/modules/es.array.reduce.js":206,"core-js/modules/es.function.name.js":214,underscore:320}],362:[function(e,t,r){"use strict";t.exports={DISABLED:"disabled",ANONYMOUS:"anonymous",USE_CREDENTIALS:"use-credentials"}},{}],363:[function(e,t,r){"use strict";t.exports=function(e){return function(){return this._opts[e]}}},{}],364:[function(e,t,r){"use strict";var s=e("underscore"),i=e("./setting-validator");t.exports=function(t,r,n){return function(e){return s.isUndefined(r)||i(t,r,e),this._opts[t]=e,n&&(this.emit("settingChanged",t,e),this.emit("settingChanged:"+t,e)),this}}},{"./setting-validator":365,underscore:320}],365:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.join.js");var s=n(e("@babel/runtime/helpers/typeof")),i=e("underscore");t.exports=function(e,t,r){var n=(0,s.default)(r);if(i.isString(t)&&n!==t)throw new Error("expected value for "+e+' to be of type "'+t+'", but it was "'+n+'"');if(i.isArray(t)&&!i.contains(t,r))throw new Error("expected value for "+e+' to be one of "'+t.join(", ")+'", but it was "'+n+'"');i.isFunction(t)&&t(e,n,r)}},{"@babel/runtime/helpers/interopRequireDefault":1,"@babel/runtime/helpers/typeof":2,"core-js/modules/es.array.join.js":202,underscore:320}],366:[function(e,t,r){"use strict";var n,s=e("underscore");n={SUBTITLES_OFF:"SUBTITLES_OFF",SUBTITLES_ANY:"SUBTITLES_ANY",SUBTITLES_BURNED_IN:"SUBTITLES_BURNED_IN",SUBTITLES_TEXT:"SUBTITLES_TEXT"},t.exports=s.extend(n,{shouldShowText:function(e){return s.contains([n.SUBTITLES_ANY,n.SUBTITLES_TEXT],e)}})},{underscore:320}],367:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.iterator.js");var n=e("underscore"),s=e("./base-config"),i=e("./subtitles-modes");t.exports={building:s.building,runtime:s.runtime.concat([{name:"playsInline",validate:"boolean",defaultValue:!1},{name:"subtitlesMode",validate:n.values(i),defaultValue:i.SUBTITLES_OFF},{name:"aspectRatio",validate:/^[0-9]+:[0-9]+$/,defaultValue:"16:9"},{name:"sizeClassBreakpoints",validate:"object",defaultValue:{"large-layout":600}}])},t.exports.all=t.exports.building.concat(t.exports.runtime)},{"./base-config":360,"./subtitles-modes":366,"core-js/modules/es.array.concat.js":193,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.object.to-string.js":226,"core-js/modules/web.dom-collections.iterator.js":276,underscore:320}],368:[function(e,t,r){"use strict";var n=e("class.extend");t.exports=n.extend({init:function(e,t){this._el=e,this._onChangeFn=t},startListening:function(){var e,t=this._el.parentNode;if("undefined"==typeof MutationObserver||this._mutationObserver)return null;e=function(){this._el.parentNode!==t&&(this._onChangeFn(),this.stopListening(),this.startListening())}.bind(this),this._el.parentNode&&(this._mutationObserver=new MutationObserver(e),this._mutationObserver.observe(this._el.parentNode,{childList:!0}))},stopListening:function(){this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null)}})},{"class.extend":30}],369:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.match.js"),e("core-js/modules/es.parse-float.js"),e("core-js/modules/es.string.replace.js");var n=e("underscore");t.exports={getIOSVersion:function(){var e,t=/iP(hone|od|ad)/.test(navigator.platform),r=navigator.userAgent;return!!(t&&r&&n.isString(r)&&(e=r.match(/CPU.*OS (\d+_\d+).*AppleWebKit/)))&&parseFloat(e[1].replace(/_/g,"."))},isOnSmartTV:function(){var e=navigator.userAgent;return n.isString(e)&&/smart-?tv/i.test(e)}}},{"core-js/modules/es.parse-float.js":227,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.string.match.js":236,"core-js/modules/es.string.replace.js":238,underscore:320}],370:[function(e,t,r){"use strict";t.exports={PREF_MAX_RESOLUTION:"mediaPlayer-pref--maxResolution"}},{}],371:[function(e,t,r){"use strict";t.exports={convertHTMLEntitiesToUnicode:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}}},{}],372:[function(e,t,r){"use strict";var n=e("underscore"),s=e("../configuration/audio-config"),i=e("../configuration/configurator").createGettersAndSetters(s.runtime,!0),a=e("./BaseMediaPlayer");t.exports=a.extend(n.extend({},i,{_getControlBarComponents:function(){return[{name:"playbackGroup",componentClass:"componentGroup",className:"vjs-playback-group",children:["playToggle",{name:"previousButton",mediaPlayer:this},{name:"nextButton",mediaPlayer:this}]},"customControlSpacer",{name:"progressGroup",componentClass:"componentGroup",className:"vjs-progress-group",children:["currentTimeDisplay","progressControl","durationDisplay"]},{name:"settingsGroup",componentClass:"componentGroup",className:"vjs-settings-group",children:[{name:"volumePanel",inline:!1},"chromecastButton","airPlayButton"]}]},_createMediaElement:function(){return document.createElement("audio")}}))},{"../configuration/audio-config":359,"../configuration/configurator":361,"./BaseMediaPlayer":373,underscore:320}],373:[function(t,e,r){"use strict";t("core-js/modules/es.array.join.js"),t("core-js/modules/es.array.reduce.js"),t("core-js/modules/es.array.filter.js"),t("core-js/modules/es.array.reverse.js"),t("core-js/modules/es.array.map.js");var u=t("underscore"),a=t("q"),n=t("class.extend"),c=t("./lib/playerEvents"),s=t("../lib/browser"),i=t("@silvermine/video.js"),o=t("../configuration/subtitles-modes"),l=t("../configuration/cross-origin-modes"),d=t("./lib/SeekOperation"),p=t("./lib/PlaylistChanger"),h=t("@silvermine/event-emitter"),f=t("../translation/translation-string-keys"),m=t("../translation/ensure-default-translation-strings"),y=t("../translation/map-to-implementation-translation-string-format");function g(e,t){return this._behaviors.push({type:t,behavior:e}),e.bind(this),this}t("@silvermine/videojs-quality-selector")(i),t("@silvermine/videojs-chromecast")(i,{preloadWebComponents:!0}),t("@silvermine/videojs-airplay")(i),t("../components/ComponentGroup"),t("../components/PreviousButton"),t("../components/NextButton"),e.exports=n.extend(u.extend({},h,{init:function(e,t){this._el=e,this._opts=t,this._behaviors=[],this._currentItemIndex=-1,this._isPlayerReady=!1,this._isItemFromPlaylistQueued=!1,this._hasCurrentItemPlayed=!1,this._isReadyEventEmitNeeded=!0,this._playlist=this._opts.playlist,this._translationStrings=!1,this._locale=t.defaultLocale,this._hasLoadStartFired=!1,this._isPlayerImplementationSeeking=!1,this.on([c.PLAYER_READY,c.PLAYLIST_READY,c.PLAYER_STATE_CHANGED].join(" "),function(){this._isReadyEventEmitNeeded&&this.isReady()&&(this.emit(c.READY),this._isReadyEventEmitNeeded=!1)},this),this.on(c.ITEM_PLAYING,function(){this._hasCurrentItemPlayed=!0},this),this.on(c.SEEK_STARTED,function(){this._isPlayerImplementationSeeking=!0},this),this.on(c.SEEK_ENDED,function(){this._isPlayerImplementationSeeking=!1},this),this._createNewPlayerImplementation().then(function(){this._addInternalBehaviors(),u.each(t.externalBehaviors||[],this.addBehavior.bind(this)),this._loadCurrentPlaylist()}.bind(this)).catch(this._handleError.bind(this,"PLAYER_SETUP_ERROR")).done()},_createNewPlayerImplementation:function(){return this._loadTranslationStrings().then(function(){var e=!1;this._isItemFromPlaylistQueued=!1,this._player&&(this._destroyImplementation(),e=!0),this._player=this._constructImplementation(),e&&this.emit(c.PLAYER_IMPLEMENTATION_CHANGED)}.bind(this))},_loadTranslationStrings:function(){var e=this.getTranslationStringsProvider();return a(e.getTranslationStrings(this._locale)).then(m).then(function(e){this._translationStrings=e}.bind(this)).catch(function(e){this.emit(c.TRANSLATION_STRINGS_PROVIDER_ERROR,e),this._translationStrings=m({})}.bind(this)).then(function(){return this._translationStrings}.bind(this))},_destroyImplementation:function(){this._player&&(this._isPlayerReady=!1,this._player.dispose(),this._player=null)},_loadCurrentPlaylist:function(){this.getPlaylist()&&this.prepareToChangePlaylist(this.getPlaylist()).then(function(e){e.queueItem(0)}).done()},_constructImplementation:function(){var e,t,r=this._createMediaElement();return this._opts.crossOriginMode===l.DISABLED?r.removeAttribute("crossorigin"):r.setAttribute("crossorigin",this._opts.crossOriginMode),r.className=r.className+" video-js vjs-default-skin",this._el.appendChild(r),e={controls:this._opts.controlInterfaceEnabled,language:this._locale,autoplay:this._opts.autoPlayEnabled,muted:this._opts.muted,preload:this._getPreloadValue(),aspectRatio:this._opts.aspectRatio,fluid:!0,notSupportedMessage:f.msgMediaNotSupported,html5:{nativeAudioTracks:!1,nativeVideoTracks:!1,hls:{overrideNative:!0}},techOrder:["chromecast","html5"],chromecast:{requestTitleFn:this._getTitleOfCurrentItem.bind(this)},plugins:{chromecast:{addButtonToControlBar:!1},airPlay:{addButtonToControlBar:!1}},controlBar:{children:this._getControlBarComponents()}},u.isEmpty(this._opts.defaultPoster)||(e.poster=this._opts.defaultPoster),this._translationStrings&&(e.languages={},e.languages[this._locale]=y(this._translationStrings)),e=this._modifyPlayerOptions(e),(t=i(r,e,void 0)).ready(function(){this._isPlayerReady=!0,this.emit(c.PLAYER_READY)}.bind(this)),t.on("loadstart",function(){this._hasLoadStartFired=!0}.bind(this)),t},_getPreloadValue:function(){var e=s.getIOSVersion();return 9<=e&&e<11?"metadata":s.isOnSmartTV()?"metadata":"none"},_getControlBarComponents:function(){return[]},_getTitleOfCurrentItem:function(){var e=this.getCurrentItem();return e?e.getTitle():null},_createMediaElement:function(){},_modifyPlayerOptions:function(e){return e},_handleError:function(e,t){if(t){if(t.isHandled)return;t.isHandled=!0}this.emit(c.ERROR,t,e||"UNKNOWN")},_handleAndThrowError:function(e,t){throw this._handleError(e,t),t},_queuePlaylistItem:function(n,e,t,r){var s,i,a=this.getCurrentItemIndex(),o=this.getPlaylist(),l=this.isPlaying();return!(!o||!o.isLoaded())&&((!this._indexIsOutOfBounds(n)||!1!==(n=u.reduce(u.pluck(this._behaviors,"behavior"),function(e,t){var r;return!1!==e?e:!1!==(r=t.respondToOutOfBoundsQueueItemRequest(this,a,n))&&!this._indexIsOutOfBounds(r)&&r}.bind(this),!1)))&&(!!(i=o.getItemAt(n))&&(this._currentItemIndex=n,this._updatePlayerSources(this._getSourcesFor(i),a===n),this._isItemFromPlaylistQueued=!0,s=i.getPosterURL()||this._opts.defaultPoster,this._player.poster()!==s&&this._player.poster(s),this._resetTextSubtitlesConfig(i),this._player.ready(function(){this.emit(c.PLAYER_STATE_CHANGED),n!==a&&(this.emit(c.CURRENT_ITEM_CHANGED,i,n),this._hasCurrentItemPlayed=!1),(t||e&&l)&&this.play(r)}.bind(this),!0),!0)))},_updatePlayerSources:function(e,t){var r=this.getImplementation().currentSources(),n=u.isEqual(e,r);return!(n&&!t)&&(this._player.paused()||(function(){var e=u.once(this.emit.bind(this,c.PLAYER_STATE_CHANGED));this.once(c.PLAYBACK_PAUSED,e,this),setTimeout(e,500)}.bind(this)(),this.pause()),this._hasLoadStartFired=!1,this._player.src(e),!n)},_getSourcesFor:function(e,t){var r,n,s=null,i=null,a=null;return e?(n=u.findWhere(this.getImplementation().currentSources(),{src:this.getImplementation().src()}),0===(r=u.chain(e.getSources(this._opts.subtitlesMode)).sortBy("_resolution").reverse().filter(this._opts.sourceFilterFn||u.identity).value()).length?[]:(u.isFunction(this._opts.sourceSelectionFn)&&(s=this._opts.sourceSelectionFn(r)),r=u.map(r,function(e){return{src:e.getURL(),type:e.getMimeType(),label:e.getLabel()||e.getResolution()}}),n&&(i=u.findWhere(r,{label:n.label})),t&&i?a=i:s?a=u.findWhere(r,{src:s.getURL()}):!t&&i&&(a=i),a?a.selected=!0:r[0].selected=!0,r)):null},_resetTextSubtitlesConfig:function(e){e.getTextSubtitlesURL()&&void 0===u.findWhere(this._player.remoteTextTrackEls(),{src:e.getTextSubtitlesURL()})&&this._player.addRemoteTextTrack({src:e.getTextSubtitlesURL(),label:this._translationStrings?this._translationStrings.lblEnhancedSubtitles:""},!1),this._resetTextTrackVisibility()},_resetTextTrackVisibility:function(){var r;this._isPlayerImplementationSeeking||(o.shouldShowText(this._opts.subtitlesMode)&&(r=this._findPreferredTextTrack()),u.each(this._player.textTracks(),function(e){var t=e===r?"showing":"disabled";e.mode!==t&&(e.mode=t)}))},_findPreferredTextTrack:function(){var e,t;return(e=u.first(this._player.remoteTextTrackEls()))&&(t=e.track),t},_indexIsOutOfBounds:function(e){return e<0||e>=this.getPlaylist().getNumberOfItems()},_addInternalBehaviors:function(){var e;e=[t("../behaviors/SettingPropagatorBehavior"),t("../behaviors/PlaybackStatusEventsBehavior"),t("../behaviors/SeekingEventsBehavior"),t("../behaviors/TimeUpdateEventBehavior"),t("../behaviors/PlaylistEndedEventBehavior"),t("../behaviors/AutoAdvanceBehavior"),t("../behaviors/PlaylistLoopBehavior"),t("../behaviors/FireMarkerEventsBehavior"),t("../behaviors/AutoPlayDisablingBehavior"),t("../behaviors/SubtitlesModeUpdateBehavior"),t("../behaviors/FullScreenEventsBehavior"),t("../behaviors/ProbablyKeyboardFocusClassAddingBehavior"),t("../behaviors/PlayerSizeClassBehavior"),t("../behaviors/FireVolumeChangeEvents"),t("../behaviors/RepositionSubtitlesOnResizeBehavior"),t("../behaviors/QualitySelectorEventsBehavior")],u.each(e,function(e){g.call(this,new e,"internal")}.bind(this))},addBehavior:function(e){return g.call(this,e,"external")},removeBehavior:function(e){var t=u.findWhere({type:"external",behavior:e});return e.unbind(this),this._behaviors=u.without(this._behaviors,t),this},clearBehaviors:function(){return this._removeBehaviorsOfType("external"),this},_removeAllBehaviors:function(){this._removeBehaviorsOfType("internal"),this._removeBehaviorsOfType("external")},_removeBehaviorsOfType:function(t){u.each(u.where(this._behaviors,{type:t}),function(e){e.behavior.unbind(this)},this),this._behaviors=u.reject(this._behaviors,function(e){return e.type===t})},isReady:function(){return this._isPlayerReady&&this._playlist&&this._playlist.isLoaded()&&this._isItemFromPlaylistQueued},play:function(e){if(this.isReady())return this._player.play(),u.isUndefined(e)||this.seek(e),this},pause:function(){return this._player.pause(),this},seek:function(e){return this.isReady()&&new d(this,e).seek(),this},playItemAt:function(e,t){var r=this._currentItemIndex;return t=u.isUndefined(t)?0:t,r===e?this.isPlaying()?this.seek(t):this.play(t):(this._queuePlaylistItem(e,!0,!0,t),this)},togglePlay:function(){return this.isPlaying()?this.pause():this.play()},isPlaying:function(){return!this._player.paused()},isPaused:function(){return this._player.paused()},getCurrentItemIndex:function(){return this._currentItemIndex},getCurrentItem:function(){var e=this.getPlaylist();return e&&e.isLoaded()?e.getItemAt(this.getCurrentItemIndex()):null},getCurrentItemDuration:function(){return this._isPlayerReady?this._player.duration():-1},getCurrentTime:function(){return this._isPlayerReady?this._player.currentTime():-1},nextItem:function(){return this._changeItemByOne(1)},previousItem:function(){return this._changeItemByOne(-1)},_changeItemByOne:function(e){var t=this._currentItemIndex;return this._queuePlaylistItem(this._currentItemIndex+e,!0)||this._queuePlaylistItem(t),this},destroy:function(){return this.off(),this._destroyImplementation(),this._removeAllBehaviors(),this._setPlaylist(null),this._el&&this._el.parentNode&&u.isFunction(this._el.parentNode.removeChild)&&this._el.parentNode.removeChild(this._el),this._el=null,this},getImplementation:function(){return this._player},getDOMElement:function(){return this._el},getOptions:function(){return u.extend({},this._opts)},supportsSubtitles:function(){return!1},getPlaylist:function(){return this._playlist},prepareToChangePlaylist:function(e){return this._loadPlaylist(e).then(function(){if(!this._isPlayerReady)return this._waitForPlayerToBeReadyAsPromise()}.bind(this)).then(function(){return new p(this,e)}.bind(this))},changePlaylistSynchronously:function(e){return this.isPaused()||this._handleAndThrowError("PLAYLIST_CHANGING_ERROR",new Error("The player must be paused before changing playlists synchronously. Call player.pause() and wait for the PLAYBACK_PAUSED event to be emitted before calling this function.")),new p(this,e)},_waitForPlayerToBeReadyAsPromise:function(){var e=a.defer();return this.once(c.PLAYER_READY,function(){e.resolve()}),e.promise},_loadPlaylist:function(e){return e.isLoaded()?a.when():a(e.loadItems()).catch(this._handleError.bind(this,"PLAYLIST_ERROR"))},_setPlaylist:function(e){if(this._player&&!this.isPaused()&&e)throw new Error("Cannot change the playlist while the player is playing. Pause the player first before calling _setPlaylist.");this._playlist&&e!==this._playlist&&(this._currentItemIndex=-1,this._isItemFromPlaylistQueued=!1,this._isReadyEventEmitNeeded=!0),this._playlist=e},updateSourceUsingCurrentItem:function(){var e,t,r=this.getCurrentItem();r&&(e=this.isPlaying(),t=this.getCurrentTime(),this._updatePlayerSources(this._getSourcesFor(r))&&this._resumePlaybackStateWhenReady(e,t))},_resumePlaybackStateWhenReady:function(e,t){this.getImplementation().ready(function(){e?this.play(0<t?t:void 0):0<t&&this.seek(t)}.bind(this))},changeInterfaceLanguage:function(e){var t,r,n,s,i;return this._locale===e?a.when():(t=this.isPlaying(),r=this.getCurrentTime(),n=this.getCurrentItemIndex(),s=this._player.volume(),i=this._player.muted(),this._pauseAndWaitForPauseAsPromise().then(function(){return this._isPlayerReady=!1,this._isReadyEventEmitNeeded=!0,this._locale=e,this._createNewPlayerImplementation()}.bind(this)).then(function(){this._player.ready(function(){this.emit(c.PLAYER_UI_LANGUAGE_CHANGED,e),this._player.volume(s),this._player.muted(i),-1!==n&&(t?(this.once(c.ITEM_PLAYING,this.seek.bind(this,Math.max(r,0))),this._queuePlaylistItem(n,!1,!0)):0<r?(this.once(c.ITEM_PLAYING,this.seek.bind(this,r)),this.once(c.SEEK_ENDED,this.pause.bind(this)),this._queuePlaylistItem(n,!1,!0)):this._queuePlaylistItem(n,!1,!1))}.bind(this))}.bind(this)))},_pauseAndWaitForPauseAsPromise:function(){var e=a.defer();return this.isPaused()?e.resolve():(this.once(c.PLAYBACK_PAUSED,function(){e.resolve()}),this.pause()),e.promise},shuffle:function(e){this._playlist&&(this._playlist.isLoaded()?e?(this._playlist._shuffleItems(this._currentItemIndex),this.emit(c.PLAYLIST_ITEM_ORDER_CHANGED)):this.isPlaying()?(this.once(c.PLAYBACK_PAUSED,function(){this._playlist._shuffleItems(),this._currentItemIndex=-1,this._queuePlaylistItem(0,!1,!0),this.emit(c.PLAYLIST_ITEM_ORDER_CHANGED)}.bind(this)),this.pause()):this.isPlaying()||(this._playlist._shuffleItems(),this._currentItemIndex=-1,this._queuePlaylistItem(0,!1,!1),this.emit(c.PLAYLIST_ITEM_ORDER_CHANGED)):this._shuffleWhenPlaylistIsReady(e))},_removePendingShuffle:function(){this._pendingShuffleFn&&this.off(c.PLAYLIST_READY,this._pendingShuffleFn,this)},_shuffleWhenPlaylistIsReady:function(e){this._pendingShuffleFn&&this._removePendingShuffle(),this._pendingShuffleFn=function(){this.shuffle(e)},this.once(c.PLAYLIST_READY,this._pendingShuffleFn,this)},unshuffle:function(){this._playlist&&(this._playlist.isLoaded()?(this._currentItemIndex=this._playlist._unshuffleItems(this._currentItemIndex),this.emit(c.PLAYLIST_ITEM_ORDER_CHANGED)):this._removePendingShuffle())},hasCurrentItemPlayed:function(){return this._hasCurrentItemPlayed},hasCurrentItemEnded:function(){return this._player.ended()},setMuted:function(e){return this._isPlayerReady&&e!==this.isMuted()&&this._player.muted(e),this},isMuted:function(){return this._player.muted()},setVolumeLevel:function(e){return this._isPlayerReady&&this._player.volume(e),this},getVolumeLevel:function(){return this._player.volume()}}))},{"../behaviors/AutoAdvanceBehavior":331,"../behaviors/AutoPlayDisablingBehavior":332,"../behaviors/FireMarkerEventsBehavior":334,"../behaviors/FireVolumeChangeEvents":335,"../behaviors/FullScreenEventsBehavior":336,"../behaviors/PlaybackStatusEventsBehavior":337,"../behaviors/PlayerSizeClassBehavior":338,"../behaviors/PlaylistEndedEventBehavior":339,"../behaviors/PlaylistLoopBehavior":340,"../behaviors/ProbablyKeyboardFocusClassAddingBehavior":341,"../behaviors/QualitySelectorEventsBehavior":342,"../behaviors/RepositionSubtitlesOnResizeBehavior":344,"../behaviors/SeekingEventsBehavior":345,"../behaviors/SettingPropagatorBehavior":346,"../behaviors/SubtitlesModeUpdateBehavior":347,"../behaviors/TimeUpdateEventBehavior":348,"../components/ComponentGroup":355,"../components/NextButton":356,"../components/PreviousButton":357,"../configuration/cross-origin-modes":362,"../configuration/subtitles-modes":366,"../lib/browser":369,"../translation/ensure-default-translation-strings":390,"../translation/map-to-implementation-translation-string-format":391,"../translation/translation-string-keys":397,"./lib/PlaylistChanger":375,"./lib/SeekOperation":376,"./lib/playerEvents":377,"@silvermine/event-emitter":3,"@silvermine/video.js":6,"@silvermine/videojs-airplay":9,"@silvermine/videojs-chromecast":15,"@silvermine/videojs-quality-selector":24,"class.extend":30,"core-js/modules/es.array.filter.js":196,"core-js/modules/es.array.join.js":202,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.reduce.js":206,"core-js/modules/es.array.reverse.js":207,q:314,underscore:320}],374:[function(e,t,r){"use strict";var n=e("underscore"),s=e("../configuration/video-config"),i=e("../configuration/configurator").createGettersAndSetters(s.runtime,!0),a=e("./BaseMediaPlayer");e("../components/SubtitlesToggle"),t.exports=a.extend(n.extend({},i,{_getControlBarComponents:function(){return[{name:"playbackGroup",componentClass:"componentGroup",className:"vjs-playback-group",children:["playToggle",{name:"previousButton",mediaPlayer:this},{name:"nextButton",mediaPlayer:this}]},"customControlSpacer",{name:"progressGroup",componentClass:"componentGroup",className:"vjs-progress-group",children:["currentTimeDisplay","progressControl","durationDisplay"]},{name:"settingsGroup",componentClass:"componentGroup",className:"vjs-settings-group",children:[{name:"volumePanel",inline:!1},{name:"subtitlesToggle",mediaPlayer:this},"qualitySelector","fullscreenToggle","chromecastButton","airPlayButton"]}]},_createMediaElement:function(){return document.createElement("video")},_modifyPlayerOptions:function(e){return e.playsinline=this._opts.playsInline,e},enterFullScreen:function(){return this._player.requestFullscreen(),this},exitFullScreen:function(){return this._player.exitFullscreen(),this},supportsSubtitles:function(){return!0}}))},{"../components/SubtitlesToggle":358,"../configuration/configurator":361,"../configuration/video-config":367,"./BaseMediaPlayer":373,underscore:320}],375:[function(e,t,r){"use strict";var n=e("class.extend"),s=e("./playerEvents");t.exports=n.extend({init:function(e,t){this._player=e,(this._playlist=t).isLoaded()||e._handleAndThrowError("PLAYLIST_CHANGING_ERROR",new Error("The new playlist is not loaded. Call playlist.loadItems() and wait for the promise to resolve, or use an already loaded playlist. Or, use the prepareToChangePlaylist function which handles loading the playlist for you.")),e._isPlayerReady||e._handleAndThrowError("PLAYLIST_CHANGING_ERROR",new Error("The player is not ready. Wait until the player is ready before changing playlists. You can wait for the player to be ready by listening to the PLAYER_READY event. Or, use the prepareToChangePlaylist function which handles waiting for the player to be ready before changing playlists."))},_changePlaylist:function(e){function t(){this._player._setPlaylist(this._playlist),this._player.emit(s.PLAYLIST_READY,this._playlist),e()}this._player.isPaused()?t.call(this):this._player._pauseAndWaitForPauseAsPromise().then(t.bind(this)).done()},queueItem:function(e){this._changePlaylist(this._player._queuePlaylistItem.bind(this._player,e,!1,!1))},play:function(e){this._changePlaylist(function(){this._player._queuePlaylistItem(0,!1,!0),this._player.play(e)}.bind(this))},playItemAt:function(e,t){this._changePlaylist(this._player.playItemAt.bind(this._player,e,t))}})},{"./playerEvents":377,"class.extend":30}],376:[function(e,t,r){"use strict";e("core-js/modules/es.number.constructor.js");var n=e("class.extend");t.exports=n.extend({init:function(e,t){this._mediaPlayer=e,this._playerImpl=e.getImplementation(),this._seekToTime=t,this._startingItemIndex=e.getCurrentItemIndex(),this._startingPlaylist=e.getPlaylist(),this._hasHLSItemFirstSeekEnded=!1,e._pendingSeekOperation&&e._pendingSeekOperation._cleanUp(),(e._pendingSeekOperation=this)._seekIfSafe=function(){this._isSafeToSeek()&&this._seek()}.bind(this),this._isCurrentItemHLS()&&!e._hasCurrentItemPlayed&&(this._onHLSItemFirstSeekEnded=function(){this._hasHLSItemFirstSeekEnded=!0}.bind(this),this._playerImpl.one("seeked",this._onHLSItemFirstSeekEnded)),this._onSeekOperationEnded=this._cleanUp.bind(this)},seek:function(){var e=0;this._isSafeToSeek()?this._seek():(this._playerImpl.on("durationchange",this._seekIfSafe),this._playerImpl.one("loadedmetadata",this._seekIfSafe),this._playerImpl.one("canplay",this._seekIfSafe),this._playerImpl.one("playing",this._seekIfSafe),this._playerImpl.one("canplaythrough",this._seekIfSafe),this._seekCheckInterval=setInterval(function(){100<e?clearInterval(this._seekCheckInterval):(e+=1,this._seekIfSafe())}.bind(this),100))},_seek:function(){var e=this._startingPlaylist!==this._mediaPlayer.getPlaylist(),t=this._startingItemIndex!==this._mediaPlayer.getCurrentItemIndex();e||t?this._cleanUp():(this._playerImpl.one("seeked",this._onSeekOperationEnded),this._playerImpl.currentTime(this._seekToTime),this._removeSeekChecks())},_isSafeToSeek:function(){return 0<this._playerImpl.tech(!0).duration()&&3<=this._playerImpl.readyState()&&this._mediaPlayer._hasLoadStartFired&&(!this._isCurrentItemHLSLive()||this._mediaPlayer._hasCurrentItemPlayed&&this._hasHLSItemFirstSeekEnded)},_isCurrentItemHLS:function(){var e=this._playerImpl.tech(!0).hls;return e&&e.stats&&!!e.stats.currentSource},_isCurrentItemHLSLive:function(){return this._isCurrentItemHLS()&&this._playerImpl.tech(!0).duration()===Number.POSITIVE_INFINITY},_cleanUp:function(){this._playerImpl.off("seeked",this._onSeekOperationEnded),this._onHLSItemFirstSeekEnded&&this._playerImpl.off("seeked",this._onHLSItemFirstSeekEnded),this._removeSeekChecks(),this._mediaPlayer._pendingSeekOperation=null},_removeSeekChecks:function(){clearInterval(this._seekCheckInterval),this._playerImpl.off("durationchange",this._seekIfSafe),this._playerImpl.off("loadedmetadata",this._seekIfSafe),this._playerImpl.off("canplay",this._seekIfSafe),this._playerImpl.off("playing",this._seekIfSafe),this._playerImpl.off("canplaythrough",this._seekIfSafe)}})},{"class.extend":30,"core-js/modules/es.number.constructor.js":216}],377:[function(e,t,r){"use strict";t.exports={SETTING_CHANGED:"settingChanged",CURRENT_ITEM_CHANGED:"currentItemChanged",ITEM_PLAYING:"itemPlaying",ITEM_QUALITY_CHANGE_REQUESTED:"itemQualityChangeRequested",PLAYBACK_PAUSED:"playbackPaused",PLAYER_STATE_CHANGED:"playerStateChanged",SEEK_STARTED:"seekStarted",SEEKING:"seeking",SEEK_ENDED:"seekEnded",TIME_CHANGED:"timeChanged",ERROR:"error",ITEM_ENDED:"itemEnded",PLAYLIST_ENDED:"playlistEnded",PLAYLIST_ITEM_ORDER_CHANGED:"playlistItemOrderChanged",PLAYLIST_READY:"playlistReady",PLAYER_READY:"playerReady",READY:"ready",MARKER_STARTED:"markerStarted",MARKER_ENDED:"markerEnded",FULL_SCREEN_ENTERED:"fullScreenEntered",FULL_SCREEN_EXITED:"fullScreenExited",PLAYER_IMPLEMENTATION_CHANGED:"playerImplementationChanged",PLAYER_UI_LANGUAGE_CHANGED:"playerUILanguageChanged",TRANSLATION_STRINGS_PROVIDER_ERROR:"translationStringsProviderError",MUTED:"muted",UNMUTED:"unmuted",VOLUME_LEVEL_CHANGED:"volumeLevelChanged"}},{}],378:[function(e,t,r){"use strict";e("core-js/modules/es.array.map.js"),e("core-js/modules/es.parse-int.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.array.find.js");var n=e("underscore"),s=e("../configuration/subtitles-modes"),i=e("./PlaylistItem"),a=e("./BaseRemoteDataSourcePlaylist"),o=["xl","lg","md","sm","xs"],l=["wsr","wss","lsr","lss","sqr","sqs"],u=["sqr","sqs"];t.exports=a.extend({mapMediaItemToPlaylistItem:function(e){var t={title:e.title,poster:this._findPoster(e.images)};return t.thumbnail=this._findPoster(e.images,u),t.textSubtitlesURL=this._pickSourceProperty(e.files,["subtitles","url"]),t.sources=n.chain(e.files).map(function(e){var t=n.isString(e.label)&&/^[0-9]{3,4}[pP]?$/.test(e.label);return{url:e.progressiveDownloadURL,mimetype:e.mimetype,resolution:t?parseInt(e.label.replace(/[pP]$/,""),10):void 0,subtitles:!!e.subtitled&&s.SUBTITLES_BURNED_IN,label:e.label}}).value(),i.fromObject(t)},_findPoster:function(t,e){var r;return r=n.find(e||l,function(e){return!!t[e]}),this._getLargestImage(t[r])},_getLargestImage:function(t){var e;if(t)return e=n.find(o,function(e){return!!t[e]}),t[e]}})},{"../configuration/subtitles-modes":366,"./BaseRemoteDataSourcePlaylist":380,"./PlaylistItem":385,"core-js/modules/es.array.find.js":198,"core-js/modules/es.array.map.js":204,"core-js/modules/es.parse-int.js":228,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.string.replace.js":238,underscore:320}],379:[function(e,t,r){"use strict";e("core-js/modules/es.array.find-index.js");var s=e("underscore"),n=e("class.extend");t.exports=n.extend({init:function(e){this._setItems(e)},_setItems:function(e){this._items=e||!1,this._itemIndexes=e?s.range(e.length):[]},loadItems:function(){return this._loadItemsImpl().then(function(e){return this._setItems(e),this._items}.bind(this))},_loadItemsImpl:function(){},isLoaded:function(){return!1!==this._items},getNumberOfItems:function(){return this.isLoaded()?this._items.length:-1},getItemAt:function(e){return this.isLoaded()&&0<=e&&e<this.getNumberOfItems()?this._items[this._itemIndexes[e]]:null},_shuffleItems:function(e){var t,r,n;this.isLoaded()&&(s.isNumber(e)?(t=this._itemIndexes[e],this._itemIndexes=s.shuffle(this._itemIndexes),r=this._itemIndexes[e],n=s.findIndex(this._itemIndexes,function(e){return e===t}),this._itemIndexes[n]=r,this._itemIndexes[e]=t):this._itemIndexes=s.shuffle(this._itemIndexes))},_unshuffleItems:function(e){var t=this._itemIndexes[e];return this.isLoaded()?(this._itemIndexes=s.range(this._items.length),t):-1}})},{"class.extend":30,"core-js/modules/es.array.find-index.js":197,underscore:320}],380:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.promise.js"),e("core-js/modules/es.array.filter.js"),e("core-js/modules/es.array.reduce.js");var n=e("underscore"),s=e("./BasePlaylist");t.exports=s.extend({init:function(e,t){this._super(),this._url=e,this._options=t||{}},_loadItemsImpl:function(){return this.getDataFrom(this._url,this._options.fetchOptions).then(this._mapResponseData.bind(this))},getDataFrom:function(e,t){return fetch(e,t).then(function(e){return e.json()})},_mapResponseData:function(){},_pickSourceProperty:function(e,t){var r;if(r=n.chain(e).filter(function(e){return n.reduce(t,function(e,t){return!!e&&e[t]},e)}).sortBy("label").last().value())return n.reduce(t,function(e,t){return e[t]},r)}})},{"./BasePlaylist":379,"core-js/modules/es.array.filter.js":196,"core-js/modules/es.array.reduce.js":206,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.promise.js":230,underscore:320}],381:[function(e,t,r){"use strict";e("core-js/modules/es.array.map.js");var n=e("underscore"),s=e("./BaseMediatorPlaylist");t.exports=s.extend({_mapResponseData:function(e){return n.map(e.category.media,this.mapMediaItemToPlaylistItem.bind(this))}})},{"./BaseMediatorPlaylist":378,"core-js/modules/es.array.map.js":204,underscore:320}],382:[function(e,t,r){"use strict";e("core-js/modules/es.array.map.js");var n=e("underscore"),s=e("./BaseMediatorPlaylist");t.exports=s.extend({_mapResponseData:function(e){return n.map(e.media,this.mapMediaItemToPlaylistItem.bind(this))}})},{"./BaseMediatorPlaylist":378,"core-js/modules/es.array.map.js":204,underscore:320}],383:[function(e,t,r){"use strict";var n=e("./BaseMediatorPlaylist");t.exports=n.extend({_mapResponseData:function(e){return e}})},{"./BaseMediatorPlaylist":378}],384:[function(e,t,r){"use strict";var n,s=e("underscore"),i=e("class.extend");(n=i.extend({init:function(e,t,r,n,s){this.setURL(e).setMimeType(t).setResolution(r).setSubtitlesMode(n).setLabel(s)},setURL:function(e){if(s.isEmpty(e))throw new Error("URL can not be empty");return this._url=e,this._guessMimeType(),this},getURL:function(){return this._url},setMimeType:function(e){return this._mimetype=e,this._guessMimeType(),this},getMimeType:function(){return this._mimetype},_guessMimeType:function(){s.isEmpty(this._mimetype)&&!s.isEmpty(this._url)&&(/\.mp4($|\?)/i.test(this._url)?this._mimetype="video/mp4":/\.m4v($|\?)/i.test(this._url)?this._mimetype="video/x-m4v":/\.mp3($|\?)/i.test(this._url)?this._mimetype="audio/mpeg":/\.m3u8($|\?)/i.test(this._url)&&(this._mimetype="application/x-mpegURL"))},setLabel:function(e){return this._label=e,this},getLabel:function(){return this._label},setResolution:function(e){return this._resolution=e,this},getResolution:function(){return this._resolution},setSubtitlesMode:function(e){return this._subtitlesMode=e||!1,this},getSubtitlesMode:function(){return this._subtitlesMode}})).fromObject=function(e){var t=new n(e.url,e.mimetype,e.resolution,e.subtitles,e.label);return s.extend(t,s.omit(e,"url","mimetype","resolution","subtitles","label")),t},t.exports=n},{"class.extend":30,underscore:320}],385:[function(e,t,r){"use strict";e("core-js/modules/es.array.find.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.array.filter.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.match.js"),e("core-js/modules/es.array.reduce.js"),e("core-js/modules/es.array.reverse.js"),e("core-js/modules/es.string.split.js"),e("core-js/modules/es.parse-float.js"),e("core-js/modules/es.number.to-fixed.js");var n,o=e("underscore"),s=e("class.extend"),l=e("../configuration/subtitles-modes"),i=e("./PlayableSource"),a=/^(\d+:)?([0-5]\d:)?[0-5]\d(\.\d+)?$/;(n=s.extend({init:function(e,t,r,n,s){this.setTitle(e).setSources(t).setPosterURL(r).setTextSubtitlesURL(n).setMarkers(s)},setTitle:function(e){return this._title=e,this},getTitle:function(){return this._title},setSources:function(e){return this._sources=o.isArray(e)?e:[],this},getSources:function(e){var t,r,n,s=e===l.SUBTITLES_BURNED_IN,i=e===l.SUBTITLES_ANY,a=this.hasTextSubtitles();return e?(n=o.groupBy(this._sources,function(e){return e.getSubtitlesMode()===l.SUBTITLES_BURNED_IN?"burnedIn":"other"}),t=!o.isEmpty(n.burnedIn),r=!o.isEmpty(n.other),s&&t||t&&!r||i&&!a&&t?n.burnedIn:n.other):this._sources},setPosterURL:function(e){return this._posterURL=e,this},getPosterURL:function(){return this._posterURL},setTextSubtitlesURL:function(e){return this._textSubtitlesURL=e,this},getTextSubtitlesURL:function(){return this._textSubtitlesURL},hasSubtitles:function(){return this.hasTextSubtitles()||this.hasBurnedInSubtitles()},hasBurnedInSubtitles:function(){return o.find(this._sources,function(e){return e.getSubtitlesMode()===l.SUBTITLES_BURNED_IN})},hasTextSubtitles:function(){return!o.isEmpty(this.getTextSubtitlesURL())},setMarkers:function(e){return this._markers=o.chain(e).filter(function(e){return o.isObject(e)&&e.startTime&&e.startTime.match(a)&&e.duration&&e.duration.match(a)}).map(function(e){var t=this._parseMarkerTime(e.startTime),r=this._parseMarkerTime(e.duration);return o.extend({},e,{startTimeInSeconds:this._roundToDecimalPlaces(t,3),durationInSeconds:this._roundToDecimalPlaces(r,3),endTimeInSeconds:this._roundToDecimalPlaces(t+r,3)})}.bind(this)).value(),this},_parseMarkerTime:function(e){return o.reduce(e.split(":").reverse(),function(e,t,r){return e+parseFloat(t,10)*Math.pow(60,r)},0)},_roundToDecimalPlaces:function(e,t){return parseFloat(e.toFixed(t),10)},getMarkers:function(){return this._markers}})).fromObject=function(e){var t=o.map(e.sources,i.fromObject.bind(i)),r=new n(e.title,t,e.poster,e.textSubtitlesURL,e.markers);return o.extend(r,o.omit(e,"title","sources","poster","textSubtitlesURL","markers")),r},t.exports=n},{"../configuration/subtitles-modes":366,"./PlayableSource":384,"class.extend":30,"core-js/modules/es.array.filter.js":196,"core-js/modules/es.array.find.js":198,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.reduce.js":206,"core-js/modules/es.array.reverse.js":207,"core-js/modules/es.number.to-fixed.js":217,"core-js/modules/es.parse-float.js":227,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.string.match.js":236,"core-js/modules/es.string.split.js":240,underscore:320}],386:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.iterator.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.array.filter.js"),e("core-js/modules/es.parse-int.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js");var a=e("underscore"),o=e("../configuration/subtitles-modes"),l=e("./PlaylistItem"),n=e("./BaseRemoteDataSourcePlaylist");t.exports=n.extend({_mapResponseData:function(e){var t=a.first(a.keys(e.files));return a.chain(e.files[t]).values().flatten().filter(function(e){return"application/zip"!==e.mimetype}).sortBy("track").groupBy("track").values().map(this._mapItem.bind(this,e)).value()},_mapItem:function(e,t){var r=a.sortBy(t,"label"),n=a.last(t),s={title:n.title},i=this._pickSourceProperty(t,["markers"]);return n.trackImage&&(s.poster=n.trackImage.url),i&&(s.markers=a.chain(a.union([i.introduction],i.markers)).filter(a.isObject).map(function(e){return a.extend(e,{bibleBookNumber:i.bibleBookNumber,bibleBookChapter:i.bibleBookChapter})})),s.textSubtitlesURL=this._pickSourceProperty(t,["subtitles","url"]),s.sources=a.map(r,function(e){return{url:e.file.url,mimetype:e.mimetype,resolution:parseInt(e.label.replace(/[pP]$/,""),10),subtitles:!!e.subtitled&&o.SUBTITLES_BURNED_IN,label:e.label}}),l.fromObject(s)}})},{"../configuration/subtitles-modes":366,"./BaseRemoteDataSourcePlaylist":380,"./PlaylistItem":385,"core-js/modules/es.array.filter.js":196,"core-js/modules/es.array.iterator.js":201,"core-js/modules/es.array.map.js":204,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.parse-int.js":228,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.string.replace.js":238,"core-js/modules/web.dom-collections.iterator.js":276,underscore:320}],387:[function(e,t,r){"use strict";e("core-js/modules/es.array.map.js");var n=e("underscore"),s=e("q"),i=e("./BasePlaylist"),a=e("./PlaylistItem");t.exports=i.extend({init:function(e){this._super(n.map(e,a.fromObject.bind(a)))},_loadItemsImpl:function(){return s.when(this._items)}})},{"./BasePlaylist":379,"./PlaylistItem":385,"core-js/modules/es.array.map.js":204,q:314,underscore:320}],388:[function(e,t,r){"use strict";t.exports={BasePlaylist:e("./BasePlaylist"),Simple:e("./SimplePlaylist"),BaseRemoteDataSource:e("./BaseRemoteDataSourcePlaylist"),PubMedia:e("./PubMediaPlaylist"),BaseMediator:e("./BaseMediatorPlaylist"),MediatorMediaItems:e("./MediatorMediaItemsPlaylist"),MediatorCategory:e("./MediatorCategoryPlaylist"),MediatorStreaming:e("./MediatorStreamingChannelPlaylist")}},{"./BaseMediatorPlaylist":378,"./BasePlaylist":379,"./BaseRemoteDataSourcePlaylist":380,"./MediatorCategoryPlaylist":381,"./MediatorMediaItemsPlaylist":382,"./MediatorStreamingChannelPlaylist":383,"./PubMediaPlaylist":386,"./SimplePlaylist":387}],389:[function(e,t,r){"use strict";t.exports={btnAirPlay:"Start AirPlay",btnChromecast:"Open Chromecast menu",btnDisableFullScreen:"Disable full-screen",btnDisableSubtitles:"Disable subtitles",btnEnableSubtitles:"Enable subtitles",btnEnableFullScreen:"Enable full-screen",btnMute:"Mute",btnNext:"Next",btnPause:"Pause",btnPlay:"Play",btnPlayVideo:"Play video",btnPrevious:"Previous",btnQualitySelector:"Open quality selector menu",btnReplay:"Replay",btnSelectedQualityItem:", selected",btnUnmute:"Unmute",lblAudioPlayer:"Audio player",lblCurrentTime:"Current time",lblDurationTime:"Duration time",lblEnhancedSubtitles:"Enhanced Subtitles",lblLoaded:"Loaded",lblMediaIsLoading:"Media is loading",lblProgress:"Progress",lblProgressBar:"Progress bar",lblProgressBarTiming:"%1$s of %2$s",lblVideoPlayer:"Video player",lblVolumeLevel:"Volume level",msgMediaNotSupported:"No compatible source was found for this media."}},{}],390:[function(e,t,r){"use strict";var n=e("./default-translation-strings"),s=e("underscore");t.exports=function(e){return s.defaults(s.extend({},e),n)}},{"./default-translation-strings":389,underscore:320}],391:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.match.js"),e("core-js/modules/es.array.filter.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.array.reduce.js");var n=e("./translation-string-keys"),i=e("../lib/strings"),a=e("underscore"),o=e("sprintf-js").vsprintf;t.exports=function(s){return a.reduce(n,function(e,t,r){var n=function(t){var e,r,n=/%([0-9]{1,})\$s/;if(!t)return t;if(!(e=t.match(/%[0-9]{1,}\$s/g)))return t;r=a.chain(e).map(function(e){var t=e.match(n);return t&&t[1]?"{"+t[1]+"}":null}).filter(a.identity).value();try{return o(t,r)}catch(e){return t}}(s[r]);return e[t]=i.convertHTMLEntitiesToUnicode(n),e},{})}},{"../lib/strings":371,"./translation-string-keys":397,"core-js/modules/es.array.filter.js":196,"core-js/modules/es.array.map.js":204,"core-js/modules/es.array.reduce.js":206,"core-js/modules/es.regexp.exec.js":232,"core-js/modules/es.string.match.js":236,"sprintf-js":316,underscore:320}],392:[function(e,t,r){"use strict";var n=e("class.extend");t.exports=n.extend({getTranslationStrings:function(e){return this._getTranslationStringsImpl(e)},_getTranslationStringsImpl:function(){}})},{"class.extend":30}],393:[function(e,t,r){"use strict";var n=e("underscore"),s=e("./BaseTranslationStringsProvider"),i=e("../default-translation-strings"),a=e("q");t.exports=s.extend({_getTranslationStringsImpl:function(){return a.when(n.extend({},i))}})},{"../default-translation-strings":389,"./BaseTranslationStringsProvider":392,q:314,underscore:320}],394:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.promise.js");var n=e("underscore"),s=e("./BaseTranslationStringsProvider");t.exports=s.extend({init:function(e,t){this._translationStringsBaseURL=e||"https://b.jw-cdn.org/apis/mediator/v1/translations/",this._languagesURL=t||"https://b.jw-cdn.org/apis/mediator/v1/languages/E/all"},_getTranslationStringsImpl:function(e){return this._getLanguageCodeForLocale(e).then(this._fetchTranslationStrings.bind(this))},_fetchTranslationStrings:function(t){return this._getJSON(this._getTranslationsURL(t)).then(function(e){return e.translations[t]||{}})},_getTranslationsURL:function(e){var t=this._translationStringsBaseURL;return"/"===t[t.length-1]?t+e:t+"/"+e},_getLanguageCodeForLocale:function(r){return this._fetchLanguages().then(function(e){var t=n.findWhere(e,{locale:r});if(!t)throw new Error("Invalid locale: "+r);return t.code})},_fetchLanguages:function(){return this._getJSON(this._languagesURL).then(function(e){return e.languages||[]})},_getJSON:function(e){return fetch(e).then(function(e){return e.json()})}})},{"./BaseTranslationStringsProvider":392,"core-js/modules/es.object.to-string.js":226,"core-js/modules/es.promise.js":230,underscore:320}],395:[function(e,t,r){"use strict";var n=e("./BaseTranslationStringsProvider"),s=e("q");t.exports=n.extend({init:function(){this._translationStrings={}},_getTranslationStringsImpl:function(e){return s.when(this._translationStrings[e]||{})},setTranslationStringsForLocale:function(e,t){this._translationStrings[e]=t}})},{"./BaseTranslationStringsProvider":392,q:314}],396:[function(e,t,r){"use strict";t.exports={BaseTranslationStringsProvider:e("./BaseTranslationStringsProvider"),DefaultTranslationStringsProvider:e("./DefaultTranslationStringsProvider"),Remote:e("./RemoteTranslationStringsProvider"),Simple:e("./SimpleTranslationStringsProvider")}},{"./BaseTranslationStringsProvider":392,"./DefaultTranslationStringsProvider":393,"./RemoteTranslationStringsProvider":394,"./SimpleTranslationStringsProvider":395}],397:[function(e,t,r){"use strict";t.exports={btnAirPlay:"Start AirPlay",btnChromecast:"Open Chromecast menu",btnDisableFullScreen:"Non-Fullscreen",btnDisableSubtitles:"Disable subtitles",btnEnableSubtitles:"Enable subtitles",btnEnableFullScreen:"Fullscreen",btnMute:"Mute",btnNext:"Next",btnPause:"Pause",btnPlay:"Play",btnPlayVideo:"Play Video",btnPrevious:"Previous",btnQualitySelector:"Open quality selector menu",btnReplay:"Replay",btnSelectedQualityItem:", selected",btnUnmute:"Unmute",lblAudioPlayer:"Audio Player",lblCurrentTime:"Current Time",lblDurationTime:"Duration Time",lblLoaded:"Loaded",lblMediaIsLoading:"{1} is loading.",lblProgress:"Progress",lblProgressBar:"Progress Bar",lblProgressBarTiming:"progress bar timing: currentTime={1} duration={2}",lblVideoPlayer:"Video Player",lblVolumeLevel:"Volume Level",msgMediaNotSupported:"No compatible source was found for this media."}},{}]},{},[330])(330)});
//# sourceMappingURL=media-player.min.js.map